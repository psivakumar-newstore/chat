Migrating from Customer Profile API v1 to v2
NewStore Introduction
NewStore basics
Business process models
Hardware and software
Glossary
Mobile POS
Get to know your mPOS
Set up your mPOS
Set up omnichannel services
Engage your customers
Use your mPOS
Manage your mPOS
OMS
Get to know your OMS
Set up your OMS
Expand your OMS
Dashboards and analytics
Shopping App
Get to know your Shopping App
Customize your Shopping App
Developer Resources
Managing data in NewStore
Data reconciliation and completeness playbook
Get started with NewStore APIs
Event consumption and handling
Build custom integrations
API Reference
Omnichannel Manager tools
Platform onboarding guide
End-User Guides
Associate App User Guide
Omnichannel Manager User Guide
Search or ask anything
EXPLORE ARTICLES
Migrating from Customer Profile API v1 to v2
Updated on
Dec 30, 2024
Published on Oct 1, 2024
1 minute(s) read
Listen
Export PDF
Print
Prev
Next
To read more about the two versions of the Customer Profile API, see the OpenAPI specifications provided here:
v1 documentation
v2 documentation
Pre-requisites
Before you start the migration process, ensure that you have:
Checked current API calls to
customer_profile v1
from your integration
Found the impacted fields as listed in the sections below.
List of changes
Authentication
The authentication process for V2 is different then v1. Check the following links to get started with it:
Getting started
Authorization
Request customer profile deletion
To request a customer profile deletion in
v2
you'll use need to use this
POST method
instead of this
POST method
in
v1
. with the following body:
{
    "operation": "delete"
}
Tokenize and Detokenize endpoints replaced by the Tokens method
Tokenize
and
detokenize
methods have been replaced by the
v2
tokens method
.
Tokens method
The endpoint receives
operation
as query parameter. The possible operation values are:
Tokenize
Tokenizes PII data that is not related to a profile, tokens are only valid for 30 days. This is the operation you should use to replace the old tokenize endpoint.
Detokenize
Detokenizes a list of tokens for profiles, addresses, or data entries. This is the operation you should use to replace the old detokenize endpoint.
Some minor changes to the request body and response. It receives a
data
attribute for both operations and returns
data
and
errors
attributes for both operations.
The request body is:
{
    "data": {
        "key1": "foo",
        "key2": "bar"
    }
}
The request response is:
{
    "data": {
        "key1": "john.doe@example.org"
    },
    "errors": {
        "key2": "token_not_found_error"
    }
}
Related topics
Configuring customizations in NewStore Associate App
Consumer Profile API v1 documentation
Consumer Profile API v2 documentation
Was this article helpful?
Yes
No
Tags
api
consumer
customer
customer profile
developer
migration
newstore platform
v1 to v2
About Us
Newsroom
Careers
Platform
Mobile POS
Omnichannel OMS
Shopping App
Hardware and Software
Stories
Point of Sale
Mobile Checkout
Endless Aisle
Clienteling
Developers
API Reference
Developer Portal
API updates
Deprecation notices
Support
Support Portal
Status
Still have questions?
We’re here to help you!
Follow Us
Platform Status
Privacy Notice for Applicants
Privacy Policy
Terms of Use