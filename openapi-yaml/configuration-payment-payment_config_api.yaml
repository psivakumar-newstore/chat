openapi: 3.0.0
info:
  title: Payment Config API
  description: Use this API to manage Payment configuration.
  version: '1'
servers:
  - url: https://dodici.x.newstore.net/v1/p
paths:
  /config/adyen_adapter:
    get:
      summary: Adyen adapter configuration
      description: Returns the configuration of the adyen adapter.
      operationId: getAdyenAdapterConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The Adyen adapter configuration.
          content:
            application/json:
              schema:
                title: Configurations of the adyen adapter.
                type: object
                description: Describes the adyen_adapter (PSP adapter).
                properties:
                  config:
                    type: array
                    description: >-
                      Contains the list of configurations supported by the
                      adapter.
                    items:
                      type: object
                      description: >-
                        The configuration defines how the adapter will behave
                        when it receives a request with a merchant account
                        defined in the list of `merchant_accounts`.
                      required:
                        - endpoint
                        - capture_delay
                        - merchant_accounts
                      additionalProperties: false
                      properties:
                        endpoint:
                          type: string
                          description: >-
                            Adyen Payments API base URL. Example:
                            'https://pal-test.adyen.com/pal/servlet/Payment/[version]'.
                        assume_refund_successful:
                          type: boolean
                          description: >-
                            When set to true refunds will be marked as
                            successful in NOM without waiting for Adyen's
                            confirmation.
                        assume_unreferenced_refund_successful:
                          type: boolean
                          description: >-
                            When set to true unreferenced refunds will be marked
                            as successful in NOM without waiting for Adyen's
                            confirmation.
                        assume_void_successful:
                          type: boolean
                          description: >-
                            When set to true voids (revokes of payment
                            authorizations) will be marked as successful without
                            waiting for Adyen's confirmation.
                        wait_for_auth_notification:
                          type: boolean
                          description: >-
                            When set to true will make the adapter wait for the
                            authentication webhook from Adyen. Important: This
                            might delay the checkout process when set to True.
                        capture_delay:
                          type: string
                          enum:
                            - manual
                            - immediate
                          description: >-
                            Defines if payments should be manually captured.
                            Should conform to what is configured on the Adyen
                            portal.
                        immediate_capture_payment_methods:
                          type: array
                          description: >-
                            List of always-precaptured payment methods, for
                            which capture requests should not be forwarded to
                            the provider.
                          items:
                            type: string
                            description: 'Example: `alipay`'
                        provider_name:
                          type: string
                          description: >-
                            Provider name as configured in fat_psp ->
                            external_providers. Example: `adyen`.
                        merchant_accounts:
                          type: array
                          description: >-
                            The list of merchant accounts sharing this
                            configuration.
                          items:
                            type: string
                            description: >-
                              The Adyen POS merchant account. Use "*" to set
                              this configuration as default.
                        order_placement_delay:
                          type: integer
                          description: >-
                            Defines the delay in seconds for placing the order
                            if the order is still in a draft state after the
                            payment notification has been received.
                          maximum: 10
                        track_revoke_requests:
                          type: boolean
                          description: >-
                            Ensures revoke requests for immediate capture
                            payments are represented as refunds in NOM and
                            events. This does not affect the actual operation on
                            the payment instrument. **Enabled by default.**
                        timeout:
                          type: integer
                          description: API client timeout in seconds.
              examples:
                AdyenAdapterConfiguration:
                  value:
                    config:
                      - timeout: 10
                        provider_name: adyen
                        order_placement_delay: 4
                        merchant_accounts:
                          - '*'
                        immediate_capture_payment_methods:
                          - alipay
                          - wechatpay_pos
                        endpoint: >-
                          https://pal-test.adyen.com/pal/servlet/Payment/[version]
                        capture_delay: manual
                        assume_refund_successful: false
                        assume_unreferenced_refund_successful: false
                        assume_void_successful: false
                        wait_for_auth_notification: false
    put:
      summary: Update adyen adapter configuration
      description: Updates the configuration of the adyen adapter.
      operationId: putAdyenAdapterConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations of the adyen adapter.
              type: object
              description: Describes the adyen_adapter (PSP adapter).
              properties:
                config:
                  type: array
                  description: >-
                    Contains the list of configurations supported by the
                    adapter.
                  items:
                    type: object
                    description: >-
                      The configuration defines how the adapter will behave when
                      it receives a request with a merchant account defined in
                      the list of `merchant_accounts`.
                    required:
                      - endpoint
                      - capture_delay
                      - merchant_accounts
                    additionalProperties: false
                    properties:
                      endpoint:
                        type: string
                        description: >-
                          Adyen Payments API base URL. Example:
                          'https://pal-test.adyen.com/pal/servlet/Payment/[version]'.
                      assume_refund_successful:
                        type: boolean
                        description: >-
                          When set to true refunds will be marked as successful
                          in NOM without waiting for Adyen's confirmation.
                      assume_unreferenced_refund_successful:
                        type: boolean
                        description: >-
                          When set to true unreferenced refunds will be marked
                          as successful in NOM without waiting for Adyen's
                          confirmation.
                      assume_void_successful:
                        type: boolean
                        description: >-
                          When set to true voids (revokes of payment
                          authorizations) will be marked as successful without
                          waiting for Adyen's confirmation.
                      wait_for_auth_notification:
                        type: boolean
                        description: >-
                          When set to true will make the adapter wait for the
                          authentication webhook from Adyen. Important: This
                          might delay the checkout process when set to True.
                      capture_delay:
                        type: string
                        enum:
                          - manual
                          - immediate
                        description: >-
                          Defines if payments should be manually captured.
                          Should conform to what is configured on the Adyen
                          portal.
                      immediate_capture_payment_methods:
                        type: array
                        description: >-
                          List of always-precaptured payment methods, for which
                          capture requests should not be forwarded to the
                          provider.
                        items:
                          type: string
                          description: 'Example: `alipay`'
                      provider_name:
                        type: string
                        description: >-
                          Provider name as configured in fat_psp ->
                          external_providers. Example: `adyen`.
                      merchant_accounts:
                        type: array
                        description: >-
                          The list of merchant accounts sharing this
                          configuration.
                        items:
                          type: string
                          description: >-
                            The Adyen POS merchant account. Use "*" to set this
                            configuration as default.
                      order_placement_delay:
                        type: integer
                        description: >-
                          Defines the delay in seconds for placing the order if
                          the order is still in a draft state after the payment
                          notification has been received.
                        maximum: 10
                      track_revoke_requests:
                        type: boolean
                        description: >-
                          Ensures revoke requests for immediate capture payments
                          are represented as refunds in NOM and events. This
                          does not affect the actual operation on the payment
                          instrument. **Enabled by default.**
                      timeout:
                        type: integer
                        description: API client timeout in seconds.
            examples:
              Adyen Adapter config request:
                value:
                  config:
                    - timeout: 10
                      provider_name: adyen
                      order_placement_delay: 4
                      merchant_accounts:
                        - '*'
                      immediate_capture_payment_methods:
                        - alipay
                        - wechatpay_pos
                      endpoint: https://pal-test.adyen.com/pal/servlet/Payment/[version]
                      capture_delay: manual
                      assume_refund_successful: false
                      assume_unreferenced_refund_successful: false
                      assume_void_successful: false
                      wait_for_auth_notification: false
      responses:
        '200':
          description: The operation was successful.
  /config/adyen_adapter/history:
    get:
      summary: Audit history for Adyen Adapter configuration
      description: >-
        Returns a list of the current and all previous values for the Adyen
        Adapter configuration.
      operationId: getAdyenAdapterConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the Adyen Adapter configuration
          content:
            application/json:
              schema:
                title: Adyen Adapter configuration audit.
                description: >-
                  Current configuration values for Adyen Adapter and its
                  previous versions with change information.
                type: object
                properties:
                  config:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: array
                          description: >-
                            Contains the list of configurations supported by the
                            adapter.
                          items:
                            type: object
                            description: >-
                              The configuration defines how the adapter will
                              behave when it receives a request with a merchant
                              account defined in the list of
                              `merchant_accounts`.
                            required:
                              - endpoint
                              - capture_delay
                              - merchant_accounts
                            additionalProperties: false
                            properties:
                              endpoint:
                                type: string
                                description: >-
                                  Adyen Payments API base URL. Example:
                                  'https://pal-test.adyen.com/pal/servlet/Payment/[version]'.
                              assume_refund_successful:
                                type: boolean
                                description: >-
                                  When set to true refunds will be marked as
                                  successful in NOM without waiting for Adyen's
                                  confirmation.
                              assume_unreferenced_refund_successful:
                                type: boolean
                                description: >-
                                  When set to true unreferenced refunds will be
                                  marked as successful in NOM without waiting
                                  for Adyen's confirmation.
                              assume_void_successful:
                                type: boolean
                                description: >-
                                  When set to true voids (revokes of payment
                                  authorizations) will be marked as successful
                                  without waiting for Adyen's confirmation.
                              wait_for_auth_notification:
                                type: boolean
                                description: >-
                                  When set to true will make the adapter wait
                                  for the authentication webhook from Adyen.
                                  Important: This might delay the checkout
                                  process when set to True.
                              capture_delay:
                                type: string
                                enum:
                                  - manual
                                  - immediate
                                description: >-
                                  Defines if payments should be manually
                                  captured. Should conform to what is configured
                                  on the Adyen portal.
                              immediate_capture_payment_methods:
                                type: array
                                description: >-
                                  List of always-precaptured payment methods,
                                  for which capture requests should not be
                                  forwarded to the provider.
                                items:
                                  type: string
                                  description: 'Example: `alipay`'
                              provider_name:
                                type: string
                                description: >-
                                  Provider name as configured in fat_psp ->
                                  external_providers. Example: `adyen`.
                              merchant_accounts:
                                type: array
                                description: >-
                                  The list of merchant accounts sharing this
                                  configuration.
                                items:
                                  type: string
                                  description: >-
                                    The Adyen POS merchant account. Use "*" to
                                    set this configuration as default.
                              order_placement_delay:
                                type: integer
                                description: >-
                                  Defines the delay in seconds for placing the
                                  order if the order is still in a draft state
                                  after the payment notification has been
                                  received.
                                maximum: 10
                              track_revoke_requests:
                                type: boolean
                                description: >-
                                  Ensures revoke requests for immediate capture
                                  payments are represented as refunds in NOM and
                                  events. This does not affect the actual
                                  operation on the payment instrument. **Enabled
                                  by default.**
                              timeout:
                                type: integer
                                description: API client timeout in seconds.
              examples:
                AdyenAdapterConfigurationHistory:
                  value:
                    config:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '2019-12-25T00:00:00Z'
                        current: true
                        value:
                          - timeout: 10
                            provider_name: adyen
                            order_placement_delay: 4
                            merchant_accounts:
                              - '*'
                            immediate_capture_payment_methods:
                              - alipay
                              - wechatpay_pos
                            endpoint: >-
                              https://pal-test.adyen.com/pal/servlet/Payment/[version]
                            capture_delay: manual
                            assume_refund_successful: false
                            assume_unreferenced_refund_successful: false
                            assume_void_successful: false
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '2019-12-12T14:30:00Z'
                        value:
                          - timeout: 100
                            provider_name: adyen
                            order_placement_delay: 4
                            merchant_accounts:
                              - '*'
                            immediate_capture_payment_methods:
                              - alipay
                              - wechatpay_pos
                            endpoint: >-
                              https://pal-test.adyen.com/pal/servlet/Payment/[version]
                            capture_delay: manual
                            assume_refund_successful: false
                            assume_unreferenced_refund_successful: false
                            assume_void_successful: false
  /config/cash_drawer:
    get:
      summary: Cash drawer configuration
      description: Returns the configuration of the cash drawer.
      operationId: getCashDrawerConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The Cash drawer configuration.
          content:
            application/json:
              schema:
                title: Configurations for cash management.
                type: object
                description: Set of configurations for cash management.
                properties:
                  expose_count_expected_amount:
                    type: boolean
                    description: >-
                      When set to true the API will return the expected amount
                      when responding to a record count request.
              examples:
                CashDrawerConfiguration:
                  value:
                    expose_count_expected_amount: true
    put:
      summary: Update cash drawer configuration
      description: Updates the configuration of cash drawer.
      operationId: putCashDrawerConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations for cash management.
              type: object
              description: Set of configurations for cash management.
              properties:
                expose_count_expected_amount:
                  type: boolean
                  description: >-
                    When set to true the API will return the expected amount
                    when responding to a record count request.
            examples:
              Cash Drawer config request:
                value:
                  expose_count_expected_amount: true
      responses:
        '200':
          description: The operation was successful.
  /config/cash_drawer/history:
    get:
      summary: Audit history for Cash Drawer configuration
      description: >-
        Returns a list of the current and all previous values for the Cash
        Drawer configuration.
      operationId: getCashDrawerConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the Cash Drawer configuration
          content:
            application/json:
              schema:
                title: Cash Drawer configuration audit.
                description: >-
                  Current configuration values for Cash Drawer and its previous
                  versions with change information.
                type: object
                properties:
                  expose_count_expected_amount:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: boolean
                          description: >-
                            When set to true the API will return the expected
                            amount when responding to a record count request.
              examples:
                CashDrawerConfigurationHistory:
                  value:
                    expose_count_expected_amount:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: true
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: false
  /config/fat_psp:
    get:
      summary: FAT PSP configuration
      description: Returns the configuration of fat psp.
      operationId: getFATPSPConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The FAT PSP configuration.
          content:
            application/json:
              schema:
                title: Configurations for PSP integrations.
                type: object
                description: Set of configurations used to communicate with PSPs.
                properties:
                  braintree_partial_settlement_enabled:
                    description: >-
                      Feature flag to enable or disable the partial settlement
                      feature.
                    type: boolean
                  external_providers:
                    description: >-
                      Map of available external payment providers that are being
                      called via http.
                    additionalProperties:
                      properties:
                        callback_url:
                          description: The callback url of the provider.
                          type: string
                        timeout:
                          description: >-
                            The maximum time a request should take on this
                            provider.
                          type: number
                        api_key:
                          description: >-
                            An API Key to be sent as an Authorization header
                            along with the request to the external provider
                          type: string
                      type: object
                    type: object
                  internal_providers:
                    description: >-
                      Map of available payment providers that are being called
                      internally via rpc.
                    additionalProperties:
                      properties:
                        endpoint:
                          description: >-
                            For RPC endpoints, the event name of the provider,
                            in the format <service_name>.<method> (ex:
                            store_credit.execute). For gRPC ones, a complete
                            gRPC endpoint, in the format
                            /<namespace>.<serviceName>/<method> (ex:
                            /store_credit.StoreCredit/Execute)
                          type: string
                        protocol:
                          default: rpc
                          description: Protocol used to communicate with the internal PSP.
                          enum:
                            - grpc
                            - rpc
                          type: string
                        timeout:
                          description: >-
                            The maximum time a request should take on this
                            provider. We do not use the provided timeout
                            directly, but allow to overwrite in the service
                            config.
                          type: number
                      type: object
                    type: object
              examples:
                FATPSPConfiguration:
                  value:
                    external_providers:
                      adyen:
                        callback_url: adyen_adapter
                        timeout: 60
                      gift_card:
                        callback_url: >-
                          https://cdm9ij5w28.execute-api.us-east-1.amazonaws.com/x
                        timeout: 600
                      cybersource:
                        callback_url: >-
                          https://k237thc08.execute-api.us-east-1.amazonaws.com/x
                        timeout: 600
                        api_key: RNTMN123AQT50
                    internal_providers:
                      square:
                        endpoint: /psp_square.PSPSquare/Execute
                        protocol: grpc
                        timeout: 30
                      store_credit:
                        endpoint: /store_credit.StoreCredit/Execute
                        protocol: grpc
                        timeout: 30
    put:
      summary: Update FAT PSP configuration
      description: Updates the configuration of fat psp.
      operationId: putFATPSPConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations for PSP integrations.
              type: object
              description: Set of configurations used to communicate with PSPs.
              properties:
                braintree_partial_settlement_enabled:
                  description: >-
                    Feature flag to enable or disable the partial settlement
                    feature.
                  type: boolean
                external_providers:
                  description: >-
                    Map of available external payment providers that are being
                    called via http.
                  additionalProperties:
                    properties:
                      callback_url:
                        description: The callback url of the provider.
                        type: string
                      timeout:
                        description: >-
                          The maximum time a request should take on this
                          provider.
                        type: number
                      api_key:
                        description: >-
                          An API Key to be sent as an Authorization header along
                          with the request to the external provider
                        type: string
                    type: object
                  type: object
                internal_providers:
                  description: >-
                    Map of available payment providers that are being called
                    internally via rpc.
                  additionalProperties:
                    properties:
                      endpoint:
                        description: >-
                          For RPC endpoints, the event name of the provider, in
                          the format <service_name>.<method> (ex:
                          store_credit.execute). For gRPC ones, a complete gRPC
                          endpoint, in the format
                          /<namespace>.<serviceName>/<method> (ex:
                          /store_credit.StoreCredit/Execute)
                        type: string
                      protocol:
                        default: rpc
                        description: Protocol used to communicate with the internal PSP.
                        enum:
                          - grpc
                          - rpc
                        type: string
                      timeout:
                        description: >-
                          The maximum time a request should take on this
                          provider. We do not use the provided timeout directly,
                          but allow to overwrite in the service config.
                        type: number
                    type: object
                  type: object
            examples:
              FAT PSP config request:
                value:
                  external_providers:
                    adyen:
                      callback_url: adyen_adapter
                      timeout: 60
                    gift_card:
                      callback_url: https://cdm9ij5w28.execute-api.us-east-1.amazonaws.com/x
                      timeout: 600
                    cybersource:
                      callback_url: https://k237thc08.execute-api.us-east-1.amazonaws.com/x
                      timeout: 600
                      api_key: RNTMN123AQT50
                  internal_providers:
                    square:
                      endpoint: /psp_square.PSPSquare/Execute
                      protocol: grpc
                      timeout: 30
                    store_credit:
                      endpoint: /store_credit.StoreCredit/Execute
                      protocol: grpc
                      timeout: 30
      responses:
        '200':
          description: The operation was successful.
  /config/fat_psp/history:
    get:
      summary: Audit history for FAT PSP configuration
      description: >-
        Returns a list of the current and all previous values for the FAT PSP
        configuration.
      operationId: getFatPspConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the FAT PSP configuration
          content:
            application/json:
              schema:
                title: FAT PSP configuration audit.
                description: >-
                  Current configuration values for FAT PSP and its previous
                  versions with change information.
                type: object
                properties:
                  braintree_partial_settlement_enabled:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: >-
                            Feature flag to enable or disable the partial
                            settlement feature.
                          type: boolean
                  external_providers:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: >-
                            Map of available external payment providers that are
                            being called via http.
                          additionalProperties:
                            properties:
                              callback_url:
                                description: The callback url of the provider.
                                type: string
                              timeout:
                                description: >-
                                  The maximum time a request should take on this
                                  provider.
                                type: number
                              api_key:
                                description: >-
                                  An API Key to be sent as an Authorization
                                  header along with the request to the external
                                  provider
                                type: string
                            type: object
                          type: object
                  internal_providers:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: >-
                            Map of available payment providers that are being
                            called internally via rpc.
                          additionalProperties:
                            properties:
                              endpoint:
                                description: >-
                                  For RPC endpoints, the event name of the
                                  provider, in the format
                                  <service_name>.<method> (ex:
                                  store_credit.execute). For gRPC ones, a
                                  complete gRPC endpoint, in the format
                                  /<namespace>.<serviceName>/<method> (ex:
                                  /store_credit.StoreCredit/Execute)
                                type: string
                              protocol:
                                default: rpc
                                description: >-
                                  Protocol used to communicate with the internal
                                  PSP.
                                enum:
                                  - grpc
                                  - rpc
                                type: string
                              timeout:
                                description: >-
                                  The maximum time a request should take on this
                                  provider. We do not use the provided timeout
                                  directly, but allow to overwrite in the
                                  service config.
                                type: number
                            type: object
                          type: object
              examples:
                FatPspConfigurationHistory:
                  value:
                    external_providers:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          adyen:
                            callback_url: adyen_adapter
                            timeout: 60
                          gift_card:
                            callback_url: >-
                              https://cdm9ij5w28.execute-api.us-east-1.amazonaws.com/x
                            timeout: 600
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          adyen:
                            callback_url: adyen_adapter
                            timeout: 600
                          gift_card:
                            callback_url: >-
                              https://cdm9ij5w28.execute-api.us-east-1.amazonaws.com/x
                            timeout: 6000
                    internal_providers:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          square:
                            endpoint: /psp_square.PSPSquare/Execute
                            protocol: grpc
                            timeout: 30
                          store_credit:
                            endpoint: /store_credit.StoreCredit/Execute
                            protocol: grpc
                            timeout: 30
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          square:
                            endpoint: /psp_square.PSPSquare/Execute
                            protocol: grpc
                            timeout: 300
                          store_credit:
                            endpoint: /store_credit.StoreCredit/Execute
                            protocol: grpc
                            timeout: 300
  /config/gift_card:
    get:
      summary: Gift card configuration
      description: Returns the configuration of gift card.
      operationId: getGiftCardConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The gift card configuration.
          content:
            application/json:
              schema:
                title: Configurations for gift card integrations.
                type: object
                description: >-
                  Set of configurations used to integrate with a gift card
                  provider.
                required:
                  - provider
                properties:
                  provider:
                    type: object
                    description: provider configuration for the tenant
                    required:
                      - name
                    properties:
                      name:
                        type: string
                        description: >-
                          The name of the provider. Mainly used for logging
                          purposes
                      endpoint:
                        type: string
                        description: >-
                          The root endpoint for the provider integration. The
                          /gift_card/ path is appended by the caller
                      timeout:
                        type: number
                        description: >-
                          The maximum time in seconds we are waiting for the
                          response from the provider.
                      api_key:
                        description: >-
                          An API Key to be sent as an Authorization header along
                          with the request to the gift card provider
                        type: string
                      gift_card_ids:
                        type: array
                        description: >-
                          A list of gift card product identifiers that will be
                          matched exactly during gift card activation.
                        items:
                          type: string
                      pii_proxy:
                        type: string
                        enum:
                          - EU
                        description: >-
                          If provided, regional PII proxy will be used instead
                          of calling endpoint directly, customer data will be
                          omitted in requests and responses and profile_id
                          header will be used instead.
                  store_configurations:
                    type: object
                    description: gift card store configuration for the tenant
                    required:
                      - cash_out_enabled
                      - store_mapping
                    properties:
                      cash_out_enabled:
                        type: boolean
                        description: >-
                          Whether cashing out gift cards should be enabled by
                          default
                      store_mapping:
                        type: array
                        description: >-
                          Store-specific gift card configurations. It overrides
                          the defaults for the configured store.
                        items:
                          type: object
                          required:
                            - store_id
                            - cash_out_enabled
                          additionalProperties: false
                          properties:
                            store_id:
                              type: string
                              minLength: 1
                              description: >-
                                The NewStore identifier for the store. It is
                                usually a UUID.
                            cash_out_enabled:
                              type: boolean
                              description: >-
                                Whether cashing out gift cards should be enabled
                                for this store
              examples:
                GiftCardConfiguration:
                  value:
                    provider:
                      endpoint: https://cdm9ij5w28.execute-api.us-east-1.amazonaws.com/x
                      gift_card_ids:
                        - '2000081'
                      name: gift_card
                      timeout: 15
                      api_key: RNTMN123AQT50
                    store_configurations:
                      cash_out_enabled: false
                      store_mapping:
                        - store_id: US01
                          cash_out_enabled: true
    put:
      summary: Update gift card configuration
      description: Updates the configuration of gift card.
      operationId: putGiftCardConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations for gift card integrations.
              type: object
              description: >-
                Set of configurations used to integrate with a gift card
                provider.
              required:
                - provider
              properties:
                provider:
                  type: object
                  description: provider configuration for the tenant
                  required:
                    - name
                  properties:
                    name:
                      type: string
                      description: >-
                        The name of the provider. Mainly used for logging
                        purposes
                    endpoint:
                      type: string
                      description: >-
                        The root endpoint for the provider integration. The
                        /gift_card/ path is appended by the caller
                    timeout:
                      type: number
                      description: >-
                        The maximum time in seconds we are waiting for the
                        response from the provider.
                    api_key:
                      description: >-
                        An API Key to be sent as an Authorization header along
                        with the request to the gift card provider
                      type: string
                    gift_card_ids:
                      type: array
                      description: >-
                        A list of gift card product identifiers that will be
                        matched exactly during gift card activation.
                      items:
                        type: string
                    pii_proxy:
                      type: string
                      enum:
                        - EU
                      description: >-
                        If provided, regional PII proxy will be used instead of
                        calling endpoint directly, customer data will be omitted
                        in requests and responses and profile_id header will be
                        used instead.
                store_configurations:
                  type: object
                  description: gift card store configuration for the tenant
                  required:
                    - cash_out_enabled
                    - store_mapping
                  properties:
                    cash_out_enabled:
                      type: boolean
                      description: >-
                        Whether cashing out gift cards should be enabled by
                        default
                    store_mapping:
                      type: array
                      description: >-
                        Store-specific gift card configurations. It overrides
                        the defaults for the configured store.
                      items:
                        type: object
                        required:
                          - store_id
                          - cash_out_enabled
                        additionalProperties: false
                        properties:
                          store_id:
                            type: string
                            minLength: 1
                            description: >-
                              The NewStore identifier for the store. It is
                              usually a UUID.
                          cash_out_enabled:
                            type: boolean
                            description: >-
                              Whether cashing out gift cards should be enabled
                              for this store
            examples:
              Gift Card config request:
                value:
                  provider:
                    endpoint: https://cdm9ij5w28.execute-api.us-east-1.amazonaws.com/x
                    gift_card_ids:
                      - '2000081'
                    name: gift_card
                    timeout: 15
                    api_key: RNTMN123AQT50
                  store_configurations:
                    cash_out_enabled: false
                    store_mapping:
                      - store_id: US01
                        cash_out_enabled: true
      responses:
        '200':
          description: The operation was successful.
  /config/gift_card/history:
    get:
      summary: Audit history for Gift Card configuration
      description: >-
        Returns a list of the current and all previous values for the Gift Card
        configuration.
      operationId: getGiftCardConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the Gift Card configuration
          content:
            application/json:
              schema:
                title: Gift Card configuration audit.
                description: >-
                  Current configuration values for Gift Card and its previous
                  versions with change information.
                type: object
                properties:
                  provider:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: object
                          description: provider configuration for the tenant
                          required:
                            - name
                          properties:
                            name:
                              type: string
                              description: >-
                                The name of the provider. Mainly used for
                                logging purposes
                            endpoint:
                              type: string
                              description: >-
                                The root endpoint for the provider integration.
                                The /gift_card/ path is appended by the caller
                            timeout:
                              type: number
                              description: >-
                                The maximum time in seconds we are waiting for
                                the response from the provider.
                            api_key:
                              description: >-
                                An API Key to be sent as an Authorization header
                                along with the request to the gift card provider
                              type: string
                            gift_card_ids:
                              type: array
                              description: >-
                                A list of gift card product identifiers that
                                will be matched exactly during gift card
                                activation.
                              items:
                                type: string
                            pii_proxy:
                              type: string
                              enum:
                                - EU
                              description: >-
                                If provided, regional PII proxy will be used
                                instead of calling endpoint directly, customer
                                data will be omitted in requests and responses
                                and profile_id header will be used instead.
                  store_configurations:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: object
                          description: gift card store configuration for the tenant
                          required:
                            - cash_out_enabled
                            - store_mapping
                          properties:
                            cash_out_enabled:
                              type: boolean
                              description: >-
                                Whether cashing out gift cards should be enabled
                                by default
                            store_mapping:
                              type: array
                              description: >-
                                Store-specific gift card configurations. It
                                overrides the defaults for the configured store.
                              items:
                                type: object
                                required:
                                  - store_id
                                  - cash_out_enabled
                                additionalProperties: false
                                properties:
                                  store_id:
                                    type: string
                                    minLength: 1
                                    description: >-
                                      The NewStore identifier for the store. It
                                      is usually a UUID.
                                  cash_out_enabled:
                                    type: boolean
                                    description: >-
                                      Whether cashing out gift cards should be
                                      enabled for this store
              examples:
                GiftCardConfigurationHistory:
                  value:
                    provider:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          endpoint: >-
                            https://cdm9ij5w28.execute-api.us-east-1.amazonaws.com/x
                          gift_card_ids:
                            - '2000081'
                          name: gift_card
                          timeout: 15
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          endpoint: >-
                            https://cdm9ij5w28.execute-api.us-east-1.amazonaws.com/x
                          gift_card_ids:
                            - '2000081'
                          name: gift_card
                          timeout: 150
                    store_configurations:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          cash_out_enabled: true,
                          store_mapping:
                            - store_id: US01
                              cash_out_enabled: false
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          cash_out_enabled: false,
                          store_mapping: []
  /config/nom:
    get:
      summary: Payment NOM configuration
      description: >-
        Returns the NOM configuration. If no configuration was set, the example
        payload will be returned as the default response.
      operationId: getNOMConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The NOM configuration for the payment context.
          content:
            application/json:
              schema:
                title: Configurations for NOM.
                type: object
                description: Set of payment configurations for NOM.
                properties:
                  transaction_details_urls:
                    type: object
                    description: >-
                      Map of key/value where the key is the provider name and
                      the value is the base url for payment links.
              examples:
                NOMConfiguration:
                  value:
                    transaction_details_urls:
                      adyen: >-
                        https://ca-test.adyen.com/ca/ca/accounts/showTx.shtml?txType=Payment&pspReference=
                      paypal: >-
                        https://sandbox.paypal.com/cgi-bin/webscr?cmd=_view-a-trans&id=
                      stripe: https://dashboard.stripe.com/test/payments/
                      vzero: >-
                        https://sandbox.paypal.com/cgi-bin/webscr?cmd=_view-a-trans&id=
    put:
      summary: Update NOM configuration
      description: Updates the payment configuration of NOM.
      operationId: putNOMConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations for NOM.
              type: object
              description: Set of payment configurations for NOM.
              properties:
                transaction_details_urls:
                  type: object
                  description: >-
                    Map of key/value where the key is the provider name and the
                    value is the base url for payment links.
            examples:
              NOMConfiguration:
                value:
                  transaction_details_urls:
                    adyen: >-
                      https://ca-test.adyen.com/ca/ca/accounts/showTx.shtml?txType=Payment&pspReference=
                    paypal: >-
                      https://sandbox.paypal.com/cgi-bin/webscr?cmd=_view-a-trans&id=
                    stripe: https://dashboard.stripe.com/test/payments/
                    vzero: >-
                      https://sandbox.paypal.com/cgi-bin/webscr?cmd=_view-a-trans&id=
      responses:
        '200':
          description: The operation was successful.
  /config/nom/history:
    get:
      summary: Audit history for NOM configuration
      description: >-
        Returns a list of the current and all previous values for the NOM
        configuration.
      operationId: getNOMConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the NOM configuration
          content:
            application/json:
              schema:
                title: NOM configuration audit.
                description: >-
                  Current configuration values for NOM and its previous versions
                  with change information.
                type: object
                properties:
                  transaction_details_urls:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: object
                          description: >-
                            Map of key/value where the key is the provider name
                            and the value is the base url for payment links.
              examples:
                NOMConfigurationHistory:
                  value:
                    transaction_details_urls:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          adyen: >-
                            https://ca-test.adyen.com/ca/ca/accounts/showTx.shtml?txType=Payment&pspReference=
                          paypal: >-
                            https://sandbox.paypal.com/cgi-bin/webscr?cmd=_view-a-trans&id=
                          stripe: https://dashboard.stripe.com/test/payments/
                          vzero: >-
                            https://sandbox.paypal.com/cgi-bin/webscr?cmd=_view-a-trans&id=
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          adyen: >-
                            https://ca-test.adyen.com/ca/ca/accounts/showTx.shtml?txType=Payment&pspReference=
                          paypal: >-
                            https://sandbox.paypal.com/cgi-bin/webscr?cmd=_view-a-trans&id=
                          stripe: https://dashboard.stripe.com/test/payments/
                          vzero: >-
                            https://staging.paypal.com/cgi-bin/webscr?cmd=_view-a-trans&id=
  /config/newstore_checkout:
    get:
      summary: NewStore Checkout configuration
      description: Returns the configuration of NewStore Checkout.
      operationId: getNewStoreCheckoutConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The NewStore Checkout configuration.
          content:
            application/json:
              schema:
                title: Configurations for the NewStore Checkout integration.
                type: object
                description: Set of configurations used by NewStore Checkout.
                properties:
                  http_timeout:
                    type: integer
                    default: 10000
                    description: >-
                      Maximum waiting time in milliseconds for an external HTTP
                      request. MUST be smaller than gRPC timeout.
                  encryption_pass_phrase:
                    type: string
                    description: >-
                      Pass phrase used by the hash algorithm to generate the
                      cart token.
                  supported_payment_methods:
                    type: array
                    description: Payment methods that are supported by the retailer
                    items:
                      type: string
                  tenant_url:
                    type: string
                    description: >-
                      The URL to the tenant website displayed to the customer
                      when the payment completes.
                  tenant_url_label:
                    type: string
                    description: >-
                      The label that should be used instead of the website URL
                      for the link when the payment completes.
                  wallets:
                    description: Digital wallet configuration.
                    type: object
                    properties:
                      apple_pay:
                        type: object
                        required:
                          - url
                          - display_name
                          - domain_name
                          - merchant_identifier
                        properties:
                          url:
                            description: >-
                              The url that is called in order to create a new
                              Apple Pay Session.
                            type: string
                            minLength: 1
                          display_name:
                            description: >-
                              The label that should be displayed on the Apple
                              Pay button.
                            type: string
                          domain_name:
                            description: >-
                              The URL verified on Apple's website, enabled to
                              perform Apple Pay payments.
                            type: string
                            minLength: 1
                          merchant_identifier:
                            description: >-
                              The merchant identifier configured on Apple's
                              website, enabled to perform payments.
                            type: string
                            minLength: 1
                          supported_networks:
                            description: >-
                              Configuration of supported payment networks for
                              ApplePay.
                            type: object
                            properties:
                              default:
                                description: >-
                                  List of supported payment networks, can be
                                  overwritten with the merchant account
                                  configuration.
                                type: array
                                default:
                                  - visa
                                  - masterCard
                                  - amex
                                  - discover
                                items:
                                  type: string
                                  minLength: 1
                                  enum:
                                    - amex
                                    - cartesBancaires
                                    - chinaUnionPay
                                    - discover
                                    - eftpos
                                    - electron
                                    - elo
                                    - interac
                                    - jcb
                                    - mada
                                    - maestro
                                    - masterCard
                                    - privateLabel
                                    - visa
                                    - vPay
                                  description: >-
                                    The supported payment network. Example:
                                    visa.
                              merchant_accounts:
                                description: >-
                                  List of supported payment network per merchant
                                  account, overrides the 'default' config.
                                type: array
                                items:
                                  type: object
                                  required:
                                    - merchant_account
                                    - supported_networks
                                  properties:
                                    merchant_account:
                                      type: string
                                      minLength: 1
                                      description: The Adyen merchant account.
                                    supported_networks:
                                      type: array
                                      description: >-
                                        List of supported payment networks for
                                        the merchant account.
                                      items:
                                        type: string
                                        minLength: 1
                                        enum:
                                          - amex
                                          - cartesBancaires
                                          - chinaUnionPay
                                          - discover
                                          - eftpos
                                          - electron
                                          - elo
                                          - interac
                                          - jcb
                                          - mada
                                          - maestro
                                          - masterCard
                                          - privateLabel
                                          - visa
                                          - vPay
                                        description: >-
                                          The supported payment network. Example:
                                          visa
                      google_pay:
                        type: object
                        required:
                          - merchant_identifier
                        properties:
                          merchant_identifier:
                            description: >-
                              The merchant identifier configured on Google Pay's
                              business console. Required for production
                              environments.
                            type: string
                            minLength: 1
                      paypal:
                        type: object
                        required:
                          - merchant_identifier
                        properties:
                          merchant_identifier:
                            description: The merchant identifier configured on Paypal.
                            type: string
                            minLength: 1
                  payment_methods:
                    description: Payment methods configuration.
                    type: object
                    properties:
                      scheme:
                        type: object
                        required:
                          - capture_billing_address
                        properties:
                          capture_billing_address:
                            description: >-
                              Set to true to display the address form to the
                              shopper paying with cards.
                            type: boolean
                  psps:
                    description: Payment Service Provider configuration.
                    type: object
                    properties:
                      adyen:
                        type: object
                        required:
                          - base_url
                        properties:
                          base_url:
                            description: The base url used to call Adyen.
                            type: string
                            minLength: 1
                  enable_web_drop_in:
                    type: boolean
                    description: Indicates wether the Adyen Web DropIn should be used.
                    default: false
              examples:
                NewStoreCheckoutConfiguration:
                  value:
                    http_timeout: 600
                    encryption_pass_phrase: you can use any random value
                    supported_payment_methods:
                      - applepay
                      - paywithgoogle
                      - paypal
                      - scheme
                    tenant_url: www.dodici.com
                    tenant_url_label: Dodici
                    payment_methods:
                      scheme:
                        capture_billing_address: true
                    wallets:
                      apple_pay:
                        domain_name: newstorecheckout.dodici.x.newstore.net
                        merchant_identifier: merchant.com.newstore.dodici.demo
                        display_name: Dodici
                        supported_networks:
                          default:
                            - visa
                            - masterCard
                            - amex
                            - discover
                        url: >-
                          https://apple-pay-gateway-cert.apple.com/paymentservices/startSession
                      google_pay:
                        merchant_identifier: Google merchant ID
                      paypal:
                        merchant_identifier: PayPal merchant ID
                    psps:
                      adyen:
                        base_url: >-
                          https://dodici.x.newstore.net/_/v0/org/psps/adyen/newstorecheckout
                        merchant_account: NewStorePOS
                    enable_web_drop_in: true
    put:
      summary: Update NewStore Checkout configuration
      description: Updates the configuration of NewStore Checkout.
      operationId: putNewStoreCheckoutConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations for the NewStore Checkout integration.
              type: object
              description: Set of configurations used by NewStore Checkout.
              properties:
                http_timeout:
                  type: integer
                  default: 10000
                  description: >-
                    Maximum waiting time in milliseconds for an external HTTP
                    request. MUST be smaller than gRPC timeout.
                encryption_pass_phrase:
                  type: string
                  description: >-
                    Pass phrase used by the hash algorithm to generate the cart
                    token.
                supported_payment_methods:
                  type: array
                  description: Payment methods that are supported by the retailer
                  items:
                    type: string
                tenant_url:
                  type: string
                  description: >-
                    The URL to the tenant website displayed to the customer when
                    the payment completes.
                tenant_url_label:
                  type: string
                  description: >-
                    The label that should be used instead of the website URL for
                    the link when the payment completes.
                wallets:
                  description: Digital wallet configuration.
                  type: object
                  properties:
                    apple_pay:
                      type: object
                      required:
                        - url
                        - display_name
                        - domain_name
                        - merchant_identifier
                      properties:
                        url:
                          description: >-
                            The url that is called in order to create a new
                            Apple Pay Session.
                          type: string
                          minLength: 1
                        display_name:
                          description: >-
                            The label that should be displayed on the Apple Pay
                            button.
                          type: string
                        domain_name:
                          description: >-
                            The URL verified on Apple's website, enabled to
                            perform Apple Pay payments.
                          type: string
                          minLength: 1
                        merchant_identifier:
                          description: >-
                            The merchant identifier configured on Apple's
                            website, enabled to perform payments.
                          type: string
                          minLength: 1
                        supported_networks:
                          description: >-
                            Configuration of supported payment networks for
                            ApplePay.
                          type: object
                          properties:
                            default:
                              description: >-
                                List of supported payment networks, can be
                                overwritten with the merchant account
                                configuration.
                              type: array
                              default:
                                - visa
                                - masterCard
                                - amex
                                - discover
                              items:
                                type: string
                                minLength: 1
                                enum:
                                  - amex
                                  - cartesBancaires
                                  - chinaUnionPay
                                  - discover
                                  - eftpos
                                  - electron
                                  - elo
                                  - interac
                                  - jcb
                                  - mada
                                  - maestro
                                  - masterCard
                                  - privateLabel
                                  - visa
                                  - vPay
                                description: 'The supported payment network. Example: visa.'
                            merchant_accounts:
                              description: >-
                                List of supported payment network per merchant
                                account, overrides the 'default' config.
                              type: array
                              items:
                                type: object
                                required:
                                  - merchant_account
                                  - supported_networks
                                properties:
                                  merchant_account:
                                    type: string
                                    minLength: 1
                                    description: The Adyen merchant account.
                                  supported_networks:
                                    type: array
                                    description: >-
                                      List of supported payment networks for the
                                      merchant account.
                                    items:
                                      type: string
                                      minLength: 1
                                      enum:
                                        - amex
                                        - cartesBancaires
                                        - chinaUnionPay
                                        - discover
                                        - eftpos
                                        - electron
                                        - elo
                                        - interac
                                        - jcb
                                        - mada
                                        - maestro
                                        - masterCard
                                        - privateLabel
                                        - visa
                                        - vPay
                                      description: >-
                                        The supported payment network. Example:
                                        visa
                    google_pay:
                      type: object
                      required:
                        - merchant_identifier
                      properties:
                        merchant_identifier:
                          description: >-
                            The merchant identifier configured on Google Pay's
                            business console. Required for production
                            environments.
                          type: string
                          minLength: 1
                    paypal:
                      type: object
                      required:
                        - merchant_identifier
                      properties:
                        merchant_identifier:
                          description: The merchant identifier configured on Paypal.
                          type: string
                          minLength: 1
                payment_methods:
                  description: Payment methods configuration.
                  type: object
                  properties:
                    scheme:
                      type: object
                      required:
                        - capture_billing_address
                      properties:
                        capture_billing_address:
                          description: >-
                            Set to true to display the address form to the
                            shopper paying with cards.
                          type: boolean
                psps:
                  description: Payment Service Provider configuration.
                  type: object
                  properties:
                    adyen:
                      type: object
                      required:
                        - base_url
                      properties:
                        base_url:
                          description: The base url used to call Adyen.
                          type: string
                          minLength: 1
                enable_web_drop_in:
                  type: boolean
                  description: Indicates wether the Adyen Web DropIn should be used.
                  default: false
            examples:
              NewStore Checkout config request:
                value:
                  http_timeout: 600
                  encryption_pass_phrase: you can use any random value
                  supported_payment_methods:
                    - applepay
                    - paywithgoogle
                    - paypal
                    - scheme
                  tenant_url: www.dodici.com
                  tenant_url_label: Dodici
                  payment_methods:
                    scheme:
                      capture_billing_address: true
                  wallets:
                    apple_pay:
                      domain_name: newstorecheckout.dodici.x.newstore.net
                      merchant_identifier: merchant.com.newstore.dodici.demo
                      display_name: Dodici
                      supported_networks:
                        default:
                          - visa
                          - masterCard
                          - amex
                          - discover
                      url: >-
                        https://apple-pay-gateway-cert.apple.com/paymentservices/startSession
                    google_pay:
                      merchant_identifier: Google merchant ID
                    paypal:
                      merchant_identifier: PayPal merchant ID
                  psps:
                    adyen:
                      base_url: >-
                        https://dodici.x.newstore.net/_/v0/org/psps/adyen/newstorecheckout
                      merchant_account: NewStorePOS
                  enable_web_drop_in: true
      responses:
        '200':
          description: The operation was successful.
  /config/newstore_checkout/history:
    get:
      summary: Audit history for NewStore Checkout configuration
      description: >-
        Returns a list of the current and all previous values for the NewStore
        Checkout configuration.
      operationId: getNewStoreCheckoutConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the NewStore Checkout configuration
          content:
            application/json:
              schema:
                title: Newstore Checkout configuration audit.
                description: >-
                  Current configuration values for Newstore Checkout and its
                  previous versions with change information.
                type: object
                properties:
                  http_timeout:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: integer
                          default: 10000
                          description: >-
                            Maximum waiting time in milliseconds for an external
                            HTTP request. MUST be smaller than gRPC timeout.
                  encryption_pass_phrase:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: string
                          description: >-
                            Pass phrase used by the hash algorithm to generate
                            the cart token.
                  supported_payment_methods:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: array
                          description: Payment methods that are supported by the retailer
                          items:
                            type: string
                  tenant_url:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: string
                          description: >-
                            The URL to the tenant website displayed to the
                            customer when the payment completes.
                  tenant_url_label:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: string
                          description: >-
                            The label that should be used instead of the website
                            URL for the link when the payment completes.
                  wallets:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: Digital wallet configuration.
                          type: object
                          properties:
                            apple_pay:
                              type: object
                              required:
                                - url
                                - display_name
                                - domain_name
                                - merchant_identifier
                              properties:
                                url:
                                  description: >-
                                    The url that is called in order to create a
                                    new Apple Pay Session.
                                  type: string
                                  minLength: 1
                                display_name:
                                  description: >-
                                    The label that should be displayed on the
                                    Apple Pay button.
                                  type: string
                                domain_name:
                                  description: >-
                                    The URL verified on Apple's website, enabled
                                    to perform Apple Pay payments.
                                  type: string
                                  minLength: 1
                                merchant_identifier:
                                  description: >-
                                    The merchant identifier configured on
                                    Apple's website, enabled to perform
                                    payments.
                                  type: string
                                  minLength: 1
                                supported_networks:
                                  description: >-
                                    Configuration of supported payment networks
                                    for ApplePay.
                                  type: object
                                  properties:
                                    default:
                                      description: >-
                                        List of supported payment networks, can
                                        be overwritten with the merchant account
                                        configuration.
                                      type: array
                                      default:
                                        - visa
                                        - masterCard
                                        - amex
                                        - discover
                                      items:
                                        type: string
                                        minLength: 1
                                        enum:
                                          - amex
                                          - cartesBancaires
                                          - chinaUnionPay
                                          - discover
                                          - eftpos
                                          - electron
                                          - elo
                                          - interac
                                          - jcb
                                          - mada
                                          - maestro
                                          - masterCard
                                          - privateLabel
                                          - visa
                                          - vPay
                                        description: >-
                                          The supported payment network. Example:
                                          visa.
                                    merchant_accounts:
                                      description: >-
                                        List of supported payment network per
                                        merchant account, overrides the
                                        'default' config.
                                      type: array
                                      items:
                                        type: object
                                        required:
                                          - merchant_account
                                          - supported_networks
                                        properties:
                                          merchant_account:
                                            type: string
                                            minLength: 1
                                            description: The Adyen merchant account.
                                          supported_networks:
                                            type: array
                                            description: >-
                                              List of supported payment networks for
                                              the merchant account.
                                            items:
                                              type: string
                                              minLength: 1
                                              enum:
                                                - amex
                                                - cartesBancaires
                                                - chinaUnionPay
                                                - discover
                                                - eftpos
                                                - electron
                                                - elo
                                                - interac
                                                - jcb
                                                - mada
                                                - maestro
                                                - masterCard
                                                - privateLabel
                                                - visa
                                                - vPay
                                              description: >-
                                                The supported payment network. Example:
                                                visa
                            google_pay:
                              type: object
                              required:
                                - merchant_identifier
                              properties:
                                merchant_identifier:
                                  description: >-
                                    The merchant identifier configured on Google
                                    Pay's business console. Required for
                                    production environments.
                                  type: string
                                  minLength: 1
                            paypal:
                              type: object
                              required:
                                - merchant_identifier
                              properties:
                                merchant_identifier:
                                  description: >-
                                    The merchant identifier configured on
                                    Paypal.
                                  type: string
                                  minLength: 1
                  psps:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: Payment Service Provider configuration.
                          type: object
                          properties:
                            adyen:
                              type: object
                              required:
                                - base_url
                              properties:
                                base_url:
                                  description: The base url used to call Adyen.
                                  type: string
                                  minLength: 1
                  enable_web_drop_in:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: boolean
                          description: >-
                            Indicates wether the Adyen Web DropIn should be
                            used.
                          default: false
              examples:
                NewStoreCheckoutConfigurationHistory:
                  value:
                    http_timeout:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: 600
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: 6000
                    encryption_pass_phrase:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: you can use any random value v2
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: you can use any random value v1
                    supported_payment_methods:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          - applepay
                          - paywithgoogle
                          - paypal
                          - scheme
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          - applepay
                          - paywithgoogle
                          - paypal
                    tenant_url:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: www.dodici.com
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: www.dodici.com
                    tenant_url_label:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: Dodici
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: Dodici
                    wallets:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          apple_pay: null
                          domain_name: newstorecheckout.dodici.x.newstore.net
                          merchant_identifier: merchant.com.newstore.dodici.demo
                          supported_networks:
                            default:
                              - visa
                              - masterCard
                              - amex
                              - discover
                          url: >-
                            https://apple-pay-gateway-cert.apple.com/paymentservices/startSession
                        google_pay:
                          merchant_identifier: Google merchant ID
                        paypal:
                          merchant_identifier: PayPal merchant ID
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          apple_pay: null
                          domain_name: newstorecheckout.dodici.x.newstore.net
                          merchant_identifier: merchant.com.newstore.dodici.demo
                          supported_networks:
                            default:
                              - visa
                              - masterCard
                              - amex
                              - discover
                          url: >-
                            https://apple-pay-gateway-cert.apple.com/paymentservices/startSession
                        google_pay:
                          merchant_identifier: Google merchant ID
                        paypal:
                          merchant_identifier: PayPal merchant ID
                    psps:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          adyen:
                            base_url: >-
                              https://dodici.x.newstore.net/_/v0/org/psps/adyen/newstorecheckout
                            merchant_account: NewStorePOS
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          adyen:
                            base_url: >-
                              https://dodici.x.newstore.net/_/v0/org/psps/adyen/newstorecheckout
                            merchant_account: NewStorePOS
                    enable_web_drop_in:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: true
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: true
  /config/payment_account:
    get:
      summary: Payment Account configuration
      description: Returns the configuration of Payment Account.
      operationId: getPaymentAccountConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The Payment Account configuration.
          content:
            application/json:
              schema:
                title: Configurations of payment account.
                type: object
                description: >-
                  Set of configurations defining the behavior of payment
                  account.
                properties:
                  default_capture_strategy:
                    type: string
                    description: the name of the default strategy for capture
                  default_refund_strategy:
                    type: string
                    description: the name of the default strategy for refund
                  available_strategies:
                    type: object
                    description: >-
                      Mapping of strategy_name->configuration of the available
                      strategies. For a list of available strategies, consult
                      payment_account documentation
                  partial_unreferenced_refund_payment_invalidation:
                    type: boolean
                    description: >-
                      defines how unreferenced refunds affect existing payments.
                      If set to true, invalidates only the amount for which the
                      unreferenced refund was made. Otherwise, it invalidates
                      all existing payments.
                  add_gift_card_instrument_on_issue:
                    type: boolean
                    description: >-
                      defines whether funds to process a new gift card refund
                      are added to the account before or during the gift card
                      issuing request.
              examples:
                PaymentAccountConfiguration:
                  value:
                    default_capture_strategy: ordered
                    default_refund_strategy: ordered
                    available_strategies:
                      gift_card: null
                      ordered:
                        payment_methods:
                          - credit_card
                          - store_credit
                          - cash
                      store_credit: null
                    partial_unreferenced_refund_payment_invalidation: true
                    add_gift_card_instrument_on_issue: true
    put:
      summary: Update Payment Account configuration
      description: Updates the configuration of payment account.
      operationId: putPaymentAccountConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations of payment account.
              type: object
              description: Set of configurations defining the behavior of payment account.
              properties:
                default_capture_strategy:
                  type: string
                  description: the name of the default strategy for capture
                default_refund_strategy:
                  type: string
                  description: the name of the default strategy for refund
                available_strategies:
                  type: object
                  description: >-
                    Mapping of strategy_name->configuration of the available
                    strategies. For a list of available strategies, consult
                    payment_account documentation
                partial_unreferenced_refund_payment_invalidation:
                  type: boolean
                  description: >-
                    defines how unreferenced refunds affect existing payments.
                    If set to true, invalidates only the amount for which the
                    unreferenced refund was made. Otherwise, it invalidates all
                    existing payments.
                add_gift_card_instrument_on_issue:
                  type: boolean
                  description: >-
                    defines whether funds to process a new gift card refund are
                    added to the account before or during the gift card issuing
                    request.
            examples:
              Payment Account config request:
                value:
                  default_capture_strategy: ordered
                  default_refund_strategy: ordered
                  available_strategies:
                    gift_card: null
                    ordered:
                      payment_methods:
                        - credit_card
                        - store_credit
                        - cash
                    store_credit: null
                  partial_unreferenced_refund_payment_invalidation: true
                  add_gift_card_instrument_on_issue: true
      responses:
        '200':
          description: The operation was successful.
  /config/payment_account/history:
    get:
      summary: Audit history for Payment Account configuration
      description: >-
        Returns a list of the current and all previous values for the Payment
        Account configuration.
      operationId: getPaymentAccountConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the Payment Account configuration
          content:
            application/json:
              schema:
                title: Payment Account configuration audit.
                description: >-
                  Current configuration values for Payment Account and its
                  previous versions with change information.
                type: object
                properties:
                  default_capture_strategy:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: string
                          description: the name of the default strategy for capture
                  default_refund_strategy:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: string
                          description: the name of the default strategy for refund
                  available_strategies:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: object
                          description: >-
                            Mapping of strategy_name->configuration of the
                            available strategies. For a list of available
                            strategies, consult payment_account documentation
                  partial_unreferenced_refund_payment_invalidation:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: boolean
                          description: >-
                            defines how unreferenced refunds affect existing
                            payments. If set to true, invalidates only the
                            amount for which the unreferenced refund was made.
                            Otherwise, it invalidates all existing payments.
                  add_gift_card_instrument_on_issue:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: boolean
                          description: >-
                            defines whether funds to process a new gift card
                            refund are added to the account before or during the
                            gift card issuing request.
              examples:
                PaymentAccountConfigurationHistory:
                  value:
                    default_capture_strategy:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: ordered
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: ordered
                    default_refund_strategy:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: ordered
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: ordered
                    available_strategies:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          gift_card: null
                          ordered:
                            payment_methods:
                              - credit_card
                              - store_credit
                              - cash
                          store_credit: null
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          gift_card: null
                          ordered:
                            payment_methods:
                              - credit_card
                              - store_credit
                              - cash
                          store_credit: null
                    partial_unreferenced_refund_payment_invalidation:
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: true
  /config/payment_capture:
    get:
      summary: Payment Capture configuration
      description: Returns the configuration of the payment capture.
      operationId: getPaymentCaptureConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The Payment Capture configuration.
          content:
            application/json:
              schema:
                title: Configurations of the payment capture.
                type: object
                description: Describes how to use the payment_capture service.
                properties:
                  use_charge_api:
                    type: boolean
                    description: >-
                      Define whether captures are triggered based on logistic
                      order events or explicitly via charge API.
                    default: false
              examples:
                PaymentCaptureConfiguration:
                  value:
                    use_charge_api: false
    put:
      summary: Update payment capture configuration
      description: Updates the configuration of the payment capture.
      operationId: putPaymentCaptureConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations of the payment capture.
              type: object
              description: Describes how to use the payment_capture service.
              properties:
                use_charge_api:
                  type: boolean
                  description: >-
                    Define whether captures are triggered based on logistic
                    order events or explicitly via charge API.
                  default: false
            examples:
              Payment Capture config request:
                value:
                  use_charge_api: false
      responses:
        '200':
          description: The operation was successful.
  /config/payment_capture/history:
    get:
      summary: Audit history for Payment Capture configuration
      description: >-
        Returns a list of the current and all previous values for the Payment
        Capture configuration.
      operationId: getPaymentCaptureConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the Payment Capture configuration
          content:
            application/json:
              schema:
                title: Payment Capture configuration audit.
                description: >-
                  Current configuration values for Payment Capture and its
                  previous versions with change information.
                type: object
                properties:
                  use_charge_api:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: boolean
                          description: >-
                            Define whether captures are triggered based on
                            logistic order events or explicitly via charge API.
                          default: false
              examples:
                PaymentCaptureConfigurationHistory:
                  value:
                    use_charge_api:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '2019-12-25T00:00:00Z'
                        current: true
                        value: false
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '2019-12-12T14:30:00Z'
                        value: true
  /config/payment_engine:
    get:
      summary: Payment Engine configuration
      description: Returns the configuration of payment engine.
      operationId: getPaymentEngineConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The Payment Engine configuration.
          content:
            application/json:
              schema:
                title: Configurations of payment engine.
                type: object
                description: Describes how to use the payment_engine service.
                properties:
                  experimental_mode:
                    type: boolean
                    description: Enable experimental mode in payment engine.
                    default: false
              examples:
                PaymentEngineConfiguration:
                  value:
                    experimental_mode: false
    put:
      summary: Update payment engine configuration
      description: Updates the configuration of payment engine.
      operationId: putPaymentEnginefiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations of payment engine.
              type: object
              description: Describes how to use the payment_engine service.
              properties:
                experimental_mode:
                  type: boolean
                  description: Enable experimental mode in payment engine.
                  default: false
            examples:
              Payment Engine config request:
                value:
                  experimental_mode: false
      responses:
        '200':
          description: The operation was successful.
  /config/payment_engine/history:
    get:
      summary: Audit history for Payment Engine configuration
      description: >-
        Returns a list of the current and all previous values for the Payment
        Engine configuration.
      operationId: getPaymentEngineConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the Payment Capture configuration
          content:
            application/json:
              schema:
                title: Payment Engine configuration audit.
                description: >-
                  Current configuration values for Payment Engine and its
                  previous versions with change information.
                type: object
                properties:
                  experimental_mode:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: boolean
                          description: Enable experimental mode in payment engine.
                          default: false
              examples:
                PaymentEngineConfigurationHistory:
                  value:
                    experimental_mode:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '2019-12-25T00:00:00Z'
                        current: true
                        value: false
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '2019-12-12T14:30:00Z'
                        value: true
  /config/payment_options:
    get:
      summary: Payment options configuration
      description: Returns the configuration of payment options.
      operationId: getPaymentOptionsConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The payment options configuration.
          content:
            application/json:
              schema:
                title: Configurations of payment options.
                type: object
                description: >-
                  Set of payment options and refund options available for the
                  stores.
                properties:
                  payment_options:
                    type: array
                    description: >-
                      The default list of payment options that can be offered in
                      a store.
                    items:
                      type: string
                      enum:
                        - stripe
                        - adyen
                        - adyen_terminal
                        - adyen_pay_by_link
                        - adyen_pos
                        - square
                        - cash
                        - gift_card
                        - newstore_checkout
                        - non_integrated
                        - verifone
                        - worldline
                        - card_reader
                  refund_options:
                    type: array
                    description: >-
                      The default list of refund options that can be offered in
                      a store.
                    items:
                      type: string
                      enum:
                        - original
                        - gift_card
                        - e_gift_card
                        - credit_card
                        - external
                        - non_integrated
                        - worldline
                        - card_reader
                  store_mapping:
                    type: array
                    description: >-
                      Store-specific payment options configuration. It overrides
                      the defaults for the configured store.
                    items:
                      type: object
                      required:
                        - store_id
                      additionalProperties: false
                      properties:
                        store_id:
                          type: string
                          minLength: 1
                          description: >-
                            The NewStore identifier for the store. It is usually
                            a UUID.
                        payment_options:
                          type: array
                          description: >-
                            The specific list of payment options that will be
                            offered in this store.
                          items:
                            type: string
                            enum:
                              - stripe
                              - adyen
                              - adyen_terminal
                              - adyen_pay_by_link
                              - adyen_pos
                              - square
                              - cash
                              - gift_card
                              - newstore_checkout
                              - non_integrated
                              - verifone
                              - worldline
                              - card_reader
                        refund_options:
                          type: array
                          description: >-
                            The specific list of refund options that will be
                            offered in this store.
                          items:
                            type: string
                            enum:
                              - original
                              - gift_card
                              - e_gift_card
                              - credit_card
                              - external
                              - non_integrated
                              - worldline
                              - card_reader
                        non_integrated_payment_methods:
                          type: array
                          description: >-
                            The default list of non-integrated payment methods
                            that can be offered in a store.
                          items:
                            type: string
                  non_integrated_payment_methods:
                    type: array
                    description: >-
                      The default list of non-integrated payment methods that
                      can be offered in a store.
                    items:
                      type: string
                  non_integrated_methods_definition:
                    type: object
                    description: >-
                      Definition of non-integrated payment methods to be
                      referenced globally or per store
                    additionalProperties:
                      type: object
                      additionalProperties: false
                      required:
                        - label
                      properties:
                        label:
                          type: string
              examples:
                PaymentOptionsConfiguration:
                  value:
                    payment_options:
                      - adyen_terminal
                      - cash
                      - gift_card
                      - worldline
                    refund_options:
                      - original
                      - gift_card
                      - e_gift_card
                      - credit_card
                      - external
                    store_mapping:
                      - payment_options:
                          - gift_card
                          - adyen_terminal
                        refund_options:
                          - original
                          - gift_card
                        store_id: US01
    put:
      summary: Update payment options configuration
      description: Updates the configuration of payment options.
      operationId: putPaymentOptionsConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations of payment options.
              type: object
              description: >-
                Set of payment options and refund options available for the
                stores.
              properties:
                payment_options:
                  type: array
                  description: >-
                    The default list of payment options that can be offered in a
                    store.
                  items:
                    type: string
                    enum:
                      - stripe
                      - adyen
                      - adyen_terminal
                      - adyen_pay_by_link
                      - adyen_pos
                      - square
                      - cash
                      - gift_card
                      - newstore_checkout
                      - non_integrated
                      - verifone
                      - worldline
                      - card_reader
                refund_options:
                  type: array
                  description: >-
                    The default list of refund options that can be offered in a
                    store.
                  items:
                    type: string
                    enum:
                      - original
                      - gift_card
                      - e_gift_card
                      - credit_card
                      - external
                      - non_integrated
                      - worldline
                      - card_reader
                store_mapping:
                  type: array
                  description: >-
                    Store-specific payment options configuration. It overrides
                    the defaults for the configured store.
                  items:
                    type: object
                    required:
                      - store_id
                    additionalProperties: false
                    properties:
                      store_id:
                        type: string
                        minLength: 1
                        description: >-
                          The NewStore identifier for the store. It is usually a
                          UUID.
                      payment_options:
                        type: array
                        description: >-
                          The specific list of payment options that will be
                          offered in this store.
                        items:
                          type: string
                          enum:
                            - stripe
                            - adyen
                            - adyen_terminal
                            - adyen_pay_by_link
                            - adyen_pos
                            - square
                            - cash
                            - gift_card
                            - newstore_checkout
                            - non_integrated
                            - verifone
                            - worldline
                            - card_reader
                      refund_options:
                        type: array
                        description: >-
                          The specific list of refund options that will be
                          offered in this store.
                        items:
                          type: string
                          enum:
                            - original
                            - gift_card
                            - e_gift_card
                            - credit_card
                            - external
                            - non_integrated
                            - worldline
                            - card_reader
                      non_integrated_payment_methods:
                        type: array
                        description: >-
                          The default list of non-integrated payment methods
                          that can be offered in a store.
                        items:
                          type: string
                non_integrated_payment_methods:
                  type: array
                  description: >-
                    The default list of non-integrated payment methods that can
                    be offered in a store.
                  items:
                    type: string
                non_integrated_methods_definition:
                  type: object
                  description: >-
                    Definition of non-integrated payment methods to be
                    referenced globally or per store
                  additionalProperties:
                    type: object
                    additionalProperties: false
                    required:
                      - label
                    properties:
                      label:
                        type: string
            examples:
              Payment Options config request:
                value:
                  payment_options:
                    - adyen_terminal
                    - cash
                    - gift_card
                    - worldline
                  refund_options:
                    - original
                    - gift_card
                    - e_gift_card
                    - credit_card
                    - external
                  store_mapping:
                    - payment_options:
                        - gift_card
                        - adyen_terminal
                      refund_options:
                        - original
                        - gift_card
                      store_id: US01
      responses:
        '200':
          description: The operation was successful.
  /config/payment_options/history:
    get:
      summary: Audit history for Payment Options configuration
      description: >-
        Returns a list of the current and all previous values for the Payment
        Options configuration.
      operationId: getPaymentOptionsConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the Payment Options configuration
          content:
            application/json:
              schema:
                title: Payment Options configuration audit.
                description: >-
                  Current configuration values for Payment Options and its
                  previous versions with change information.
                type: object
                properties:
                  payment_options:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: array
                          description: >-
                            The default list of payment options that can be
                            offered in a store.
                          items:
                            type: string
                            enum:
                              - stripe
                              - adyen
                              - adyen_terminal
                              - adyen_pay_by_link
                              - adyen_pos
                              - square
                              - cash
                              - gift_card
                              - newstore_checkout
                              - non_integrated
                              - verifone
                              - worldline
                              - card_reader
                  refund_options:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: array
                          description: >-
                            The default list of refund options that can be
                            offered in a store.
                          items:
                            type: string
                            enum:
                              - original
                              - gift_card
                              - e_gift_card
                              - credit_card
                              - external
                              - non_integrated
                              - worldline
                              - card_reader
                  store_mapping:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: array
                          description: >-
                            Store-specific payment options configuration. It
                            overrides the defaults for the configured store.
                          items:
                            type: object
                            required:
                              - store_id
                            additionalProperties: false
                            properties:
                              store_id:
                                type: string
                                minLength: 1
                                description: >-
                                  The NewStore identifier for the store. It is
                                  usually a UUID.
                              payment_options:
                                type: array
                                description: >-
                                  The specific list of payment options that will
                                  be offered in this store.
                                items:
                                  type: string
                                  enum:
                                    - stripe
                                    - adyen
                                    - adyen_terminal
                                    - adyen_pay_by_link
                                    - adyen_pos
                                    - square
                                    - cash
                                    - gift_card
                                    - newstore_checkout
                                    - non_integrated
                                    - verifone
                                    - worldline
                                    - card_reader
                              refund_options:
                                type: array
                                description: >-
                                  The specific list of refund options that will
                                  be offered in this store.
                                items:
                                  type: string
                                  enum:
                                    - original
                                    - gift_card
                                    - e_gift_card
                                    - credit_card
                                    - external
                                    - non_integrated
                                    - worldline
                                    - card_reader
                              non_integrated_payment_methods:
                                type: array
                                description: >-
                                  The default list of non-integrated payment
                                  methods that can be offered in a store.
                                items:
                                  type: string
                  non_integrated_payment_methods:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: array
                          description: >-
                            The default list of non-integrated payment methods
                            that can be offered in a store.
                          items:
                            type: string
                  non_integrated_methods_definition:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: object
                          description: >-
                            Definition of non-integrated payment methods to be
                            referenced globally or per store
                          additionalProperties:
                            type: object
                            additionalProperties: false
                            required:
                              - label
                            properties:
                              label:
                                type: string
              examples:
                PaymentOptionsConfigurationHistory:
                  value:
                    payment_options:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          - adyen_terminal
                          - adyen_pay_by_link
                          - cash
                          - gift_card
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          - adyen_terminal
                          - cash
                          - gift_card
                    refund_options:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          - original
                          - gift_card
                          - e_gift_card
                          - credit_card
                          - external
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          - original
                          - gift_card
                          - e_gift_card
                          - credit_card
                          - external
                    store_mapping:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          - payment_options:
                              - adyen
                              - adyen_terminal
                              - gift_card
                            refund_options:
                              - original
                              - gift_card
                            store_id: US01
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          - payment_options:
                              - adyen
                              - adyen_terminal
                              - gift_card
                            refund_options:
                              - original
                              - gift_card
                            store_id: US01
  /config/payments_watcher:
    get:
      summary: Payments watcher configuration
      description: Returns the configuration of payments watcher.
      operationId: getPaymentsWatcherConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The payments watcher configuration.
          content:
            application/json:
              schema:
                title: Configurations of payments watcher.
                type: object
                description: >-
                  Configuration defining what failed payment operations should
                  be retried.
                properties:
                  failed_capture_retry_enabled:
                    description: >-
                      When enabled will trigger automatic retries for failed
                      capture operations.
                    type: boolean
                  failed_refund_retry_enabled:
                    description: >-
                      When enabled will trigger automatic retries for failed
                      refund operations.
                    type: boolean
                  failed_revoke_retry_enabled:
                    description: >-
                      When enabled will trigger automatic retries for failed
                      revoke operations.
                    type: boolean
                  failed_add_retry_enabled:
                    description: >-
                      When enabled will trigger automatic retries for failed add
                      financial instrument operations.
                    type: boolean
              examples:
                PaymentsWatcherConfiguration:
                  value:
                    failed_capture_retry_enabled: true
                    failed_refund_retry_enabled: false
                    failed_revoke_retry_enabled: true
                    failed_add_retry_enabled: true
    put:
      summary: Update payments watcher configuration
      description: Updates the configuration of payments watcher.
      operationId: putPaymentsWatcherConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations of payments watcher.
              type: object
              description: >-
                Configuration defining what failed payment operations should be
                retried.
              properties:
                failed_capture_retry_enabled:
                  description: >-
                    When enabled will trigger automatic retries for failed
                    capture operations.
                  type: boolean
                failed_refund_retry_enabled:
                  description: >-
                    When enabled will trigger automatic retries for failed
                    refund operations.
                  type: boolean
                failed_revoke_retry_enabled:
                  description: >-
                    When enabled will trigger automatic retries for failed
                    revoke operations.
                  type: boolean
                failed_add_retry_enabled:
                  description: >-
                    When enabled will trigger automatic retries for failed add
                    financial instrument operations.
                  type: boolean
            examples:
              Payments Watcher config request:
                value:
                  failed_capture_retry_enabled: true
                  failed_refund_retry_enabled: false
                  failed_revoke_retry_enabled: true
                  failed_add_retry_enabled: true
      responses:
        '200':
          description: The operation was successful.
  /config/payments_watcher/history:
    get:
      summary: Audit history for Payments Watcher configuration
      description: >-
        Returns a list of the current and all previous values for the Payments
        Watcher configuration.
      operationId: getPaymentsWatcherConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the Payments Watcher configuration
          content:
            application/json:
              schema:
                title: Payments Watcher configuration audit.
                description: >-
                  Current configuration values for Payments Watcher and its
                  previous versions with change information.
                type: object
                properties:
                  failed_capture_retry_enabled:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: >-
                            When enabled will trigger automatic retries for
                            failed capture operations.
                          type: boolean
                  failed_refund_retry_enabled:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: >-
                            When enabled will trigger automatic retries for
                            failed refund operations.
                          type: boolean
                  failed_revoke_retry_enabled:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: >-
                            When enabled will trigger automatic retries for
                            failed revoke operations.
                          type: boolean
                  failed_add_retry_enabled:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: >-
                            When enabled will trigger automatic retries for
                            failed add financial instrument operations.
                          type: boolean
              examples:
                PaymentsWatcherConfigurationHistory:
                  value:
                    failed_capture_retry_enabled:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: true
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: true
                    failed_refund_retry_enabled:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: false
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: false
                    failed_revoke_retry_enabled:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: true
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: true
                    failed_add_retry_enabled:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value: true
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value: true
  /config/psp_adyen:
    get:
      summary: PSP Adyen configuration
      description: Returns the configuration of PSP Adyen.
      operationId: getPSPAdyenConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The PSP Adyen configuration.
          content:
            application/json:
              schema:
                title: Configurations of PSP adyen.
                type: object
                description: Set of configurations used to integrate with Adyen.
                properties:
                  checkout_api:
                    description: The checkout Adyen API is used by NewStore Checkout.
                    type: object
                    required:
                      - base_url
                    properties:
                      environment:
                        type: string
                        enum:
                          - live
                          - test
                        description: Defines if the API is live or used for testing.
                      base_url:
                        type: string
                        minLength: 1
                        description: >-
                          Base URL for API calls. More info on
                          https://docs.adyen.com/development-resources/live-endpoints.
                      timeout:
                        type: integer
                        default: 10
                        minimum: 1
                        description: Default timeout in seconds for API calls to Adyen.
                  standard_api:
                    description: >-
                      The standard Adyen API is used for payment
                      reauthorizations.
                    type: object
                    required:
                      - base_url
                    properties:
                      base_url:
                        type: string
                        minLength: 1
                        description: >-
                          Base URL for API calls. More info on
                          https://docs.adyen.com/development-resources/live-endpoints.
                      timeout:
                        type: integer
                        default: 10
                        minimum: 1
                        description: Default timeout in seconds for API calls to Adyen.
                  payment_reauthorization:
                    description: >-
                      Specifies how the payment reauthorization should be
                      performed.
                    type: object
                    properties:
                      enabled:
                        type: boolean
                        default: false
                        description: >-
                          Enables/Disables the reauthorization of payments,
                          preventing authorizations from expiring.
                      authorization_expiration:
                        type: integer
                        minimum: 1
                        default: 7
                        description: >-
                          Number of days to wait after a payment is authorized
                          to perform a reauthorization.
                      authorization_keep_alive_days:
                        type: integer
                        minimum: 1
                        default: 14
                        description: >-
                          Maximum number of days the platform will try to keep
                          the authorizations alive until the platform gives up
                          to reauthorize a payment.
                  pos:
                    type: object
                    required:
                      - environment
                      - payment_subject
                      - credentials
                      - authorization_type
                    description: Defines the Associate App payment settings.
                    properties:
                      environment:
                        type: string
                        enum:
                          - live
                          - test
                        description: >-
                          The provider environment to use, can be 'test' or
                          'live'.
                      sdk_api_endpoint:
                        type: string
                        minLength: 1
                        description: >-
                          Default URL to reach the pos sdk API. More info on
                          https://docs.adyen.com/point-of-sale/ios-sdk/integration#session.
                      terminal_api_url:
                        type: string
                        minLength: 1
                        description: >-
                          Default URL to reach Terminal API (supported in
                          Associate App version 1.58 or later). More info on
                          https://docs.adyen.com/point-of-sale/design-your-integration/terminal-api/.
                      payment_subject:
                        type: string
                        minLength: 1
                        description: Custom subject associated with each transaction.
                      authorization_type:
                        type: string
                        default: FinalAuth
                        enum:
                          - PreAuth
                          - FinalAuth
                        description: >-
                          PreAuth means that the authorization is adjustable and
                          extensible. FinalAuth means that the authorization is
                          final and can not be adjusted.
                      credentials:
                        description: >-
                          Adyen credentials for POS payments. Contains the
                          default merchant account used for payments.
                        type: object
                        required:
                          - account
                        properties:
                          account:
                            type: string
                            minLength: 1
                            description: >-
                              The default merchant account used for payments.
                              This value is provided by the retailer.
                          company_account:
                            type: string
                            minLength: 1
                            description: >-
                              The default company account used for Terminal API
                              payments. This value is provided by the retailer.
                      store_mapping:
                        type: array
                        minItems: 1
                        description: >-
                          Sets store-specific payment configuration. It maps a
                          NewStore store id to a payment provider merchant
                          account.
                        items:
                          type: object
                          required:
                            - store_id
                            - adyen_store_id
                          properties:
                            store_id:
                              type: string
                              minLength: 1
                              description: The identifier for the store in NewStore.
                            adyen_store_id:
                              type: string
                              minLength: 1
                              description: >-
                                The identifier for the store on the Adyen
                                platform.
                            sdk_api_endpoint:
                              type: string
                              minLength: 1
                              description: >-
                                URL to reach the pos sdk API. More info on
                                https://docs.adyen.com/point-of-sale/ios-sdk/integration#session.
                            terminal_api_url:
                              type: string
                              minLength: 1
                              description: >-
                                Default URL to reach Terminal API (supported in
                                Associate App version 1.58 or later). More info
                                on
                                https://docs.adyen.com/point-of-sale/design-your-integration/terminal-api/.
                            merchant_config:
                              type: object
                              description: Overrides the merchant configuration.
                              properties:
                                payment_subject:
                                  type: string
                                  description: >-
                                    Custom subject associated with each
                                    transaction specific to this particular
                                    store.
                                credentials:
                                  description: >-
                                    Adyen credentials for POS payments specific
                                    to this particular store. Contains the
                                    merchant account.
                                  type: object
                                  required:
                                    - account
                                  properties:
                                    account:
                                      type: string
                                      minLength: 1
                                      description: >-
                                        The merchant account used for payments.
                                        This value is provided by the retailer.
                                    company_account:
                                      type: string
                                      minLength: 1
                                      description: >-
                                        The default company account used for
                                        Terminal API payments. This value is
                                        provided by the retailer.
              examples:
                PSPAdyenConfiguration:
                  value:
                    checkout_api:
                      base_url: https://checkout-test.adyen.com/v65
                      environment: test
                      timeout: 30
                    standard_api:
                      base_url: https://pal-test.adyen.com/pal/servlet/Payment/[version]
                      timeout: 10
                    payment_reauthorization:
                      authorization_expiration: 7
                      enabled: true
                    pos:
                      authorization_type: PreAuth
                      credentials:
                        account: NewStorePOS
                        company_account: NewStore
                      environment: test
                      terminal_api_url: https://terminal-api-test.adyen.com
                      payment_subject: Giovanna Dodici
                      store_mapping:
                        - adyen_store_id: '1001'
                          store_id: US01
                        - adyen_store_id: '1201'
                          store_id: US02
                          terminal_api_url: https://terminal-api-test.adyen.com
                          merchant_config:
                            credentials:
                              account: NewStoreCOM
                              company_account: Dodici
    put:
      summary: Update PSP Adyen configuration
      description: Updates the configuration of PSP Adyen.
      operationId: putPSPAdyenConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations of PSP adyen.
              type: object
              description: Set of configurations used to integrate with Adyen.
              properties:
                checkout_api:
                  description: The checkout Adyen API is used by NewStore Checkout.
                  type: object
                  required:
                    - base_url
                  properties:
                    environment:
                      type: string
                      enum:
                        - live
                        - test
                      description: Defines if the API is live or used for testing.
                    base_url:
                      type: string
                      minLength: 1
                      description: >-
                        Base URL for API calls. More info on
                        https://docs.adyen.com/development-resources/live-endpoints.
                    timeout:
                      type: integer
                      default: 10
                      minimum: 1
                      description: Default timeout in seconds for API calls to Adyen.
                standard_api:
                  description: The standard Adyen API is used for payment reauthorizations.
                  type: object
                  required:
                    - base_url
                  properties:
                    base_url:
                      type: string
                      minLength: 1
                      description: >-
                        Base URL for API calls. More info on
                        https://docs.adyen.com/development-resources/live-endpoints.
                    timeout:
                      type: integer
                      default: 10
                      minimum: 1
                      description: Default timeout in seconds for API calls to Adyen.
                payment_reauthorization:
                  description: >-
                    Specifies how the payment reauthorization should be
                    performed.
                  type: object
                  properties:
                    enabled:
                      type: boolean
                      default: false
                      description: >-
                        Enables/Disables the reauthorization of payments,
                        preventing authorizations from expiring.
                    authorization_expiration:
                      type: integer
                      minimum: 1
                      default: 7
                      description: >-
                        Number of days to wait after a payment is authorized to
                        perform a reauthorization.
                    authorization_keep_alive_days:
                      type: integer
                      minimum: 1
                      default: 14
                      description: >-
                        Maximum number of days the platform will try to keep the
                        authorizations alive until the platform gives up to
                        reauthorize a payment.
                pos:
                  type: object
                  required:
                    - environment
                    - payment_subject
                    - credentials
                    - authorization_type
                  description: Defines the Associate App payment settings.
                  properties:
                    environment:
                      type: string
                      enum:
                        - live
                        - test
                      description: >-
                        The provider environment to use, can be 'test' or
                        'live'.
                    sdk_api_endpoint:
                      type: string
                      minLength: 1
                      description: >-
                        Default URL to reach the pos sdk API. More info on
                        https://docs.adyen.com/point-of-sale/ios-sdk/integration#session.
                    terminal_api_url:
                      type: string
                      minLength: 1
                      description: >-
                        Default URL to reach Terminal API (supported in
                        Associate App version 1.58 or later). More info on
                        https://docs.adyen.com/point-of-sale/design-your-integration/terminal-api/.
                    payment_subject:
                      type: string
                      minLength: 1
                      description: Custom subject associated with each transaction.
                    authorization_type:
                      type: string
                      default: FinalAuth
                      enum:
                        - PreAuth
                        - FinalAuth
                      description: >-
                        PreAuth means that the authorization is adjustable and
                        extensible. FinalAuth means that the authorization is
                        final and can not be adjusted.
                    credentials:
                      description: >-
                        Adyen credentials for POS payments. Contains the default
                        merchant account used for payments.
                      type: object
                      required:
                        - account
                      properties:
                        account:
                          type: string
                          minLength: 1
                          description: >-
                            The default merchant account used for payments. This
                            value is provided by the retailer.
                        company_account:
                          type: string
                          minLength: 1
                          description: >-
                            The default company account used for Terminal API
                            payments. This value is provided by the retailer.
                    store_mapping:
                      type: array
                      minItems: 1
                      description: >-
                        Sets store-specific payment configuration. It maps a
                        NewStore store id to a payment provider merchant
                        account.
                      items:
                        type: object
                        required:
                          - store_id
                          - adyen_store_id
                        properties:
                          store_id:
                            type: string
                            minLength: 1
                            description: The identifier for the store in NewStore.
                          adyen_store_id:
                            type: string
                            minLength: 1
                            description: >-
                              The identifier for the store on the Adyen
                              platform.
                          sdk_api_endpoint:
                            type: string
                            minLength: 1
                            description: >-
                              URL to reach the pos sdk API. More info on
                              https://docs.adyen.com/point-of-sale/ios-sdk/integration#session.
                          terminal_api_url:
                            type: string
                            minLength: 1
                            description: >-
                              Default URL to reach Terminal API (supported in
                              Associate App version 1.58 or later). More info on
                              https://docs.adyen.com/point-of-sale/design-your-integration/terminal-api/.
                          merchant_config:
                            type: object
                            description: Overrides the merchant configuration.
                            properties:
                              payment_subject:
                                type: string
                                description: >-
                                  Custom subject associated with each
                                  transaction specific to this particular store.
                              credentials:
                                description: >-
                                  Adyen credentials for POS payments specific to
                                  this particular store. Contains the merchant
                                  account.
                                type: object
                                required:
                                  - account
                                properties:
                                  account:
                                    type: string
                                    minLength: 1
                                    description: >-
                                      The merchant account used for payments.
                                      This value is provided by the retailer.
                                  company_account:
                                    type: string
                                    minLength: 1
                                    description: >-
                                      The default company account used for
                                      Terminal API payments. This value is
                                      provided by the retailer.
            examples:
              PSP Adyen config request:
                value:
                  checkout_api:
                    base_url: https://checkout-test.adyen.com/v65
                    environment: test
                    timeout: 30
                  standard_api:
                    base_url: https://pal-test.adyen.com/pal/servlet/Payment/[version]
                    timeout: 10
                  payment_reauthorization:
                    authorization_expiration: 7
                    enabled: true
                  pos:
                    authorization_type: PreAuth
                    credentials:
                      account: NewStorePOS
                      company_account: NewStore
                    environment: test
                    terminal_api_url: https://terminal-api-test.adyen.com
                    payment_subject: Giovanna Dodici
                    store_mapping:
                      - adyen_store_id: '1001'
                        store_id: US01
                      - adyen_store_id: '1201'
                        store_id: US02
                        terminal_api_url: https://terminal-api-test.adyen.com
                        merchant_config:
                          credentials:
                            account: NewStoreCOM
                            company_account: Dodici
      responses:
        '200':
          description: The operation was successful.
  /config/psp_adyen/history:
    get:
      summary: Audit history for PSP Adyen configuration
      description: >-
        Returns a list of the current and all previous values for the PSP Adyen
        configuration.
      operationId: getPSPAdyenConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the PSP Adyen configuration
          content:
            application/json:
              schema:
                title: PSP Adyen configuration audit.
                description: >-
                  Current configuration values for PSP Adyen and its previous
                  versions with change information.
                type: object
                properties:
                  checkout_api:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: The checkout Adyen API is used by NewStore Checkout.
                          type: object
                          required:
                            - base_url
                          properties:
                            environment:
                              type: string
                              enum:
                                - live
                                - test
                              description: Defines if the API is live or used for testing.
                            base_url:
                              type: string
                              minLength: 1
                              description: >-
                                Base URL for API calls. More info on
                                https://docs.adyen.com/development-resources/live-endpoints.
                            timeout:
                              type: integer
                              default: 10
                              minimum: 1
                              description: >-
                                Default timeout in seconds for API calls to
                                Adyen.
                  standard_api:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: >-
                            The standard Adyen API is used for payment
                            reauthorizations.
                          type: object
                          required:
                            - base_url
                          properties:
                            base_url:
                              type: string
                              minLength: 1
                              description: >-
                                Base URL for API calls. More info on
                                https://docs.adyen.com/development-resources/live-endpoints.
                            timeout:
                              type: integer
                              default: 10
                              minimum: 1
                              description: >-
                                Default timeout in seconds for API calls to
                                Adyen.
                  payment_reauthorization:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: >-
                            Specifies how the payment reauthorization should be
                            performed.
                          type: object
                          properties:
                            enabled:
                              type: boolean
                              default: false
                              description: >-
                                Enables/Disables the reauthorization of
                                payments, preventing authorizations from
                                expiring.
                            authorization_expiration:
                              type: integer
                              minimum: 1
                              default: 7
                              description: >-
                                Number of days to wait after a payment is
                                authorized to perform a reauthorization.
                            authorization_keep_alive_days:
                              type: integer
                              minimum: 1
                              default: 14
                              description: >-
                                Maximum number of days the platform will try to
                                keep the authorizations alive until the platform
                                gives up to reauthorize a payment.
                  pos:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: object
                          required:
                            - environment
                            - payment_subject
                            - credentials
                            - authorization_type
                          description: Defines the Associate App payment settings.
                          properties:
                            environment:
                              type: string
                              enum:
                                - live
                                - test
                              description: >-
                                The provider environment to use, can be 'test'
                                or 'live'.
                            sdk_api_endpoint:
                              type: string
                              minLength: 1
                              description: >-
                                Default URL to reach the pos sdk API. More info
                                on
                                https://docs.adyen.com/point-of-sale/ios-sdk/integration#session.
                            terminal_api_url:
                              type: string
                              minLength: 1
                              description: >-
                                Default URL to reach Terminal API (supported in
                                Associate App version 1.58 or later). More info
                                on
                                https://docs.adyen.com/point-of-sale/design-your-integration/terminal-api/.
                            payment_subject:
                              type: string
                              minLength: 1
                              description: Custom subject associated with each transaction.
                            authorization_type:
                              type: string
                              default: FinalAuth
                              enum:
                                - PreAuth
                                - FinalAuth
                              description: >-
                                PreAuth means that the authorization is
                                adjustable and extensible. FinalAuth means that
                                the authorization is final and can not be
                                adjusted.
                            credentials:
                              description: >-
                                Adyen credentials for POS payments. Contains the
                                default merchant account used for payments.
                              type: object
                              required:
                                - account
                              properties:
                                account:
                                  type: string
                                  minLength: 1
                                  description: >-
                                    The default merchant account used for
                                    payments. This value is provided by the
                                    retailer.
                                company_account:
                                  type: string
                                  minLength: 1
                                  description: >-
                                    The default company account used for
                                    Terminal API payments. This value is
                                    provided by the retailer.
                            store_mapping:
                              type: array
                              minItems: 1
                              description: >-
                                Sets store-specific payment configuration. It
                                maps a NewStore store id to a payment provider
                                merchant account.
                              items:
                                type: object
                                required:
                                  - store_id
                                  - adyen_store_id
                                properties:
                                  store_id:
                                    type: string
                                    minLength: 1
                                    description: The identifier for the store in NewStore.
                                  adyen_store_id:
                                    type: string
                                    minLength: 1
                                    description: >-
                                      The identifier for the store on the Adyen
                                      platform.
                                  sdk_api_endpoint:
                                    type: string
                                    minLength: 1
                                    description: >-
                                      URL to reach the pos sdk API. More info on
                                      https://docs.adyen.com/point-of-sale/ios-sdk/integration#session.
                                  terminal_api_url:
                                    type: string
                                    minLength: 1
                                    description: >-
                                      Default URL to reach Terminal API
                                      (supported in Associate App version 1.58
                                      or later). More info on
                                      https://docs.adyen.com/point-of-sale/design-your-integration/terminal-api/.
                                  merchant_config:
                                    type: object
                                    description: Overrides the merchant configuration.
                                    properties:
                                      payment_subject:
                                        type: string
                                        description: >-
                                          Custom subject associated with each
                                          transaction specific to this particular
                                          store.
                                      credentials:
                                        description: >-
                                          Adyen credentials for POS payments
                                          specific to this particular store.
                                          Contains the merchant account.
                                        type: object
                                        required:
                                          - account
                                        properties:
                                          account:
                                            type: string
                                            minLength: 1
                                            description: >-
                                              The merchant account used for payments.
                                              This value is provided by the retailer.
                                          company_account:
                                            type: string
                                            minLength: 1
                                            description: >-
                                              The default company account used for
                                              Terminal API payments. This value is
                                              provided by the retailer.
              examples:
                PSPAdyenConfigurationHistory:
                  value:
                    checkout_api:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          base_url: https://checkout-test.adyen.com/v65
                          environment: test
                          timeout: 30
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          base_url: https://checkout-test.adyen.com/v65
                          environment: test
                          timeout: 300
                    standard_api:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          base_url: >-
                            https://pal-test.adyen.com/pal/servlet/Payment/[version]
                          timeout: 10
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          base_url: >-
                            https://pal-test.adyen.com/pal/servlet/Payment/[version]
                          timeout: 100
                    payment_reauthorization:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          authorization_expiration: 7
                          enabled: true
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          authorization_expiration: 1
                          enabled: true
                    pos:
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          authorization_type: PreAuth
                          terminal_api_url: https://terminal-api-live.adyen.com
                          capture_type: immediate
                          credentials:
                            account: NewStorePOS
                            company_account: NewStore
                          environment: test
                          payment_subject: Giovanna Dodici
                          store_mapping:
                            - adyen_store_id: '1001'
                              store_id: US01
                            - adyen_store_id: '1201'
                              store_id: US02
                              terminal_api_url: https://terminal-api-live-au.adyen.com
                              merchant_config:
                                credentials:
                                  account: NewStoreCOM
                                  company_account: Dodici
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          authorization_type: PreAuth
                          capture_type: immediate
                          credentials:
                            account: NewStorePOS
                            company_account: NewStore
                          terminal_api_url: https://terminal-api-live.adyen.com
                          environment: test
                          payment_subject: Giovanna Dodici
                          store_mapping:
                            - adyen_store_id: '1001'
                              store_id: US01
                            - adyen_store_id: '1201'
                              store_id: US02
                              terminal_api_url: https://terminal-api-live-au.adyen.com
                              merchant_config:
                                credentials:
                                  account: NewStoreCOM
                                  company_account: Dodici
  /config/psp_square:
    get:
      summary: PSP Square configuration
      description: Returns the configuration of PSP Square.
      operationId: getPSPSquareConfiguration
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The PSP Square configuration.
          content:
            application/json:
              schema:
                title: Configurations of PSP Square.
                type: object
                description: Set of configurations used to integrate with Square.
                properties:
                  api:
                    description: Configuration parameters for the Square API.
                    type: object
                    required:
                      - base_url
                    properties:
                      timeout:
                        type: integer
                        description: >-
                          Maximum waiting time in seconds for an external HTTP
                          request. MUST be smaller than gRPC timeout. Default
                          10s
                      base_url:
                        type: string
                        minLength: 1
                        description: Base URI to access the square API.
                  store_mapping:
                    type: array
                    description: >-
                      A list of related NewStore store IDs and their
                      corresponding Square location IDs. NewStore Store IDs
                      should be unique.
                    items:
                      type: object
                      required:
                        - store_id
                        - location_id
                      properties:
                        store_id:
                          type: string
                          minLength: 1
                          description: The identifier for the store in NewStore (a UUID).
                        location_id:
                          type: string
                          minLength: 1
                          description: >-
                            The identifier for the location on the Square
                            platform that maps to this 'store_id'.
              examples:
                PSPSquareConfiguration:
                  value:
                    api:
                      base_url: https://connect.squareup.com/v2
                    store_mapping:
                      - store_id: US01
                        location_id: '1001'
                      - store_id: JP01
                        location_id: '1002'
    put:
      summary: Update PSP Square configuration
      description: Updates the configuration of PSP Square.
      operationId: putPSPSquareConfiguration
      security:
        - newStoreAccessToken: []
      requestBody:
        content:
          application/json:
            schema:
              title: Configurations of PSP Square.
              type: object
              description: Set of configurations used to integrate with Square.
              properties:
                api:
                  description: Configuration parameters for the Square API.
                  type: object
                  required:
                    - base_url
                  properties:
                    timeout:
                      type: integer
                      description: >-
                        Maximum waiting time in seconds for an external HTTP
                        request. MUST be smaller than gRPC timeout. Default 10s
                    base_url:
                      type: string
                      minLength: 1
                      description: Base URI to access the square API.
                store_mapping:
                  type: array
                  description: >-
                    A list of related NewStore store IDs and their corresponding
                    Square location IDs. NewStore Store IDs should be unique.
                  items:
                    type: object
                    required:
                      - store_id
                      - location_id
                    properties:
                      store_id:
                        type: string
                        minLength: 1
                        description: The identifier for the store in NewStore (a UUID).
                      location_id:
                        type: string
                        minLength: 1
                        description: >-
                          The identifier for the location on the Square platform
                          that maps to this 'store_id'.
            examples:
              PSP Square config request:
                value:
                  api:
                    base_url: https://connect.squareup.com/v2
                  store_mapping:
                    - store_id: US01
                      location_id: '1001'
                    - store_id: JP01
                      location_id: '1002'
      responses:
        '200':
          description: The operation was successful.
  /config/psp_square/history:
    get:
      summary: Audit history for PSP Square configuration
      description: >-
        Returns a list of the current and all previous values for the PSP Square
        configuration.
      operationId: getPSPSquareConfigurationHistory
      security:
        - newStoreAccessToken: []
      responses:
        '200':
          description: The audit history of the PSP Square configuration
          content:
            application/json:
              schema:
                title: PSP Square configuration audit.
                description: >-
                  Current configuration values for PSP Square and its previous
                  versions with change information.
                type: object
                properties:
                  api:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          description: Configuration parameters for the Square API.
                          type: object
                          required:
                            - base_url
                          properties:
                            timeout:
                              type: integer
                              description: >-
                                Maximum waiting time in seconds for an external
                                HTTP request. MUST be smaller than gRPC timeout.
                                Default 10s
                            base_url:
                              type: string
                              minLength: 1
                              description: Base URI to access the square API.
                  store_mapping:
                    description: List of all versions of the configuration.
                    type: array
                    items:
                      type: object
                      required:
                        - version
                        - value
                      properties:
                        version:
                          type: integer
                          description: The version of the config.
                        user_id:
                          type: string
                          description: The id of the user that made the change.
                        inserted_at:
                          type: string
                          format: date-time
                          description: The date in UTC when this config change was made.
                        current:
                          type: boolean
                          description: >-
                            Indicates if this is the current version of this
                            configuration.
                        value:
                          type: array
                          description: >-
                            A list of related NewStore store IDs and their
                            corresponding Square location IDs. NewStore Store
                            IDs should be unique.
                          items:
                            type: object
                            required:
                              - store_id
                              - location_id
                            properties:
                              store_id:
                                type: string
                                minLength: 1
                                description: >-
                                  The identifier for the store in NewStore (a
                                  UUID).
                              location_id:
                                type: string
                                minLength: 1
                                description: >-
                                  The identifier for the location on the Square
                                  platform that maps to this 'store_id'.
              examples:
                PSPSquareConfigurationHistory:
                  value:
                    api:
                      - version: 3
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          base_url: https://connect.squareup.com/v3
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          base_url: https://connect.squareup.com/v2
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          base_url: https://connect.squareup.com/v1
                    store_mapping:
                      - version: 3
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        current: true
                        value:
                          - store_id: US03
                            location_id: '1003'
                          - store_id: JP03
                            location_id: '1003'
                      - version: 2
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          - store_id: US02
                            location_id: '1002'
                          - store_id: JP02
                            location_id: '1002'
                      - version: 1
                        user_id: b040334f-a6ea-4bfb-a3e0-eb1adce2052d
                        inserted_at: '0001-01-01T00:00:00Z'
                        value:
                          - store_id: US01
                            location_id: '1001'
                          - store_id: JP01
                            location_id: '1001'
  /adyen_pay_by_link/payment_links:
    post:
      summary: Create a payment link for a customer to pay a cart
      description: >-
        Returns an object that includes a url for paying a specific amount
        referencing a cart. If the cart totals change, a new link has to be
        created.
      operationId: createPaymentLink
      requestBody:
        content:
          application/json:
            schema:
              title: Create a payment link
              type: object
              description: pay by link object
              required:
                - payment_reference
                - store_id
                - amount
                - currency
              properties:
                payment_reference:
                  description: The payment reference
                  type: string
                store_id:
                  description: Id of the store
                  type: string
                amount:
                  description: Amount of the order in cents
                  type: number
                currency:
                  description: Currency of the order
                  type: string
                country_code:
                  description: >-
                    Two-letter country code to determine the payment options
                    displayed. Unknown country is assumed when omitted.
                  type: string
                  default: ZZ
                customer:
                  type: object
                  description: >-
                    Customer object for optional risk assessment. If not
                    present, it's captured from the shopper before paying.
                  required:
                    - email
                  properties:
                    first_name:
                      description: First name
                      type: string
                    last_name:
                      description: Last name
                      type: string
                    email:
                      description: E-Mail
                      type: string
                    shipping_address:
                      type: object
                      description: >-
                        Shipping address of the customer used for risk
                        assessment only.
                      properties:
                        street:
                          description: Street name
                          type: string
                        house_number:
                          description: House number
                          type: string
                        postal_code:
                          description: Zip code
                          type: string
                        state:
                          description: State or province
                          type: string
                        city:
                          description: City
                          type: string
                        country:
                          description: Two-letter country code
                          type: string
            examples:
              PayByLink:
                value:
                  payment_reference: ref
                  amount: 5000
                  currency: USD
                  store_id: 7c9f2605-9fb3-5444-8fee-47fe51608efe
                  country_code: US
      responses:
        '200':
          description: Successful Pay Bu Link response
          content:
            application/json:
              schema:
                title: Created payment link from adyen
                type: object
                description: pay by link object
                properties:
                  url:
                    type: string
                    description: url to pay the cart
                  status:
                    type: string
                    description: >-
                      Status of the payment link. See
                      https://docs.adyen.com/api-explorer/#/CheckoutService/v69/post/paymentLinks__resParam_status
                    enum:
                      - active
                      - expired
                      - completed
                      - completed
                      - paymentPending
                  reusable:
                    type: boolean
                    description: >-
                      Indicates whether the payment link can be reused for
                      multiple payments.
                  id:
                    type: string
                    description: id for querying the status of the payment link
                  expires_at:
                    type: string
                    description: ISO string indicating when the payment link will expire
              examples:
                PayByLink:
                  value:
                    url: https://test.adyen.link/PLF7CEC74DABD9295D
                    status: active
                    reusable: false
                    id: PLF7CEC74DABD9295D
                    expires_at: '2022-09-03T07:48:50Z'
components:
  securitySchemes:
    newStoreAccessToken:
      type: http
      scheme: bearer
      bearerFormat: JWT
x-annotation-crossOriginAllowed: true
security:
  - newStoreAccessToken: []
