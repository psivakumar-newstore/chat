openapi: 3.0.0
paths:
  /previews/transactions:
    post:
      description: >-
        Creates a preview tax transaction by calculating the total amounts of
        cart items using the configured tax strategy without storing the
        transaction. Intended to be used for testing and validation purposes.
      operationId: createTaxTransactionPreview
      parameters:
        - name: x-request-id
          in: header
          description: Request identifier.
          schema:
            type: string
        - name: store-id
          in: header
          description: Store identifier.
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                tax_exempt:
                  type: boolean
                  description: Defines the tax exemption status of the transaction.
                  default: false
                transaction_type:
                  allOf:
                    - type: string
                      enum:
                        - SALE
                        - RETURN
                      description: Type of the transaction.
                      example: SALE
                order_id:
                  type: string
                  description: >-
                    The order ID that will be used as a reference to link the
                    order to the created tax transaction in the tax provider
                    records.

                    * In case the order ID is not provided then a randomly
                    generated identifier will be used instead.

                    * The tax transaction will be stored by using the given
                    value.
                  example: 56bb9975-f43a-4eee-8fb2-200957eb0624
                return_id:
                  type: string
                  description: >-
                    The return ID that will be used as a reference to link the
                    order to the created tax transaction in the tax provider
                    records.

                    * The tax transaction for returns will be stored by using
                    the given value.

                    * If the value is not set, the return transaction will not
                    be stored.
                  example: 4fbcc8b3-8511-4ad1-8c9f-96b7c08db664
                exemption_number:
                  type: string
                  description: >-
                    The number of the customer's exemption certificate.

                    * The given value can be verified by the auditors in the
                    event of a tax audit.
                items:
                  type: array
                  description: >-
                    A list of the items sold/returned in the transaction.

                    * The type `ReverseCalculationTransactionItemDto` should be
                    used when the `calculation_mode` is set to `REVERSE`.

                    * The type `TransactionItemDto` should be used When the
                    `calculation_mode` is not sent or set to `STANDARD`.
                  items:
                    oneOf:
                      - type: object
                        properties:
                          tax_class:
                            type: string
                            description: Tax classification identifier for the line item.
                            example: AAA000
                            maxLength: 256
                          tax_method:
                            allOf:
                              - type: string
                                enum:
                                  - vat_included
                                  - vat_excluded
                                description: >-
                                  The method that indicates how item tax is
                                  applied.
                                example: vat_excluded
                          item_price:
                            type: number
                            description: >-
                              Price per quantity 1 of the item, can be incl. or
                              excl. tax depending on tax_method.
                            example: 200
                            format: double
                          quantity:
                            type: integer
                            description: >-
                              Item quantity. Positive number for sold items and
                              negative number for returned items
                            example: 1
                            format: int32
                          shipping_address:
                            description: Consumer's shipping address.
                            allOf:
                              - type: object
                                properties:
                                  store_id:
                                    type: string
                                    description: NewStore Store ID of the address.
                                    example: Munich-store
                                  address_line_1:
                                    type: string
                                    description: Location address line 1.
                                    example: 81 Elk Rd Little
                                  address_line_2:
                                    type: string
                                    description: Location address line 2.
                                  province:
                                    type: string
                                    description: Location province.
                                    example: New York
                                  state:
                                    type: string
                                    description: Location state.
                                    example: New York
                                  zip_code:
                                    type: string
                                    description: Location ZIP code.
                                    example: '12207'
                                    maxLength: 32
                                  city:
                                    type: string
                                    description: Location city.
                                    example: Albany
                                  country_code:
                                    allOf:
                                      - type: string
                                        enum:
                                          - AF
                                          - AX
                                          - AL
                                          - DZ
                                          - AS
                                          - AD
                                          - AO
                                          - AI
                                          - AQ
                                          - AG
                                          - AR
                                          - AM
                                          - AW
                                          - AU
                                          - AT
                                          - AZ
                                          - BS
                                          - BH
                                          - BD
                                          - BB
                                          - BY
                                          - BE
                                          - BZ
                                          - BJ
                                          - BM
                                          - BT
                                          - BO
                                          - BA
                                          - BW
                                          - BV
                                          - BR
                                          - IO
                                          - BN
                                          - BG
                                          - BF
                                          - BI
                                          - KH
                                          - CM
                                          - CA
                                          - CV
                                          - KY
                                          - CF
                                          - TD
                                          - CL
                                          - CN
                                          - CX
                                          - CC
                                          - CO
                                          - KM
                                          - CG
                                          - CD
                                          - CK
                                          - CR
                                          - CI
                                          - HR
                                          - CU
                                          - CY
                                          - CZ
                                          - DK
                                          - DJ
                                          - DM
                                          - DO
                                          - EC
                                          - EG
                                          - SV
                                          - GQ
                                          - ER
                                          - EE
                                          - ET
                                          - FK
                                          - FO
                                          - FJ
                                          - FI
                                          - FR
                                          - GF
                                          - PF
                                          - TF
                                          - GA
                                          - GM
                                          - GE
                                          - DE
                                          - GH
                                          - GI
                                          - GR
                                          - GL
                                          - GD
                                          - GP
                                          - GU
                                          - GT
                                          - GG
                                          - GN
                                          - GW
                                          - GY
                                          - HT
                                          - HM
                                          - VA
                                          - HN
                                          - HK
                                          - HU
                                          - IS
                                          - IN
                                          - ID
                                          - IR
                                          - IQ
                                          - IE
                                          - IM
                                          - IL
                                          - IT
                                          - JM
                                          - JP
                                          - JE
                                          - JO
                                          - KZ
                                          - KE
                                          - KI
                                          - KR
                                          - KW
                                          - KG
                                          - LA
                                          - LV
                                          - LB
                                          - LS
                                          - LR
                                          - LY
                                          - LI
                                          - LT
                                          - LU
                                          - MO
                                          - MK
                                          - MG
                                          - MW
                                          - MY
                                          - MV
                                          - ML
                                          - MT
                                          - MH
                                          - MQ
                                          - MR
                                          - MU
                                          - YT
                                          - MX
                                          - FM
                                          - MD
                                          - MC
                                          - MN
                                          - ME
                                          - MS
                                          - MA
                                          - MZ
                                          - MM
                                          - NA
                                          - NR
                                          - NP
                                          - NL
                                          - AN
                                          - NC
                                          - NZ
                                          - NI
                                          - NE
                                          - NG
                                          - NU
                                          - NF
                                          - MP
                                          - 'NO'
                                          - OM
                                          - PK
                                          - PW
                                          - PS
                                          - PA
                                          - PG
                                          - PY
                                          - PE
                                          - PH
                                          - PN
                                          - PL
                                          - PT
                                          - PR
                                          - QA
                                          - RE
                                          - RO
                                          - RU
                                          - RW
                                          - BL
                                          - SH
                                          - KN
                                          - LC
                                          - MF
                                          - PM
                                          - VC
                                          - WS
                                          - SM
                                          - ST
                                          - SA
                                          - SN
                                          - RS
                                          - SC
                                          - SL
                                          - SG
                                          - SK
                                          - SI
                                          - SB
                                          - SO
                                          - ZA
                                          - GS
                                          - ES
                                          - LK
                                          - SD
                                          - SR
                                          - SJ
                                          - SZ
                                          - SE
                                          - CH
                                          - SY
                                          - TW
                                          - TJ
                                          - TZ
                                          - TH
                                          - TL
                                          - TG
                                          - TK
                                          - TO
                                          - TT
                                          - TN
                                          - TR
                                          - TM
                                          - TC
                                          - TV
                                          - UG
                                          - UA
                                          - AE
                                          - GB
                                          - US
                                          - UM
                                          - UY
                                          - UZ
                                          - VU
                                          - VE
                                          - VN
                                          - VG
                                          - VI
                                          - WF
                                          - EH
                                          - YE
                                          - ZM
                                          - ZW
                                        description: >-
                                          Country code in upper-case ISO 3166
                                          Alpha-2 format.
                                        example: DE
                          shipping_origin:
                            description: >-
                              The origin of goods address, e.g. physical address
                              of a store.
                            allOf:
                              - type: object
                                properties:
                                  store_id:
                                    type: string
                                    description: NewStore Store ID of the address.
                                    example: Munich-store
                                  address_line_1:
                                    type: string
                                    description: Location address line 1.
                                    example: 81 Elk Rd Little
                                  address_line_2:
                                    type: string
                                    description: Location address line 2.
                                  province:
                                    type: string
                                    description: Location province.
                                    example: New York
                                  state:
                                    type: string
                                    description: Location state.
                                    example: New York
                                  zip_code:
                                    type: string
                                    description: Location ZIP code.
                                    example: '12207'
                                    maxLength: 32
                                  city:
                                    type: string
                                    description: Location city.
                                    example: Albany
                                  country_code:
                                    allOf:
                                      - type: string
                                        enum:
                                          - AF
                                          - AX
                                          - AL
                                          - DZ
                                          - AS
                                          - AD
                                          - AO
                                          - AI
                                          - AQ
                                          - AG
                                          - AR
                                          - AM
                                          - AW
                                          - AU
                                          - AT
                                          - AZ
                                          - BS
                                          - BH
                                          - BD
                                          - BB
                                          - BY
                                          - BE
                                          - BZ
                                          - BJ
                                          - BM
                                          - BT
                                          - BO
                                          - BA
                                          - BW
                                          - BV
                                          - BR
                                          - IO
                                          - BN
                                          - BG
                                          - BF
                                          - BI
                                          - KH
                                          - CM
                                          - CA
                                          - CV
                                          - KY
                                          - CF
                                          - TD
                                          - CL
                                          - CN
                                          - CX
                                          - CC
                                          - CO
                                          - KM
                                          - CG
                                          - CD
                                          - CK
                                          - CR
                                          - CI
                                          - HR
                                          - CU
                                          - CY
                                          - CZ
                                          - DK
                                          - DJ
                                          - DM
                                          - DO
                                          - EC
                                          - EG
                                          - SV
                                          - GQ
                                          - ER
                                          - EE
                                          - ET
                                          - FK
                                          - FO
                                          - FJ
                                          - FI
                                          - FR
                                          - GF
                                          - PF
                                          - TF
                                          - GA
                                          - GM
                                          - GE
                                          - DE
                                          - GH
                                          - GI
                                          - GR
                                          - GL
                                          - GD
                                          - GP
                                          - GU
                                          - GT
                                          - GG
                                          - GN
                                          - GW
                                          - GY
                                          - HT
                                          - HM
                                          - VA
                                          - HN
                                          - HK
                                          - HU
                                          - IS
                                          - IN
                                          - ID
                                          - IR
                                          - IQ
                                          - IE
                                          - IM
                                          - IL
                                          - IT
                                          - JM
                                          - JP
                                          - JE
                                          - JO
                                          - KZ
                                          - KE
                                          - KI
                                          - KR
                                          - KW
                                          - KG
                                          - LA
                                          - LV
                                          - LB
                                          - LS
                                          - LR
                                          - LY
                                          - LI
                                          - LT
                                          - LU
                                          - MO
                                          - MK
                                          - MG
                                          - MW
                                          - MY
                                          - MV
                                          - ML
                                          - MT
                                          - MH
                                          - MQ
                                          - MR
                                          - MU
                                          - YT
                                          - MX
                                          - FM
                                          - MD
                                          - MC
                                          - MN
                                          - ME
                                          - MS
                                          - MA
                                          - MZ
                                          - MM
                                          - NA
                                          - NR
                                          - NP
                                          - NL
                                          - AN
                                          - NC
                                          - NZ
                                          - NI
                                          - NE
                                          - NG
                                          - NU
                                          - NF
                                          - MP
                                          - 'NO'
                                          - OM
                                          - PK
                                          - PW
                                          - PS
                                          - PA
                                          - PG
                                          - PY
                                          - PE
                                          - PH
                                          - PN
                                          - PL
                                          - PT
                                          - PR
                                          - QA
                                          - RE
                                          - RO
                                          - RU
                                          - RW
                                          - BL
                                          - SH
                                          - KN
                                          - LC
                                          - MF
                                          - PM
                                          - VC
                                          - WS
                                          - SM
                                          - ST
                                          - SA
                                          - SN
                                          - RS
                                          - SC
                                          - SL
                                          - SG
                                          - SK
                                          - SI
                                          - SB
                                          - SO
                                          - ZA
                                          - GS
                                          - ES
                                          - LK
                                          - SD
                                          - SR
                                          - SJ
                                          - SZ
                                          - SE
                                          - CH
                                          - SY
                                          - TW
                                          - TJ
                                          - TZ
                                          - TH
                                          - TL
                                          - TG
                                          - TK
                                          - TO
                                          - TT
                                          - TN
                                          - TR
                                          - TM
                                          - TC
                                          - TV
                                          - UG
                                          - UA
                                          - AE
                                          - GB
                                          - US
                                          - UM
                                          - UY
                                          - UZ
                                          - VU
                                          - VE
                                          - VN
                                          - VG
                                          - VI
                                          - WF
                                          - EH
                                          - YE
                                          - ZM
                                          - ZW
                                        description: >-
                                          Country code in upper-case ISO 3166
                                          Alpha-2 format.
                                        example: DE
                          type:
                            allOf:
                              - type: string
                                enum:
                                  - gift-card
                                  - gift-wrapping
                                  - product
                                  - shipping
                                description: Type of the item.
                                example: product
                          currency_consumer:
                            type: string
                            description: Currency code shown and billed to the consumer.
                            example: USD
                          consumer_uuid:
                            type: string
                            description: UUID of the consumer.
                          product_name:
                            type: string
                            description: Human-readable name of the product.
                            example: Metallica shirt
                            maxLength: 512
                          product_sku:
                            type: string
                            description: SKU of the product.
                            example: AIk-0790
                            maxLength: 256
                          product_id:
                            type: string
                            description: Unique identifier of the product.
                            example: '123'
                          extended_attributes:
                            description: The item's list of extended attributes.
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                                  description: The name of the extended attribute.
                                  example: size
                                value:
                                  type: string
                                  description: The value of the extended attribute.
                                  example: '36'
                              required:
                                - name
                                - value
                          id:
                            type: string
                            description: Unique identifier of the item.
                            example: '123'
                          handling_charges:
                            type: number
                            description: Cost of handling.
                            example: 10
                            format: double
                        required:
                          - tax_class
                          - tax_method
                          - item_price
                          - quantity
                          - shipping_address
                          - shipping_origin
                          - type
                      - type: object
                        properties:
                          tax_class:
                            type: string
                            description: Tax classification identifier for the line item.
                            example: AAA000
                            maxLength: 256
                          tax_method:
                            allOf:
                              - type: string
                                enum:
                                  - vat_included
                                  - vat_excluded
                                description: >-
                                  The method that indicates how item tax is
                                  applied.
                                example: vat_excluded
                          item_price:
                            type: number
                            description: >-
                              Price per quantity 1 of the item, can be incl. or
                              excl. tax depending on tax_method.
                            example: 200
                            format: double
                          quantity:
                            type: integer
                            description: >-
                              Item quantity. Positive number for sold items and
                              negative number for returned items
                            example: 1
                            format: int32
                          shipping_address:
                            description: Consumer's shipping address.
                            allOf:
                              - type: object
                                properties:
                                  store_id:
                                    type: string
                                    description: NewStore Store ID of the address.
                                    example: Munich-store
                                  address_line_1:
                                    type: string
                                    description: Location address line 1.
                                    example: 81 Elk Rd Little
                                  address_line_2:
                                    type: string
                                    description: Location address line 2.
                                  province:
                                    type: string
                                    description: Location province.
                                    example: New York
                                  state:
                                    type: string
                                    description: Location state.
                                    example: New York
                                  zip_code:
                                    type: string
                                    description: Location ZIP code.
                                    example: '12207'
                                    maxLength: 32
                                  city:
                                    type: string
                                    description: Location city.
                                    example: Albany
                                  country_code:
                                    allOf:
                                      - type: string
                                        enum:
                                          - AF
                                          - AX
                                          - AL
                                          - DZ
                                          - AS
                                          - AD
                                          - AO
                                          - AI
                                          - AQ
                                          - AG
                                          - AR
                                          - AM
                                          - AW
                                          - AU
                                          - AT
                                          - AZ
                                          - BS
                                          - BH
                                          - BD
                                          - BB
                                          - BY
                                          - BE
                                          - BZ
                                          - BJ
                                          - BM
                                          - BT
                                          - BO
                                          - BA
                                          - BW
                                          - BV
                                          - BR
                                          - IO
                                          - BN
                                          - BG
                                          - BF
                                          - BI
                                          - KH
                                          - CM
                                          - CA
                                          - CV
                                          - KY
                                          - CF
                                          - TD
                                          - CL
                                          - CN
                                          - CX
                                          - CC
                                          - CO
                                          - KM
                                          - CG
                                          - CD
                                          - CK
                                          - CR
                                          - CI
                                          - HR
                                          - CU
                                          - CY
                                          - CZ
                                          - DK
                                          - DJ
                                          - DM
                                          - DO
                                          - EC
                                          - EG
                                          - SV
                                          - GQ
                                          - ER
                                          - EE
                                          - ET
                                          - FK
                                          - FO
                                          - FJ
                                          - FI
                                          - FR
                                          - GF
                                          - PF
                                          - TF
                                          - GA
                                          - GM
                                          - GE
                                          - DE
                                          - GH
                                          - GI
                                          - GR
                                          - GL
                                          - GD
                                          - GP
                                          - GU
                                          - GT
                                          - GG
                                          - GN
                                          - GW
                                          - GY
                                          - HT
                                          - HM
                                          - VA
                                          - HN
                                          - HK
                                          - HU
                                          - IS
                                          - IN
                                          - ID
                                          - IR
                                          - IQ
                                          - IE
                                          - IM
                                          - IL
                                          - IT
                                          - JM
                                          - JP
                                          - JE
                                          - JO
                                          - KZ
                                          - KE
                                          - KI
                                          - KR
                                          - KW
                                          - KG
                                          - LA
                                          - LV
                                          - LB
                                          - LS
                                          - LR
                                          - LY
                                          - LI
                                          - LT
                                          - LU
                                          - MO
                                          - MK
                                          - MG
                                          - MW
                                          - MY
                                          - MV
                                          - ML
                                          - MT
                                          - MH
                                          - MQ
                                          - MR
                                          - MU
                                          - YT
                                          - MX
                                          - FM
                                          - MD
                                          - MC
                                          - MN
                                          - ME
                                          - MS
                                          - MA
                                          - MZ
                                          - MM
                                          - NA
                                          - NR
                                          - NP
                                          - NL
                                          - AN
                                          - NC
                                          - NZ
                                          - NI
                                          - NE
                                          - NG
                                          - NU
                                          - NF
                                          - MP
                                          - 'NO'
                                          - OM
                                          - PK
                                          - PW
                                          - PS
                                          - PA
                                          - PG
                                          - PY
                                          - PE
                                          - PH
                                          - PN
                                          - PL
                                          - PT
                                          - PR
                                          - QA
                                          - RE
                                          - RO
                                          - RU
                                          - RW
                                          - BL
                                          - SH
                                          - KN
                                          - LC
                                          - MF
                                          - PM
                                          - VC
                                          - WS
                                          - SM
                                          - ST
                                          - SA
                                          - SN
                                          - RS
                                          - SC
                                          - SL
                                          - SG
                                          - SK
                                          - SI
                                          - SB
                                          - SO
                                          - ZA
                                          - GS
                                          - ES
                                          - LK
                                          - SD
                                          - SR
                                          - SJ
                                          - SZ
                                          - SE
                                          - CH
                                          - SY
                                          - TW
                                          - TJ
                                          - TZ
                                          - TH
                                          - TL
                                          - TG
                                          - TK
                                          - TO
                                          - TT
                                          - TN
                                          - TR
                                          - TM
                                          - TC
                                          - TV
                                          - UG
                                          - UA
                                          - AE
                                          - GB
                                          - US
                                          - UM
                                          - UY
                                          - UZ
                                          - VU
                                          - VE
                                          - VN
                                          - VG
                                          - VI
                                          - WF
                                          - EH
                                          - YE
                                          - ZM
                                          - ZW
                                        description: >-
                                          Country code in upper-case ISO 3166
                                          Alpha-2 format.
                                        example: DE
                          shipping_origin:
                            description: >-
                              The origin of goods address, e.g. physical address
                              of a store.
                            allOf:
                              - type: object
                                properties:
                                  store_id:
                                    type: string
                                    description: NewStore Store ID of the address.
                                    example: Munich-store
                                  address_line_1:
                                    type: string
                                    description: Location address line 1.
                                    example: 81 Elk Rd Little
                                  address_line_2:
                                    type: string
                                    description: Location address line 2.
                                  province:
                                    type: string
                                    description: Location province.
                                    example: New York
                                  state:
                                    type: string
                                    description: Location state.
                                    example: New York
                                  zip_code:
                                    type: string
                                    description: Location ZIP code.
                                    example: '12207'
                                    maxLength: 32
                                  city:
                                    type: string
                                    description: Location city.
                                    example: Albany
                                  country_code:
                                    allOf:
                                      - type: string
                                        enum:
                                          - AF
                                          - AX
                                          - AL
                                          - DZ
                                          - AS
                                          - AD
                                          - AO
                                          - AI
                                          - AQ
                                          - AG
                                          - AR
                                          - AM
                                          - AW
                                          - AU
                                          - AT
                                          - AZ
                                          - BS
                                          - BH
                                          - BD
                                          - BB
                                          - BY
                                          - BE
                                          - BZ
                                          - BJ
                                          - BM
                                          - BT
                                          - BO
                                          - BA
                                          - BW
                                          - BV
                                          - BR
                                          - IO
                                          - BN
                                          - BG
                                          - BF
                                          - BI
                                          - KH
                                          - CM
                                          - CA
                                          - CV
                                          - KY
                                          - CF
                                          - TD
                                          - CL
                                          - CN
                                          - CX
                                          - CC
                                          - CO
                                          - KM
                                          - CG
                                          - CD
                                          - CK
                                          - CR
                                          - CI
                                          - HR
                                          - CU
                                          - CY
                                          - CZ
                                          - DK
                                          - DJ
                                          - DM
                                          - DO
                                          - EC
                                          - EG
                                          - SV
                                          - GQ
                                          - ER
                                          - EE
                                          - ET
                                          - FK
                                          - FO
                                          - FJ
                                          - FI
                                          - FR
                                          - GF
                                          - PF
                                          - TF
                                          - GA
                                          - GM
                                          - GE
                                          - DE
                                          - GH
                                          - GI
                                          - GR
                                          - GL
                                          - GD
                                          - GP
                                          - GU
                                          - GT
                                          - GG
                                          - GN
                                          - GW
                                          - GY
                                          - HT
                                          - HM
                                          - VA
                                          - HN
                                          - HK
                                          - HU
                                          - IS
                                          - IN
                                          - ID
                                          - IR
                                          - IQ
                                          - IE
                                          - IM
                                          - IL
                                          - IT
                                          - JM
                                          - JP
                                          - JE
                                          - JO
                                          - KZ
                                          - KE
                                          - KI
                                          - KR
                                          - KW
                                          - KG
                                          - LA
                                          - LV
                                          - LB
                                          - LS
                                          - LR
                                          - LY
                                          - LI
                                          - LT
                                          - LU
                                          - MO
                                          - MK
                                          - MG
                                          - MW
                                          - MY
                                          - MV
                                          - ML
                                          - MT
                                          - MH
                                          - MQ
                                          - MR
                                          - MU
                                          - YT
                                          - MX
                                          - FM
                                          - MD
                                          - MC
                                          - MN
                                          - ME
                                          - MS
                                          - MA
                                          - MZ
                                          - MM
                                          - NA
                                          - NR
                                          - NP
                                          - NL
                                          - AN
                                          - NC
                                          - NZ
                                          - NI
                                          - NE
                                          - NG
                                          - NU
                                          - NF
                                          - MP
                                          - 'NO'
                                          - OM
                                          - PK
                                          - PW
                                          - PS
                                          - PA
                                          - PG
                                          - PY
                                          - PE
                                          - PH
                                          - PN
                                          - PL
                                          - PT
                                          - PR
                                          - QA
                                          - RE
                                          - RO
                                          - RU
                                          - RW
                                          - BL
                                          - SH
                                          - KN
                                          - LC
                                          - MF
                                          - PM
                                          - VC
                                          - WS
                                          - SM
                                          - ST
                                          - SA
                                          - SN
                                          - RS
                                          - SC
                                          - SL
                                          - SG
                                          - SK
                                          - SI
                                          - SB
                                          - SO
                                          - ZA
                                          - GS
                                          - ES
                                          - LK
                                          - SD
                                          - SR
                                          - SJ
                                          - SZ
                                          - SE
                                          - CH
                                          - SY
                                          - TW
                                          - TJ
                                          - TZ
                                          - TH
                                          - TL
                                          - TG
                                          - TK
                                          - TO
                                          - TT
                                          - TN
                                          - TR
                                          - TM
                                          - TC
                                          - TV
                                          - UG
                                          - UA
                                          - AE
                                          - GB
                                          - US
                                          - UM
                                          - UY
                                          - UZ
                                          - VU
                                          - VE
                                          - VN
                                          - VG
                                          - VI
                                          - WF
                                          - EH
                                          - YE
                                          - ZM
                                          - ZW
                                        description: >-
                                          Country code in upper-case ISO 3166
                                          Alpha-2 format.
                                        example: DE
                          type:
                            allOf:
                              - type: string
                                enum:
                                  - gift-card
                                  - gift-wrapping
                                  - product
                                  - shipping
                                description: Type of the item.
                                example: product
                          currency_consumer:
                            type: string
                            description: Currency code shown and billed to the consumer.
                            example: USD
                          consumer_uuid:
                            type: string
                            description: UUID of the consumer.
                          product_name:
                            type: string
                            description: Human-readable name of the product.
                            example: Metallica shirt
                            maxLength: 512
                          product_sku:
                            type: string
                            description: SKU of the product.
                            example: AIk-0790
                            maxLength: 256
                          product_id:
                            type: string
                            description: Unique identifier of the product.
                            example: '123'
                          extended_attributes:
                            description: The item's list of extended attributes.
                            type: array
                            items:
                              type: object
                              properties:
                                name:
                                  type: string
                                  description: The name of the extended attribute.
                                  example: size
                                value:
                                  type: string
                                  description: The value of the extended attribute.
                                  example: '36'
                              required:
                                - name
                                - value
                          id:
                            type: string
                            description: Unique identifier of the item.
                            example: '123'
                          handling_charges:
                            type: number
                            description: Cost of handling.
                            example: 10
                            format: double
                          price_line_item:
                            type: number
                            description: >-
                              Gross price for the total quantity of the line
                              item, after all discounts.
                            example: 200
                            format: double
                          price_net:
                            type: number
                            description: >-
                              Net price for total quantity of line item, after
                              applying all discounts.
                            example: 180
                            format: double
                          price_tax:
                            type: number
                            description: >-
                              Total amount of tax added to the net price, after
                              appplying all discounts.
                            example: 20
                            format: double
                          tax_rates:
                            description: >-
                              All applied tax percent values and tax amounts for
                              total quantity of line item (usually more than one
                              rate per line item).
                            type: array
                            items:
                              type: object
                              properties:
                                rate:
                                  type: number
                                  description: >-
                                    Tax percent value for this tax rate item,
                                    e.g. 0.19 means 19% tax.
                                  example: 0.19
                                  format: double
                                amount:
                                  type: number
                                  description: >-
                                    Monetary tax amount for the unit price
                                    corresponding to this tax_rate item's
                                    percent value, e.g. 3.37.
                                  example: 10
                                  format: double
                                tax_name:
                                  type: string
                                  description: Name of the applied tax.
                                  example: Colorado retail delivery fee
                                country_code:
                                  type: string
                                  description: Country of jurisdiction for the applied tax.
                                  example: US
                              required:
                                - rate
                                - amount
                                - tax_name
                                - country_code
                        required:
                          - tax_class
                          - tax_method
                          - item_price
                          - quantity
                          - shipping_address
                          - shipping_origin
                          - type
                          - price_line_item
                          - price_net
                          - price_tax
                          - tax_rates
                exemption_class:
                  allOf:
                    - type: string
                      enum:
                        - FEDERAL_GOVERNMENT
                        - STATE_GOVERNMENT
                        - TRIBAL_GOVERNMENT
                        - LOCAL_GOVERNMENT
                        - FOREIGN_DIPLOMAT
                        - CHARITY_ORGANIZATION
                        - RELIGIOUS_ORGANIZATION
                        - EDUCATIONAL_ORGANIZATION
                        - RESALE
                        - DIRECT_PAY_PERMIT
                        - OTHER
                        - NON_RESIDENT
                        - FIRST_NATION_CITIZEN
                        - CUSTOM_*
                      description: >-
                        The tax exemption class that identifies the customer's
                        group/organization that accredited them with the tax
                        exemption status.

                        * For custom tax exemption classes, the `CUSTOM_` prefix
                        with a UPPER_SNAKE_CASE key can be used. Example:
                        `CUSTOM_CANADA`
                      example: CHARITY_ORGANIZATION
                tax_date:
                  type: string
                  description: >-
                    Date of the transaction (in UTC timezone) that'll be used in
                    committing taxes.
                  example: '2023-09-25T01:23:45Z'
                  format: date-time
                calculation_mode:
                  allOf:
                    - type: string
                      enum:
                        - STANDARD
                        - REVERSE
                      description: >-
                        Type of the tax calculation


                        * `STANDARD`: Standard tax calculation (default).

                        * Taxes will be calculated for each line from
                        `item_price * quantity` respecting the `tax_method` (tax
                        incl./excl.).



                        * `REVERSE`: Reverse calculation of taxes from the total
                        amount paid by customer (e.g. for injected offline or
                        e-comm orders).

                        * Taxes will be calculated from `price_line_item` (total
                        gross amount for given quantity) regardless of
                        `tax_method` (tax incl./excl.).
                      example: STANDARD
              required:
                - order_id
                - items
            examples:
              TaxInclusiveOrder:
                summary: Order with tax inclusive items
                description: Example transaction with tax inclusive items.
                value:
                  tax_exempt: false
                  transaction_type: SALE
                  order_id: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  items:
                    - tax_class: AAA000
                      tax_method: vat_included
                      item_price: 200
                      quantity: 1
                      shipping_address:
                        address_line_1: Potsdamer Str. 7, 10785 Berlin
                        zip_code: '10785'
                        city: Berlin
                        country_code: DE
                      shipping_origin:
                        address_line_1: Potsdamer Str. 7, 10785 Berlin
                        zip_code: '10785'
                        city: Berlin
                        country_code: DE
                      type: product
                      currency_consumer: EUR
                      product_name: Metallica shirt
                      product_sku: AIk-0790
                      product_id: '123'
                      extended_attributes:
                        - name: size
                          value: L
                      id: '123'
              TaxExclusiveOrder:
                summary: Order with tax exclusive items
                description: Example transaction with tax exclusive items.
                value:
                  tax_exempt: false
                  transaction_type: SALE
                  order_id: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  items:
                    - tax_class: AAA000
                      tax_method: vat_excluded
                      item_price: 200
                      quantity: 1
                      shipping_address:
                        address_line_1: 81 Elk Rd Little
                        state: NY
                        zip_code: '12207'
                        city: Albany
                        country_code: US
                      shipping_origin:
                        address_line_1: 81 Elk Rd Little
                        state: NY
                        zip_code: '12207'
                        city: Albany
                        country_code: US
                      type: product
                      currency_consumer: USD
                      product_name: Metallica shirt
                      product_sku: AIk-0790
                      product_id: '123'
                      extended_attributes:
                        - name: size
                          value: L
                      id: '123'
              ShippingItem:
                summary: Order with shipping
                description: Example transaction with shipping item.
                value:
                  tax_exempt: false
                  transaction_type: SALE
                  order_id: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  items:
                    - tax_class: AAA000
                      tax_method: vat_excluded
                      item_price: 200
                      quantity: 1
                      shipping_origin:
                        address_line_1: 120 Spring Street
                        city: New York
                        state: NY
                        zip_code: '10012'
                        country_code: US
                      shipping_address:
                        address_line_1: 6 Arnold Drive
                        city: New York
                        state: NY
                        zip_code: '10031'
                        country_code: US
                      type: product
                      currency_consumer: USD
                      product_name: Metallica shirt
                      product_sku: AIk-0790
                      product_id: '123'
                      extended_attributes:
                        - name: size
                          value: L
                      id: '123'
                    - type: shipping
                      item_price: 20
                      quantity: 1
                      currency_consumer: USD
                      tax_method: vat_excluded
                      tax_class: BBB
                      shipping_origin:
                        address_line_1: 120 Spring Street
                        city: New York
                        state: NY
                        zip_code: '10012'
                        country_code: US
                      shipping_address:
                        address_line_1: 6 Arnold Drive
                        city: New York
                        state: NY
                        zip_code: '10031'
                        country_code: US
              GiftWrappingItem:
                summary: Order with gift wrapping
                description: Example transaction with gift wrapping item.
                value:
                  tax_exempt: false
                  transaction_type: SALE
                  order_id: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  items:
                    - tax_class: AAA000
                      tax_method: vat_excluded
                      item_price: 200
                      quantity: 1
                      shipping_origin:
                        address_line_1: 120 Spring Street
                        city: New York
                        state: NY
                        zip_code: '10012'
                        country_code: US
                      shipping_address:
                        address_line_1: 120 Spring Street
                        city: New York
                        state: NY
                        zip_code: '10012'
                        country_code: US
                      type: product
                      currency_consumer: USD
                      product_name: Metallica shirt
                      product_sku: AIk-0790
                      product_id: '123'
                      extended_attributes:
                        - name: size
                          value: L
                      id: '123'
                    - type: gift-wrapping
                      item_price: 20
                      quantity: 1
                      currency_consumer: USD
                      tax_method: vat_included
                      tax_class: BBB
                      product_id: gift-wrapping
                      product_sku: gift-wrapping
                      shipping_address:
                        address_line_1: 120 Spring Street
                        city: New York
                        state: NY
                        zip_code: '10012'
                        country_code: US
                      shipping_origin:
                        address_line_1: 120 Spring Street
                        city: New York
                        state: NY
                        zip_code: '10012'
                        country_code: US
              ReturnOrder:
                summary: Order with return items
                description: Example transaction with return items.
                value:
                  tax_exempt: false
                  transaction_type: RETURN
                  order_id: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  items:
                    - tax_class: AAA000
                      tax_method: vat_included
                      item_price: 200
                      quantity: -1
                      shipping_address:
                        address_line_1: Potsdamer Str. 7, 10785 Berlin
                        zip_code: '10785'
                        city: Berlin
                        country_code: DE
                      shipping_origin:
                        address_line_1: Potsdamer Str. 7, 10785 Berlin
                        zip_code: '10785'
                        city: Berlin
                        country_code: DE
                      type: product
                      currency_consumer: EUR
                      product_name: Metallica shirt
                      product_sku: AIk-0790
                      product_id: '123'
                      extended_attributes:
                        - name: size
                          value: L
                      id: '123'
              TaxExemptedOrder:
                summary: Order with tax exemption
                description: Example transaction with tax exemption.
                value:
                  tax_exempt: true
                  exemption_number: AC_976756444
                  transaction_type: SALE
                  order_id: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  items:
                    - tax_class: AAA000
                      tax_method: vat_excluded
                      item_price: 200
                      quantity: 1
                      shipping_origin:
                        address_line_1: 120 Spring Street
                        city: New York
                        state: NY
                        zip_code: '10012'
                        country_code: US
                      shipping_address:
                        address_line_1: 120 Spring Street
                        city: New York
                        state: NY
                        zip_code: '10012'
                        country_code: US
                      type: product
                      currency_consumer: USD
                      product_name: Metallica shirt
                      product_sku: AIk-0790
                      product_id: '123'
                      extended_attributes:
                        - name: size
                          value: L
                      id: '123'
              TaxInclusiveReverseCalculationOrder:
                summary: Reverse calculation order with tax inclusive items
                description: >-
                  Example transaction for a reverse calculation order with tax
                  inclusive items.
                value:
                  tax_exempt: false
                  transaction_type: SALE
                  order_id: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  calculation_mode: REVERSE
                  items:
                    - tax_class: AAA000
                      tax_method: vat_included
                      item_price: 200
                      price_line_item: 200
                      price_net: 180
                      price_tax: 20
                      quantity: 1
                      tax_rates:
                        - rate: 0.1
                          amount: 20
                          tax_name: Some tax
                          country_code: DE
                      shipping_address:
                        address_line_1: Potsdamer Str. 7, 10785 Berlin
                        zip_code: '10785'
                        city: Berlin
                        country_code: DE
                      shipping_origin:
                        address_line_1: Potsdamer Str. 7, 10785 Berlin
                        zip_code: '10785'
                        city: Berlin
                        country_code: DE
                      type: product
                      currency_consumer: EUR
                      product_name: Metallica shirt
                      product_sku: AIk-0790
                      product_id: '123'
                      extended_attributes:
                        - name: size
                          value: L
                      id: '123'
              TaxExclusiveReverseCalculationOrder:
                summary: Reverse calculation order with tax exclusive items
                description: >-
                  Example transaction for a reverse calculation order with tax
                  exclusive items.
                value:
                  tax_exempt: false
                  transaction_type: SALE
                  order_id: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  calculation_mode: REVERSE
                  items:
                    - tax_class: AAA000
                      tax_method: vat_excluded
                      item_price: 200
                      price_line_item: 220
                      price_net: 200
                      price_tax: 20
                      quantity: 1
                      tax_rates:
                        - rate: 0.1
                          amount: 20
                          tax_name: Some tax
                          country_code: US
                      shipping_address:
                        address_line_1: 81 Elk Rd Little
                        state: NY
                        zip_code: '12207'
                        city: Albany
                        country_code: US
                      shipping_origin:
                        address_line_1: 81 Elk Rd Little
                        state: NY
                        zip_code: '12207'
                        city: Albany
                        country_code: US
                      type: product
                      currency_consumer: USD
                      product_name: Metallica shirt
                      product_sku: AIk-0790
                      product_id: '123'
                      extended_attributes:
                        - name: size
                          value: L
                      id: '123'
      responses:
        '200':
          description: Tax transaction.
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    description: >-
                      A list of the items sold/returned in the transaction,
                      enriched with the tax amounts.
                    type: array
                    items:
                      type: object
                      properties:
                        price_line_item:
                          type: number
                          description: >-
                            Gross price for the total quantity of the line item,
                            after all discounts.
                          example: 200
                          format: double
                        price_net:
                          type: number
                          description: >-
                            Net price for total quantity of line item, after
                            applying all discounts.
                          example: 180
                          format: double
                        price_tax:
                          type: number
                          description: >-
                            Total amount of tax added to the net price, after
                            appplying all discounts.
                          example: 20
                          format: double
                        tax_rates:
                          description: >-
                            All applied tax percent values and tax amounts for
                            total quantity of line item (usually more than one
                            rate per line item).
                          type: array
                          items:
                            type: object
                            properties:
                              rate:
                                type: number
                                description: >-
                                  Tax percent value for this tax rate item, e.g.
                                  0.19 means 19% tax.
                                example: 0.19
                                format: double
                              amount:
                                type: number
                                description: >-
                                  Monetary tax amount for the unit price
                                  corresponding to this tax_rate item's percent
                                  value, e.g. 3.37.
                                example: 10
                                format: double
                              tax_name:
                                type: string
                                description: Name of the applied tax.
                                example: Colorado retail delivery fee
                              country_code:
                                type: string
                                description: Country of jurisdiction for the applied tax.
                                example: US
                              taxable_amount:
                                type: number
                                description: >-
                                  The taxable item net amount on which the tax
                                  is chargeable.
                                example: 10
                                format: double
                              exempt_amount:
                                type: number
                                description: The item net amount which has been tax exempt.
                                example: 10
                                format: double
                              tax_status:
                                allOf:
                                  - type: string
                                    enum:
                                      - EXEMPT
                                      - TAXABLE
                                      - NOT_TAXABLE
                                    description: >-
                                      Type of the tax status applied to the tax
                                      line

                                          * `TAXABLE`: Taxes are applied to the tax line.

                                      * `NOT_TAXABLE`: No taxes are applied to
                                      the tax line.


                                      * `EXEMPT`: Taxes are exempt for the tax
                                      line.
                                    example: EXEMPT
                            required:
                              - rate
                              - amount
                              - tax_name
                              - country_code
                        tax_class:
                          type: string
                          description: Tax classification identifier for the line item.
                          example: AAA000
                          maxLength: 256
                        tax_method:
                          allOf:
                            - type: string
                              enum:
                                - vat_included
                                - vat_excluded
                              description: >-
                                The method that indicates how item tax is
                                applied.
                              example: vat_excluded
                        item_price:
                          type: number
                          description: >-
                            Price per quantity 1 of the item, can be incl. or
                            excl. tax depending on tax_method.
                          example: 200
                          format: double
                        quantity:
                          type: integer
                          description: >-
                            Item quantity. Positive number for sold items and
                            negative number for returned items
                          example: 1
                          format: int32
                        shipping_address:
                          description: Consumer's shipping address.
                          allOf:
                            - type: object
                              properties:
                                store_id:
                                  type: string
                                  description: NewStore Store ID of the address.
                                  example: Munich-store
                                address_line_1:
                                  type: string
                                  description: Location address line 1.
                                  example: 81 Elk Rd Little
                                address_line_2:
                                  type: string
                                  description: Location address line 2.
                                province:
                                  type: string
                                  description: Location province.
                                  example: New York
                                state:
                                  type: string
                                  description: Location state.
                                  example: New York
                                zip_code:
                                  type: string
                                  description: Location ZIP code.
                                  example: '12207'
                                  maxLength: 32
                                city:
                                  type: string
                                  description: Location city.
                                  example: Albany
                                country_code:
                                  allOf:
                                    - type: string
                                      enum:
                                        - AF
                                        - AX
                                        - AL
                                        - DZ
                                        - AS
                                        - AD
                                        - AO
                                        - AI
                                        - AQ
                                        - AG
                                        - AR
                                        - AM
                                        - AW
                                        - AU
                                        - AT
                                        - AZ
                                        - BS
                                        - BH
                                        - BD
                                        - BB
                                        - BY
                                        - BE
                                        - BZ
                                        - BJ
                                        - BM
                                        - BT
                                        - BO
                                        - BA
                                        - BW
                                        - BV
                                        - BR
                                        - IO
                                        - BN
                                        - BG
                                        - BF
                                        - BI
                                        - KH
                                        - CM
                                        - CA
                                        - CV
                                        - KY
                                        - CF
                                        - TD
                                        - CL
                                        - CN
                                        - CX
                                        - CC
                                        - CO
                                        - KM
                                        - CG
                                        - CD
                                        - CK
                                        - CR
                                        - CI
                                        - HR
                                        - CU
                                        - CY
                                        - CZ
                                        - DK
                                        - DJ
                                        - DM
                                        - DO
                                        - EC
                                        - EG
                                        - SV
                                        - GQ
                                        - ER
                                        - EE
                                        - ET
                                        - FK
                                        - FO
                                        - FJ
                                        - FI
                                        - FR
                                        - GF
                                        - PF
                                        - TF
                                        - GA
                                        - GM
                                        - GE
                                        - DE
                                        - GH
                                        - GI
                                        - GR
                                        - GL
                                        - GD
                                        - GP
                                        - GU
                                        - GT
                                        - GG
                                        - GN
                                        - GW
                                        - GY
                                        - HT
                                        - HM
                                        - VA
                                        - HN
                                        - HK
                                        - HU
                                        - IS
                                        - IN
                                        - ID
                                        - IR
                                        - IQ
                                        - IE
                                        - IM
                                        - IL
                                        - IT
                                        - JM
                                        - JP
                                        - JE
                                        - JO
                                        - KZ
                                        - KE
                                        - KI
                                        - KR
                                        - KW
                                        - KG
                                        - LA
                                        - LV
                                        - LB
                                        - LS
                                        - LR
                                        - LY
                                        - LI
                                        - LT
                                        - LU
                                        - MO
                                        - MK
                                        - MG
                                        - MW
                                        - MY
                                        - MV
                                        - ML
                                        - MT
                                        - MH
                                        - MQ
                                        - MR
                                        - MU
                                        - YT
                                        - MX
                                        - FM
                                        - MD
                                        - MC
                                        - MN
                                        - ME
                                        - MS
                                        - MA
                                        - MZ
                                        - MM
                                        - NA
                                        - NR
                                        - NP
                                        - NL
                                        - AN
                                        - NC
                                        - NZ
                                        - NI
                                        - NE
                                        - NG
                                        - NU
                                        - NF
                                        - MP
                                        - 'NO'
                                        - OM
                                        - PK
                                        - PW
                                        - PS
                                        - PA
                                        - PG
                                        - PY
                                        - PE
                                        - PH
                                        - PN
                                        - PL
                                        - PT
                                        - PR
                                        - QA
                                        - RE
                                        - RO
                                        - RU
                                        - RW
                                        - BL
                                        - SH
                                        - KN
                                        - LC
                                        - MF
                                        - PM
                                        - VC
                                        - WS
                                        - SM
                                        - ST
                                        - SA
                                        - SN
                                        - RS
                                        - SC
                                        - SL
                                        - SG
                                        - SK
                                        - SI
                                        - SB
                                        - SO
                                        - ZA
                                        - GS
                                        - ES
                                        - LK
                                        - SD
                                        - SR
                                        - SJ
                                        - SZ
                                        - SE
                                        - CH
                                        - SY
                                        - TW
                                        - TJ
                                        - TZ
                                        - TH
                                        - TL
                                        - TG
                                        - TK
                                        - TO
                                        - TT
                                        - TN
                                        - TR
                                        - TM
                                        - TC
                                        - TV
                                        - UG
                                        - UA
                                        - AE
                                        - GB
                                        - US
                                        - UM
                                        - UY
                                        - UZ
                                        - VU
                                        - VE
                                        - VN
                                        - VG
                                        - VI
                                        - WF
                                        - EH
                                        - YE
                                        - ZM
                                        - ZW
                                      description: >-
                                        Country code in upper-case ISO 3166
                                        Alpha-2 format.
                                      example: DE
                        shipping_origin:
                          description: >-
                            The origin of goods address, e.g. physical address
                            of a store.
                          allOf:
                            - type: object
                              properties:
                                store_id:
                                  type: string
                                  description: NewStore Store ID of the address.
                                  example: Munich-store
                                address_line_1:
                                  type: string
                                  description: Location address line 1.
                                  example: 81 Elk Rd Little
                                address_line_2:
                                  type: string
                                  description: Location address line 2.
                                province:
                                  type: string
                                  description: Location province.
                                  example: New York
                                state:
                                  type: string
                                  description: Location state.
                                  example: New York
                                zip_code:
                                  type: string
                                  description: Location ZIP code.
                                  example: '12207'
                                  maxLength: 32
                                city:
                                  type: string
                                  description: Location city.
                                  example: Albany
                                country_code:
                                  allOf:
                                    - type: string
                                      enum:
                                        - AF
                                        - AX
                                        - AL
                                        - DZ
                                        - AS
                                        - AD
                                        - AO
                                        - AI
                                        - AQ
                                        - AG
                                        - AR
                                        - AM
                                        - AW
                                        - AU
                                        - AT
                                        - AZ
                                        - BS
                                        - BH
                                        - BD
                                        - BB
                                        - BY
                                        - BE
                                        - BZ
                                        - BJ
                                        - BM
                                        - BT
                                        - BO
                                        - BA
                                        - BW
                                        - BV
                                        - BR
                                        - IO
                                        - BN
                                        - BG
                                        - BF
                                        - BI
                                        - KH
                                        - CM
                                        - CA
                                        - CV
                                        - KY
                                        - CF
                                        - TD
                                        - CL
                                        - CN
                                        - CX
                                        - CC
                                        - CO
                                        - KM
                                        - CG
                                        - CD
                                        - CK
                                        - CR
                                        - CI
                                        - HR
                                        - CU
                                        - CY
                                        - CZ
                                        - DK
                                        - DJ
                                        - DM
                                        - DO
                                        - EC
                                        - EG
                                        - SV
                                        - GQ
                                        - ER
                                        - EE
                                        - ET
                                        - FK
                                        - FO
                                        - FJ
                                        - FI
                                        - FR
                                        - GF
                                        - PF
                                        - TF
                                        - GA
                                        - GM
                                        - GE
                                        - DE
                                        - GH
                                        - GI
                                        - GR
                                        - GL
                                        - GD
                                        - GP
                                        - GU
                                        - GT
                                        - GG
                                        - GN
                                        - GW
                                        - GY
                                        - HT
                                        - HM
                                        - VA
                                        - HN
                                        - HK
                                        - HU
                                        - IS
                                        - IN
                                        - ID
                                        - IR
                                        - IQ
                                        - IE
                                        - IM
                                        - IL
                                        - IT
                                        - JM
                                        - JP
                                        - JE
                                        - JO
                                        - KZ
                                        - KE
                                        - KI
                                        - KR
                                        - KW
                                        - KG
                                        - LA
                                        - LV
                                        - LB
                                        - LS
                                        - LR
                                        - LY
                                        - LI
                                        - LT
                                        - LU
                                        - MO
                                        - MK
                                        - MG
                                        - MW
                                        - MY
                                        - MV
                                        - ML
                                        - MT
                                        - MH
                                        - MQ
                                        - MR
                                        - MU
                                        - YT
                                        - MX
                                        - FM
                                        - MD
                                        - MC
                                        - MN
                                        - ME
                                        - MS
                                        - MA
                                        - MZ
                                        - MM
                                        - NA
                                        - NR
                                        - NP
                                        - NL
                                        - AN
                                        - NC
                                        - NZ
                                        - NI
                                        - NE
                                        - NG
                                        - NU
                                        - NF
                                        - MP
                                        - 'NO'
                                        - OM
                                        - PK
                                        - PW
                                        - PS
                                        - PA
                                        - PG
                                        - PY
                                        - PE
                                        - PH
                                        - PN
                                        - PL
                                        - PT
                                        - PR
                                        - QA
                                        - RE
                                        - RO
                                        - RU
                                        - RW
                                        - BL
                                        - SH
                                        - KN
                                        - LC
                                        - MF
                                        - PM
                                        - VC
                                        - WS
                                        - SM
                                        - ST
                                        - SA
                                        - SN
                                        - RS
                                        - SC
                                        - SL
                                        - SG
                                        - SK
                                        - SI
                                        - SB
                                        - SO
                                        - ZA
                                        - GS
                                        - ES
                                        - LK
                                        - SD
                                        - SR
                                        - SJ
                                        - SZ
                                        - SE
                                        - CH
                                        - SY
                                        - TW
                                        - TJ
                                        - TZ
                                        - TH
                                        - TL
                                        - TG
                                        - TK
                                        - TO
                                        - TT
                                        - TN
                                        - TR
                                        - TM
                                        - TC
                                        - TV
                                        - UG
                                        - UA
                                        - AE
                                        - GB
                                        - US
                                        - UM
                                        - UY
                                        - UZ
                                        - VU
                                        - VE
                                        - VN
                                        - VG
                                        - VI
                                        - WF
                                        - EH
                                        - YE
                                        - ZM
                                        - ZW
                                      description: >-
                                        Country code in upper-case ISO 3166
                                        Alpha-2 format.
                                      example: DE
                        type:
                          allOf:
                            - type: string
                              enum:
                                - gift-card
                                - gift-wrapping
                                - product
                                - shipping
                              description: Type of the item.
                              example: product
                        currency_consumer:
                          type: string
                          description: Currency code shown and billed to the consumer.
                          example: USD
                        consumer_uuid:
                          type: string
                          description: UUID of the consumer.
                        product_name:
                          type: string
                          description: Human-readable name of the product.
                          example: Metallica shirt
                          maxLength: 512
                        product_sku:
                          type: string
                          description: SKU of the product.
                          example: AIk-0790
                          maxLength: 256
                        product_id:
                          type: string
                          description: Unique identifier of the product.
                          example: '123'
                        extended_attributes:
                          description: The item's list of extended attributes.
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                                description: The name of the extended attribute.
                                example: size
                              value:
                                type: string
                                description: The value of the extended attribute.
                                example: '36'
                            required:
                              - name
                              - value
                        id:
                          type: string
                          description: Unique identifier of the item.
                          example: '123'
                        handling_charges:
                          type: number
                          description: Cost of handling.
                          example: 10
                          format: double
                      required:
                        - price_line_item
                        - price_net
                        - price_tax
                        - tax_rates
                        - tax_class
                        - tax_method
                        - item_price
                        - quantity
                        - shipping_address
                        - shipping_origin
                        - type
                  document_id:
                    type: string
                    description: The documentId of the created tax transaction.
                    example: '123'
                  totals:
                    description: The transaction total amounts.
                    allOf:
                      - type: object
                        properties:
                          net_total:
                            type: number
                            description: >-
                              The sum of net prices of all the items including
                              shipping and gift wrapping
                            example: 180
                            format: double
                          subtotal:
                            type: number
                            description: >-
                              The sum of item prices incl. or excl. tax
                              (depending on tax method).
                            example: 180
                            format: double
                          grand_total:
                            type: number
                            description: The amount consumer has to pay for the order.
                            example: 200
                            format: double
                          tax_total:
                            type: number
                            description: >-
                              The total tax sum (grand total tax incl. shipping
                              tax).
                            example: 20
                            format: double
                          shipping_total:
                            type: number
                            description: The total shipping amount.
                            example: 5
                            format: double
                          shipping_tax_amount:
                            type: number
                            description: The shipping tax amount.
                            example: 5
                            format: double
                          discount_total:
                            type: number
                            description: The total discount amount.
                            example: 5
                            format: double
                          tax_strategy:
                            allOf:
                              - type: string
                                enum:
                                  - fixedrate
                                  - fixed_rate_per_country
                                  - avalara
                                  - vertex
                                  - custom
                                description: Tax calculation strategy.
                                example: fixedrate
                          tax_rates_summary:
                            description: >-
                              Summary of the tax rates applied on the line items
                              of the transaction grouped by the tax name and tax
                              rate.
                            type: array
                            items:
                              type: object
                              properties:
                                rate:
                                  type: number
                                  description: >-
                                    Tax percent value for this tax rate item,
                                    e.g. 0.19 means 19% tax.
                                  example: 0.19
                                  format: double
                                amount:
                                  type: number
                                  description: >-
                                    Monetary tax amount for the unit price
                                    corresponding to this tax_rate item's
                                    percent value, e.g. 3.37.
                                  example: 10
                                  format: double
                                tax_name:
                                  type: string
                                  description: Name of the applied tax.
                                  example: Colorado retail delivery fee
                                country_code:
                                  type: string
                                  description: Country of jurisdiction for the applied tax.
                                  example: US
                                taxable_amount:
                                  type: number
                                  description: >-
                                    The taxable item net amount on which the tax
                                    is chargeable.
                                  example: 10
                                  format: double
                                exempt_amount:
                                  type: number
                                  description: >-
                                    The item net amount which has been tax
                                    exempt.
                                  example: 10
                                  format: double
                                tax_status:
                                  allOf:
                                    - type: string
                                      enum:
                                        - EXEMPT
                                        - TAXABLE
                                        - NOT_TAXABLE
                                      description: >-
                                        Type of the tax status applied to the
                                        tax line

                                            * `TAXABLE`: Taxes are applied to the tax line.

                                        * `NOT_TAXABLE`: No taxes are applied to
                                        the tax line.


                                        * `EXEMPT`: Taxes are exempt for the tax
                                        line.
                                      example: EXEMPT
                              required:
                                - rate
                                - amount
                                - tax_name
                                - country_code
                        required:
                          - net_total
                          - subtotal
                          - grand_total
                          - tax_total
                          - shipping_total
                          - shipping_tax_amount
                          - discount_total
                          - tax_strategy
                          - tax_rates_summary
                  tax_exempt:
                    type: boolean
                    description: Defines the tax exemption status of the transaction.
                    default: false
                  transaction_type:
                    allOf:
                      - type: string
                        enum:
                          - SALE
                          - RETURN
                        description: Type of the transaction.
                        example: SALE
                  order_id:
                    type: string
                    description: >-
                      The order ID that will be used as a reference to link the
                      order to the created tax transaction in the tax provider
                      records.

                      * In case the order ID is not provided then a randomly
                      generated identifier will be used instead.

                      * The tax transaction will be stored by using the given
                      value.
                    example: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  return_id:
                    type: string
                    description: >-
                      The return ID that will be used as a reference to link the
                      order to the created tax transaction in the tax provider
                      records.

                      * The tax transaction for returns will be stored by using
                      the given value.

                      * If the value is not set, the return transaction will not
                      be stored.
                    example: 4fbcc8b3-8511-4ad1-8c9f-96b7c08db664
                  exemption_number:
                    type: string
                    description: >-
                      The number of the customer's exemption certificate.

                      * The given value can be verified by the auditors in the
                      event of a tax audit.
                  fallback_error:
                    description: >-
                      The optional error of the original tax provider execution
                      that triggered the execution of the fall-back tax
                      provider. Will be returned when the orignal tax provider
                      failure occurs.
                    allOf:
                      - type: object
                        properties:
                          error_code:
                            allOf:
                              - type: string
                                enum:
                                  - taxes_unexpected_error
                                  - taxes_tenant_missing
                                  - taxes_config_already_exists
                                  - taxes_config_not_found
                                  - taxes_provider_config_missing
                                  - taxes_tenant_config_required
                                  - taxes_rounding_failed
                                  - taxes_xml_parsing_failed
                                  - taxes_provider_error_response
                                  - taxes_provider_unexpected_response
                                  - taxes_provider_client_error_response
                                  - taxes_provider_invalid_credentials
                                  - taxes_address_validation_failed
                                  - taxes_provider_config_validation_failed
                                  - taxes_provider_generic_error
                                  - taxes_provider_invalid_response
                                  - taxes_transaction_not_found
                                  - taxes_commit_integration_error
                                  - reverse_calculation_provider_error
                                  - transaction_modification_not_allowed
                                description: >-
                                  The error code from the underlying tax
                                  provider.
                                example: taxes_address_validation_failed
                          message:
                            type: string
                            description: The error message of the underlying tax provider.
                            example: >-
                              Avalara request returned an incomplete or invalid
                              address error
                          original_tax_provider:
                            allOf:
                              - type: string
                                enum:
                                  - fixedrate
                                  - fixed_rate_per_country
                                  - avalara
                                  - vertex
                                  - custom
                                description: Tax calculation strategy.
                                example: fixedrate
                        required:
                          - error_code
                          - message
                          - original_tax_provider
                  exemption_class:
                    allOf:
                      - type: string
                        enum:
                          - FEDERAL_GOVERNMENT
                          - STATE_GOVERNMENT
                          - TRIBAL_GOVERNMENT
                          - LOCAL_GOVERNMENT
                          - FOREIGN_DIPLOMAT
                          - CHARITY_ORGANIZATION
                          - RELIGIOUS_ORGANIZATION
                          - EDUCATIONAL_ORGANIZATION
                          - RESALE
                          - DIRECT_PAY_PERMIT
                          - OTHER
                          - NON_RESIDENT
                          - FIRST_NATION_CITIZEN
                          - CUSTOM_*
                        description: >-
                          The tax exemption class that identifies the customer's
                          group/organization that accredited them with the tax
                          exemption status.

                          * For custom tax exemption classes, the `CUSTOM_`
                          prefix with a UPPER_SNAKE_CASE key can be used.
                          Example: `CUSTOM_CANADA`
                        example: CHARITY_ORGANIZATION
                  calculation_mode:
                    allOf:
                      - type: string
                        enum:
                          - STANDARD
                          - REVERSE
                        description: >-
                          Type of the tax calculation


                          * `STANDARD`: Standard tax calculation (default).

                          * Taxes will be calculated for each line from
                          `item_price * quantity` respecting the `tax_method`
                          (tax incl./excl.).



                          * `REVERSE`: Reverse calculation of taxes from the
                          total amount paid by customer (e.g. for injected
                          offline or e-comm orders).

                          * Taxes will be calculated from `price_line_item`
                          (total gross amount for given quantity) regardless of
                          `tax_method` (tax incl./excl.).
                        example: STANDARD
                required:
                  - items
                  - document_id
                  - totals
        '400':
          description: Bad request.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        '401':
          description: Unauthorized.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        '403':
          description: Forbidden.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        default:
          description: Unexpected error.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
      security:
        - oauth2:
            - taxes:preview-transactions:write
      summary: >-
        Create a preview tax transaction by calculating the total amounts of
        cart items without storing the transaction.
      tags:
        - Tax transactions
  /transactions/{orderId}:
    get:
      description: Get tax transaction for the given order identifier.
      operationId: showOrderTaxTransaction
      parameters:
        - name: x-request-id
          in: header
          description: Request identifier.
          schema:
            type: string
        - name: store-id
          in: header
          description: Store identifier.
          schema:
            type: string
        - name: orderId
          required: true
          in: path
          description: Order identifier.
          schema:
            type: string
      responses:
        '200':
          description: Tax transaction.
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    description: >-
                      A list of the items sold/returned in the transaction,
                      enriched with the tax amounts.
                    type: array
                    items:
                      type: object
                      properties:
                        price_line_item:
                          type: number
                          description: >-
                            Gross price for the total quantity of the line item,
                            after all discounts.
                          example: 200
                          format: double
                        price_net:
                          type: number
                          description: >-
                            Net price for total quantity of line item, after
                            applying all discounts.
                          example: 180
                          format: double
                        price_tax:
                          type: number
                          description: >-
                            Total amount of tax added to the net price, after
                            appplying all discounts.
                          example: 20
                          format: double
                        tax_rates:
                          description: >-
                            All applied tax percent values and tax amounts for
                            total quantity of line item (usually more than one
                            rate per line item).
                          type: array
                          items:
                            type: object
                            properties:
                              rate:
                                type: number
                                description: >-
                                  Tax percent value for this tax rate item, e.g.
                                  0.19 means 19% tax.
                                example: 0.19
                                format: double
                              amount:
                                type: number
                                description: >-
                                  Monetary tax amount for the unit price
                                  corresponding to this tax_rate item's percent
                                  value, e.g. 3.37.
                                example: 10
                                format: double
                              tax_name:
                                type: string
                                description: Name of the applied tax.
                                example: Colorado retail delivery fee
                              country_code:
                                type: string
                                description: Country of jurisdiction for the applied tax.
                                example: US
                              taxable_amount:
                                type: number
                                description: >-
                                  The taxable item net amount on which the tax
                                  is chargeable.
                                example: 10
                                format: double
                              exempt_amount:
                                type: number
                                description: The item net amount which has been tax exempt.
                                example: 10
                                format: double
                              tax_status:
                                allOf:
                                  - type: string
                                    enum:
                                      - EXEMPT
                                      - TAXABLE
                                      - NOT_TAXABLE
                                    description: >-
                                      Type of the tax status applied to the tax
                                      line

                                          * `TAXABLE`: Taxes are applied to the tax line.

                                      * `NOT_TAXABLE`: No taxes are applied to
                                      the tax line.


                                      * `EXEMPT`: Taxes are exempt for the tax
                                      line.
                                    example: EXEMPT
                            required:
                              - rate
                              - amount
                              - tax_name
                              - country_code
                        tax_class:
                          type: string
                          description: Tax classification identifier for the line item.
                          example: AAA000
                          maxLength: 256
                        tax_method:
                          allOf:
                            - type: string
                              enum:
                                - vat_included
                                - vat_excluded
                              description: >-
                                The method that indicates how item tax is
                                applied.
                              example: vat_excluded
                        item_price:
                          type: number
                          description: >-
                            Price per quantity 1 of the item, can be incl. or
                            excl. tax depending on tax_method.
                          example: 200
                          format: double
                        quantity:
                          type: integer
                          description: >-
                            Item quantity. Positive number for sold items and
                            negative number for returned items
                          example: 1
                          format: int32
                        shipping_address:
                          description: Consumer's shipping address.
                          allOf:
                            - type: object
                              properties:
                                store_id:
                                  type: string
                                  description: NewStore Store ID of the address.
                                  example: Munich-store
                                address_line_1:
                                  type: string
                                  description: Location address line 1.
                                  example: 81 Elk Rd Little
                                address_line_2:
                                  type: string
                                  description: Location address line 2.
                                province:
                                  type: string
                                  description: Location province.
                                  example: New York
                                state:
                                  type: string
                                  description: Location state.
                                  example: New York
                                zip_code:
                                  type: string
                                  description: Location ZIP code.
                                  example: '12207'
                                  maxLength: 32
                                city:
                                  type: string
                                  description: Location city.
                                  example: Albany
                                country_code:
                                  allOf:
                                    - type: string
                                      enum:
                                        - AF
                                        - AX
                                        - AL
                                        - DZ
                                        - AS
                                        - AD
                                        - AO
                                        - AI
                                        - AQ
                                        - AG
                                        - AR
                                        - AM
                                        - AW
                                        - AU
                                        - AT
                                        - AZ
                                        - BS
                                        - BH
                                        - BD
                                        - BB
                                        - BY
                                        - BE
                                        - BZ
                                        - BJ
                                        - BM
                                        - BT
                                        - BO
                                        - BA
                                        - BW
                                        - BV
                                        - BR
                                        - IO
                                        - BN
                                        - BG
                                        - BF
                                        - BI
                                        - KH
                                        - CM
                                        - CA
                                        - CV
                                        - KY
                                        - CF
                                        - TD
                                        - CL
                                        - CN
                                        - CX
                                        - CC
                                        - CO
                                        - KM
                                        - CG
                                        - CD
                                        - CK
                                        - CR
                                        - CI
                                        - HR
                                        - CU
                                        - CY
                                        - CZ
                                        - DK
                                        - DJ
                                        - DM
                                        - DO
                                        - EC
                                        - EG
                                        - SV
                                        - GQ
                                        - ER
                                        - EE
                                        - ET
                                        - FK
                                        - FO
                                        - FJ
                                        - FI
                                        - FR
                                        - GF
                                        - PF
                                        - TF
                                        - GA
                                        - GM
                                        - GE
                                        - DE
                                        - GH
                                        - GI
                                        - GR
                                        - GL
                                        - GD
                                        - GP
                                        - GU
                                        - GT
                                        - GG
                                        - GN
                                        - GW
                                        - GY
                                        - HT
                                        - HM
                                        - VA
                                        - HN
                                        - HK
                                        - HU
                                        - IS
                                        - IN
                                        - ID
                                        - IR
                                        - IQ
                                        - IE
                                        - IM
                                        - IL
                                        - IT
                                        - JM
                                        - JP
                                        - JE
                                        - JO
                                        - KZ
                                        - KE
                                        - KI
                                        - KR
                                        - KW
                                        - KG
                                        - LA
                                        - LV
                                        - LB
                                        - LS
                                        - LR
                                        - LY
                                        - LI
                                        - LT
                                        - LU
                                        - MO
                                        - MK
                                        - MG
                                        - MW
                                        - MY
                                        - MV
                                        - ML
                                        - MT
                                        - MH
                                        - MQ
                                        - MR
                                        - MU
                                        - YT
                                        - MX
                                        - FM
                                        - MD
                                        - MC
                                        - MN
                                        - ME
                                        - MS
                                        - MA
                                        - MZ
                                        - MM
                                        - NA
                                        - NR
                                        - NP
                                        - NL
                                        - AN
                                        - NC
                                        - NZ
                                        - NI
                                        - NE
                                        - NG
                                        - NU
                                        - NF
                                        - MP
                                        - 'NO'
                                        - OM
                                        - PK
                                        - PW
                                        - PS
                                        - PA
                                        - PG
                                        - PY
                                        - PE
                                        - PH
                                        - PN
                                        - PL
                                        - PT
                                        - PR
                                        - QA
                                        - RE
                                        - RO
                                        - RU
                                        - RW
                                        - BL
                                        - SH
                                        - KN
                                        - LC
                                        - MF
                                        - PM
                                        - VC
                                        - WS
                                        - SM
                                        - ST
                                        - SA
                                        - SN
                                        - RS
                                        - SC
                                        - SL
                                        - SG
                                        - SK
                                        - SI
                                        - SB
                                        - SO
                                        - ZA
                                        - GS
                                        - ES
                                        - LK
                                        - SD
                                        - SR
                                        - SJ
                                        - SZ
                                        - SE
                                        - CH
                                        - SY
                                        - TW
                                        - TJ
                                        - TZ
                                        - TH
                                        - TL
                                        - TG
                                        - TK
                                        - TO
                                        - TT
                                        - TN
                                        - TR
                                        - TM
                                        - TC
                                        - TV
                                        - UG
                                        - UA
                                        - AE
                                        - GB
                                        - US
                                        - UM
                                        - UY
                                        - UZ
                                        - VU
                                        - VE
                                        - VN
                                        - VG
                                        - VI
                                        - WF
                                        - EH
                                        - YE
                                        - ZM
                                        - ZW
                                      description: >-
                                        Country code in upper-case ISO 3166
                                        Alpha-2 format.
                                      example: DE
                        shipping_origin:
                          description: >-
                            The origin of goods address, e.g. physical address
                            of a store.
                          allOf:
                            - type: object
                              properties:
                                store_id:
                                  type: string
                                  description: NewStore Store ID of the address.
                                  example: Munich-store
                                address_line_1:
                                  type: string
                                  description: Location address line 1.
                                  example: 81 Elk Rd Little
                                address_line_2:
                                  type: string
                                  description: Location address line 2.
                                province:
                                  type: string
                                  description: Location province.
                                  example: New York
                                state:
                                  type: string
                                  description: Location state.
                                  example: New York
                                zip_code:
                                  type: string
                                  description: Location ZIP code.
                                  example: '12207'
                                  maxLength: 32
                                city:
                                  type: string
                                  description: Location city.
                                  example: Albany
                                country_code:
                                  allOf:
                                    - type: string
                                      enum:
                                        - AF
                                        - AX
                                        - AL
                                        - DZ
                                        - AS
                                        - AD
                                        - AO
                                        - AI
                                        - AQ
                                        - AG
                                        - AR
                                        - AM
                                        - AW
                                        - AU
                                        - AT
                                        - AZ
                                        - BS
                                        - BH
                                        - BD
                                        - BB
                                        - BY
                                        - BE
                                        - BZ
                                        - BJ
                                        - BM
                                        - BT
                                        - BO
                                        - BA
                                        - BW
                                        - BV
                                        - BR
                                        - IO
                                        - BN
                                        - BG
                                        - BF
                                        - BI
                                        - KH
                                        - CM
                                        - CA
                                        - CV
                                        - KY
                                        - CF
                                        - TD
                                        - CL
                                        - CN
                                        - CX
                                        - CC
                                        - CO
                                        - KM
                                        - CG
                                        - CD
                                        - CK
                                        - CR
                                        - CI
                                        - HR
                                        - CU
                                        - CY
                                        - CZ
                                        - DK
                                        - DJ
                                        - DM
                                        - DO
                                        - EC
                                        - EG
                                        - SV
                                        - GQ
                                        - ER
                                        - EE
                                        - ET
                                        - FK
                                        - FO
                                        - FJ
                                        - FI
                                        - FR
                                        - GF
                                        - PF
                                        - TF
                                        - GA
                                        - GM
                                        - GE
                                        - DE
                                        - GH
                                        - GI
                                        - GR
                                        - GL
                                        - GD
                                        - GP
                                        - GU
                                        - GT
                                        - GG
                                        - GN
                                        - GW
                                        - GY
                                        - HT
                                        - HM
                                        - VA
                                        - HN
                                        - HK
                                        - HU
                                        - IS
                                        - IN
                                        - ID
                                        - IR
                                        - IQ
                                        - IE
                                        - IM
                                        - IL
                                        - IT
                                        - JM
                                        - JP
                                        - JE
                                        - JO
                                        - KZ
                                        - KE
                                        - KI
                                        - KR
                                        - KW
                                        - KG
                                        - LA
                                        - LV
                                        - LB
                                        - LS
                                        - LR
                                        - LY
                                        - LI
                                        - LT
                                        - LU
                                        - MO
                                        - MK
                                        - MG
                                        - MW
                                        - MY
                                        - MV
                                        - ML
                                        - MT
                                        - MH
                                        - MQ
                                        - MR
                                        - MU
                                        - YT
                                        - MX
                                        - FM
                                        - MD
                                        - MC
                                        - MN
                                        - ME
                                        - MS
                                        - MA
                                        - MZ
                                        - MM
                                        - NA
                                        - NR
                                        - NP
                                        - NL
                                        - AN
                                        - NC
                                        - NZ
                                        - NI
                                        - NE
                                        - NG
                                        - NU
                                        - NF
                                        - MP
                                        - 'NO'
                                        - OM
                                        - PK
                                        - PW
                                        - PS
                                        - PA
                                        - PG
                                        - PY
                                        - PE
                                        - PH
                                        - PN
                                        - PL
                                        - PT
                                        - PR
                                        - QA
                                        - RE
                                        - RO
                                        - RU
                                        - RW
                                        - BL
                                        - SH
                                        - KN
                                        - LC
                                        - MF
                                        - PM
                                        - VC
                                        - WS
                                        - SM
                                        - ST
                                        - SA
                                        - SN
                                        - RS
                                        - SC
                                        - SL
                                        - SG
                                        - SK
                                        - SI
                                        - SB
                                        - SO
                                        - ZA
                                        - GS
                                        - ES
                                        - LK
                                        - SD
                                        - SR
                                        - SJ
                                        - SZ
                                        - SE
                                        - CH
                                        - SY
                                        - TW
                                        - TJ
                                        - TZ
                                        - TH
                                        - TL
                                        - TG
                                        - TK
                                        - TO
                                        - TT
                                        - TN
                                        - TR
                                        - TM
                                        - TC
                                        - TV
                                        - UG
                                        - UA
                                        - AE
                                        - GB
                                        - US
                                        - UM
                                        - UY
                                        - UZ
                                        - VU
                                        - VE
                                        - VN
                                        - VG
                                        - VI
                                        - WF
                                        - EH
                                        - YE
                                        - ZM
                                        - ZW
                                      description: >-
                                        Country code in upper-case ISO 3166
                                        Alpha-2 format.
                                      example: DE
                        type:
                          allOf:
                            - type: string
                              enum:
                                - gift-card
                                - gift-wrapping
                                - product
                                - shipping
                              description: Type of the item.
                              example: product
                        currency_consumer:
                          type: string
                          description: Currency code shown and billed to the consumer.
                          example: USD
                        consumer_uuid:
                          type: string
                          description: UUID of the consumer.
                        product_name:
                          type: string
                          description: Human-readable name of the product.
                          example: Metallica shirt
                          maxLength: 512
                        product_sku:
                          type: string
                          description: SKU of the product.
                          example: AIk-0790
                          maxLength: 256
                        product_id:
                          type: string
                          description: Unique identifier of the product.
                          example: '123'
                        extended_attributes:
                          description: The item's list of extended attributes.
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                                description: The name of the extended attribute.
                                example: size
                              value:
                                type: string
                                description: The value of the extended attribute.
                                example: '36'
                            required:
                              - name
                              - value
                        id:
                          type: string
                          description: Unique identifier of the item.
                          example: '123'
                        handling_charges:
                          type: number
                          description: Cost of handling.
                          example: 10
                          format: double
                      required:
                        - price_line_item
                        - price_net
                        - price_tax
                        - tax_rates
                        - tax_class
                        - tax_method
                        - item_price
                        - quantity
                        - shipping_address
                        - shipping_origin
                        - type
                  document_id:
                    type: string
                    description: The documentId of the created tax transaction.
                    example: '123'
                  totals:
                    description: The transaction total amounts.
                    allOf:
                      - type: object
                        properties:
                          net_total:
                            type: number
                            description: >-
                              The sum of net prices of all the items including
                              shipping and gift wrapping
                            example: 180
                            format: double
                          subtotal:
                            type: number
                            description: >-
                              The sum of item prices incl. or excl. tax
                              (depending on tax method).
                            example: 180
                            format: double
                          grand_total:
                            type: number
                            description: The amount consumer has to pay for the order.
                            example: 200
                            format: double
                          tax_total:
                            type: number
                            description: >-
                              The total tax sum (grand total tax incl. shipping
                              tax).
                            example: 20
                            format: double
                          shipping_total:
                            type: number
                            description: The total shipping amount.
                            example: 5
                            format: double
                          shipping_tax_amount:
                            type: number
                            description: The shipping tax amount.
                            example: 5
                            format: double
                          discount_total:
                            type: number
                            description: The total discount amount.
                            example: 5
                            format: double
                          tax_strategy:
                            allOf:
                              - type: string
                                enum:
                                  - fixedrate
                                  - fixed_rate_per_country
                                  - avalara
                                  - vertex
                                  - custom
                                description: Tax calculation strategy.
                                example: fixedrate
                          tax_rates_summary:
                            description: >-
                              Summary of the tax rates applied on the line items
                              of the transaction grouped by the tax name and tax
                              rate.
                            type: array
                            items:
                              type: object
                              properties:
                                rate:
                                  type: number
                                  description: >-
                                    Tax percent value for this tax rate item,
                                    e.g. 0.19 means 19% tax.
                                  example: 0.19
                                  format: double
                                amount:
                                  type: number
                                  description: >-
                                    Monetary tax amount for the unit price
                                    corresponding to this tax_rate item's
                                    percent value, e.g. 3.37.
                                  example: 10
                                  format: double
                                tax_name:
                                  type: string
                                  description: Name of the applied tax.
                                  example: Colorado retail delivery fee
                                country_code:
                                  type: string
                                  description: Country of jurisdiction for the applied tax.
                                  example: US
                                taxable_amount:
                                  type: number
                                  description: >-
                                    The taxable item net amount on which the tax
                                    is chargeable.
                                  example: 10
                                  format: double
                                exempt_amount:
                                  type: number
                                  description: >-
                                    The item net amount which has been tax
                                    exempt.
                                  example: 10
                                  format: double
                                tax_status:
                                  allOf:
                                    - type: string
                                      enum:
                                        - EXEMPT
                                        - TAXABLE
                                        - NOT_TAXABLE
                                      description: >-
                                        Type of the tax status applied to the
                                        tax line

                                            * `TAXABLE`: Taxes are applied to the tax line.

                                        * `NOT_TAXABLE`: No taxes are applied to
                                        the tax line.


                                        * `EXEMPT`: Taxes are exempt for the tax
                                        line.
                                      example: EXEMPT
                              required:
                                - rate
                                - amount
                                - tax_name
                                - country_code
                        required:
                          - net_total
                          - subtotal
                          - grand_total
                          - tax_total
                          - shipping_total
                          - shipping_tax_amount
                          - discount_total
                          - tax_strategy
                          - tax_rates_summary
                  tax_exempt:
                    type: boolean
                    description: Defines the tax exemption status of the transaction.
                    default: false
                  transaction_type:
                    allOf:
                      - type: string
                        enum:
                          - SALE
                          - RETURN
                        description: Type of the transaction.
                        example: SALE
                  order_id:
                    type: string
                    description: >-
                      The order ID that will be used as a reference to link the
                      order to the created tax transaction in the tax provider
                      records.

                      * In case the order ID is not provided then a randomly
                      generated identifier will be used instead.

                      * The tax transaction will be stored by using the given
                      value.
                    example: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  return_id:
                    type: string
                    description: >-
                      The return ID that will be used as a reference to link the
                      order to the created tax transaction in the tax provider
                      records.

                      * The tax transaction for returns will be stored by using
                      the given value.

                      * If the value is not set, the return transaction will not
                      be stored.
                    example: 4fbcc8b3-8511-4ad1-8c9f-96b7c08db664
                  exemption_number:
                    type: string
                    description: >-
                      The number of the customer's exemption certificate.

                      * The given value can be verified by the auditors in the
                      event of a tax audit.
                  fallback_error:
                    description: >-
                      The optional error of the original tax provider execution
                      that triggered the execution of the fall-back tax
                      provider. Will be returned when the orignal tax provider
                      failure occurs.
                    allOf:
                      - type: object
                        properties:
                          error_code:
                            allOf:
                              - type: string
                                enum:
                                  - taxes_unexpected_error
                                  - taxes_tenant_missing
                                  - taxes_config_already_exists
                                  - taxes_config_not_found
                                  - taxes_provider_config_missing
                                  - taxes_tenant_config_required
                                  - taxes_rounding_failed
                                  - taxes_xml_parsing_failed
                                  - taxes_provider_error_response
                                  - taxes_provider_unexpected_response
                                  - taxes_provider_client_error_response
                                  - taxes_provider_invalid_credentials
                                  - taxes_address_validation_failed
                                  - taxes_provider_config_validation_failed
                                  - taxes_provider_generic_error
                                  - taxes_provider_invalid_response
                                  - taxes_transaction_not_found
                                  - taxes_commit_integration_error
                                  - reverse_calculation_provider_error
                                  - transaction_modification_not_allowed
                                description: >-
                                  The error code from the underlying tax
                                  provider.
                                example: taxes_address_validation_failed
                          message:
                            type: string
                            description: The error message of the underlying tax provider.
                            example: >-
                              Avalara request returned an incomplete or invalid
                              address error
                          original_tax_provider:
                            allOf:
                              - type: string
                                enum:
                                  - fixedrate
                                  - fixed_rate_per_country
                                  - avalara
                                  - vertex
                                  - custom
                                description: Tax calculation strategy.
                                example: fixedrate
                        required:
                          - error_code
                          - message
                          - original_tax_provider
                  exemption_class:
                    allOf:
                      - type: string
                        enum:
                          - FEDERAL_GOVERNMENT
                          - STATE_GOVERNMENT
                          - TRIBAL_GOVERNMENT
                          - LOCAL_GOVERNMENT
                          - FOREIGN_DIPLOMAT
                          - CHARITY_ORGANIZATION
                          - RELIGIOUS_ORGANIZATION
                          - EDUCATIONAL_ORGANIZATION
                          - RESALE
                          - DIRECT_PAY_PERMIT
                          - OTHER
                          - NON_RESIDENT
                          - FIRST_NATION_CITIZEN
                          - CUSTOM_*
                        description: >-
                          The tax exemption class that identifies the customer's
                          group/organization that accredited them with the tax
                          exemption status.

                          * For custom tax exemption classes, the `CUSTOM_`
                          prefix with a UPPER_SNAKE_CASE key can be used.
                          Example: `CUSTOM_CANADA`
                        example: CHARITY_ORGANIZATION
                  calculation_mode:
                    allOf:
                      - type: string
                        enum:
                          - STANDARD
                          - REVERSE
                        description: >-
                          Type of the tax calculation


                          * `STANDARD`: Standard tax calculation (default).

                          * Taxes will be calculated for each line from
                          `item_price * quantity` respecting the `tax_method`
                          (tax incl./excl.).



                          * `REVERSE`: Reverse calculation of taxes from the
                          total amount paid by customer (e.g. for injected
                          offline or e-comm orders).

                          * Taxes will be calculated from `price_line_item`
                          (total gross amount for given quantity) regardless of
                          `tax_method` (tax incl./excl.).
                        example: STANDARD
                required:
                  - items
                  - document_id
                  - totals
        '401':
          description: Unauthorized.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        '403':
          description: Forbidden.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        '404':
          description: Tax transaction not found.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        default:
          description: Unexpected error.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
      security:
        - oauth2:
            - taxes:transactions:read
      summary: Get tax transaction for an order
      tags:
        - Tax transactions
    patch:
      description: Update tax transaction for the given order identifier.
      operationId: updateOrderTaxTransaction
      parameters:
        - name: x-request-id
          in: header
          description: Request identifier.
          schema:
            type: string
        - name: store-id
          in: header
          description: Store identifier.
          schema:
            type: string
        - name: orderId
          required: true
          in: path
          description: Order identifier.
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                order_id:
                  type: string
                  description: >-
                    The order ID that will be used as a reference to link the
                    order to the created tax transaction in the tax provider
                    records.

                    * In case the order ID is not provided then a randomly
                    generated identifier will be used instead.

                    * The tax transaction will be stored by using the given
                    value.
                  example: 56bb9975-f43a-4eee-8fb2-200957eb0624
              required:
                - order_id
      responses:
        '200':
          description: Tax transaction.
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    description: >-
                      A list of the items sold/returned in the transaction,
                      enriched with the tax amounts.
                    type: array
                    items:
                      type: object
                      properties:
                        price_line_item:
                          type: number
                          description: >-
                            Gross price for the total quantity of the line item,
                            after all discounts.
                          example: 200
                          format: double
                        price_net:
                          type: number
                          description: >-
                            Net price for total quantity of line item, after
                            applying all discounts.
                          example: 180
                          format: double
                        price_tax:
                          type: number
                          description: >-
                            Total amount of tax added to the net price, after
                            appplying all discounts.
                          example: 20
                          format: double
                        tax_rates:
                          description: >-
                            All applied tax percent values and tax amounts for
                            total quantity of line item (usually more than one
                            rate per line item).
                          type: array
                          items:
                            type: object
                            properties:
                              rate:
                                type: number
                                description: >-
                                  Tax percent value for this tax rate item, e.g.
                                  0.19 means 19% tax.
                                example: 0.19
                                format: double
                              amount:
                                type: number
                                description: >-
                                  Monetary tax amount for the unit price
                                  corresponding to this tax_rate item's percent
                                  value, e.g. 3.37.
                                example: 10
                                format: double
                              tax_name:
                                type: string
                                description: Name of the applied tax.
                                example: Colorado retail delivery fee
                              country_code:
                                type: string
                                description: Country of jurisdiction for the applied tax.
                                example: US
                              taxable_amount:
                                type: number
                                description: >-
                                  The taxable item net amount on which the tax
                                  is chargeable.
                                example: 10
                                format: double
                              exempt_amount:
                                type: number
                                description: The item net amount which has been tax exempt.
                                example: 10
                                format: double
                              tax_status:
                                allOf:
                                  - type: string
                                    enum:
                                      - EXEMPT
                                      - TAXABLE
                                      - NOT_TAXABLE
                                    description: >-
                                      Type of the tax status applied to the tax
                                      line

                                          * `TAXABLE`: Taxes are applied to the tax line.

                                      * `NOT_TAXABLE`: No taxes are applied to
                                      the tax line.


                                      * `EXEMPT`: Taxes are exempt for the tax
                                      line.
                                    example: EXEMPT
                            required:
                              - rate
                              - amount
                              - tax_name
                              - country_code
                        tax_class:
                          type: string
                          description: Tax classification identifier for the line item.
                          example: AAA000
                          maxLength: 256
                        tax_method:
                          allOf:
                            - type: string
                              enum:
                                - vat_included
                                - vat_excluded
                              description: >-
                                The method that indicates how item tax is
                                applied.
                              example: vat_excluded
                        item_price:
                          type: number
                          description: >-
                            Price per quantity 1 of the item, can be incl. or
                            excl. tax depending on tax_method.
                          example: 200
                          format: double
                        quantity:
                          type: integer
                          description: >-
                            Item quantity. Positive number for sold items and
                            negative number for returned items
                          example: 1
                          format: int32
                        shipping_address:
                          description: Consumer's shipping address.
                          allOf:
                            - type: object
                              properties:
                                store_id:
                                  type: string
                                  description: NewStore Store ID of the address.
                                  example: Munich-store
                                address_line_1:
                                  type: string
                                  description: Location address line 1.
                                  example: 81 Elk Rd Little
                                address_line_2:
                                  type: string
                                  description: Location address line 2.
                                province:
                                  type: string
                                  description: Location province.
                                  example: New York
                                state:
                                  type: string
                                  description: Location state.
                                  example: New York
                                zip_code:
                                  type: string
                                  description: Location ZIP code.
                                  example: '12207'
                                  maxLength: 32
                                city:
                                  type: string
                                  description: Location city.
                                  example: Albany
                                country_code:
                                  allOf:
                                    - type: string
                                      enum:
                                        - AF
                                        - AX
                                        - AL
                                        - DZ
                                        - AS
                                        - AD
                                        - AO
                                        - AI
                                        - AQ
                                        - AG
                                        - AR
                                        - AM
                                        - AW
                                        - AU
                                        - AT
                                        - AZ
                                        - BS
                                        - BH
                                        - BD
                                        - BB
                                        - BY
                                        - BE
                                        - BZ
                                        - BJ
                                        - BM
                                        - BT
                                        - BO
                                        - BA
                                        - BW
                                        - BV
                                        - BR
                                        - IO
                                        - BN
                                        - BG
                                        - BF
                                        - BI
                                        - KH
                                        - CM
                                        - CA
                                        - CV
                                        - KY
                                        - CF
                                        - TD
                                        - CL
                                        - CN
                                        - CX
                                        - CC
                                        - CO
                                        - KM
                                        - CG
                                        - CD
                                        - CK
                                        - CR
                                        - CI
                                        - HR
                                        - CU
                                        - CY
                                        - CZ
                                        - DK
                                        - DJ
                                        - DM
                                        - DO
                                        - EC
                                        - EG
                                        - SV
                                        - GQ
                                        - ER
                                        - EE
                                        - ET
                                        - FK
                                        - FO
                                        - FJ
                                        - FI
                                        - FR
                                        - GF
                                        - PF
                                        - TF
                                        - GA
                                        - GM
                                        - GE
                                        - DE
                                        - GH
                                        - GI
                                        - GR
                                        - GL
                                        - GD
                                        - GP
                                        - GU
                                        - GT
                                        - GG
                                        - GN
                                        - GW
                                        - GY
                                        - HT
                                        - HM
                                        - VA
                                        - HN
                                        - HK
                                        - HU
                                        - IS
                                        - IN
                                        - ID
                                        - IR
                                        - IQ
                                        - IE
                                        - IM
                                        - IL
                                        - IT
                                        - JM
                                        - JP
                                        - JE
                                        - JO
                                        - KZ
                                        - KE
                                        - KI
                                        - KR
                                        - KW
                                        - KG
                                        - LA
                                        - LV
                                        - LB
                                        - LS
                                        - LR
                                        - LY
                                        - LI
                                        - LT
                                        - LU
                                        - MO
                                        - MK
                                        - MG
                                        - MW
                                        - MY
                                        - MV
                                        - ML
                                        - MT
                                        - MH
                                        - MQ
                                        - MR
                                        - MU
                                        - YT
                                        - MX
                                        - FM
                                        - MD
                                        - MC
                                        - MN
                                        - ME
                                        - MS
                                        - MA
                                        - MZ
                                        - MM
                                        - NA
                                        - NR
                                        - NP
                                        - NL
                                        - AN
                                        - NC
                                        - NZ
                                        - NI
                                        - NE
                                        - NG
                                        - NU
                                        - NF
                                        - MP
                                        - 'NO'
                                        - OM
                                        - PK
                                        - PW
                                        - PS
                                        - PA
                                        - PG
                                        - PY
                                        - PE
                                        - PH
                                        - PN
                                        - PL
                                        - PT
                                        - PR
                                        - QA
                                        - RE
                                        - RO
                                        - RU
                                        - RW
                                        - BL
                                        - SH
                                        - KN
                                        - LC
                                        - MF
                                        - PM
                                        - VC
                                        - WS
                                        - SM
                                        - ST
                                        - SA
                                        - SN
                                        - RS
                                        - SC
                                        - SL
                                        - SG
                                        - SK
                                        - SI
                                        - SB
                                        - SO
                                        - ZA
                                        - GS
                                        - ES
                                        - LK
                                        - SD
                                        - SR
                                        - SJ
                                        - SZ
                                        - SE
                                        - CH
                                        - SY
                                        - TW
                                        - TJ
                                        - TZ
                                        - TH
                                        - TL
                                        - TG
                                        - TK
                                        - TO
                                        - TT
                                        - TN
                                        - TR
                                        - TM
                                        - TC
                                        - TV
                                        - UG
                                        - UA
                                        - AE
                                        - GB
                                        - US
                                        - UM
                                        - UY
                                        - UZ
                                        - VU
                                        - VE
                                        - VN
                                        - VG
                                        - VI
                                        - WF
                                        - EH
                                        - YE
                                        - ZM
                                        - ZW
                                      description: >-
                                        Country code in upper-case ISO 3166
                                        Alpha-2 format.
                                      example: DE
                        shipping_origin:
                          description: >-
                            The origin of goods address, e.g. physical address
                            of a store.
                          allOf:
                            - type: object
                              properties:
                                store_id:
                                  type: string
                                  description: NewStore Store ID of the address.
                                  example: Munich-store
                                address_line_1:
                                  type: string
                                  description: Location address line 1.
                                  example: 81 Elk Rd Little
                                address_line_2:
                                  type: string
                                  description: Location address line 2.
                                province:
                                  type: string
                                  description: Location province.
                                  example: New York
                                state:
                                  type: string
                                  description: Location state.
                                  example: New York
                                zip_code:
                                  type: string
                                  description: Location ZIP code.
                                  example: '12207'
                                  maxLength: 32
                                city:
                                  type: string
                                  description: Location city.
                                  example: Albany
                                country_code:
                                  allOf:
                                    - type: string
                                      enum:
                                        - AF
                                        - AX
                                        - AL
                                        - DZ
                                        - AS
                                        - AD
                                        - AO
                                        - AI
                                        - AQ
                                        - AG
                                        - AR
                                        - AM
                                        - AW
                                        - AU
                                        - AT
                                        - AZ
                                        - BS
                                        - BH
                                        - BD
                                        - BB
                                        - BY
                                        - BE
                                        - BZ
                                        - BJ
                                        - BM
                                        - BT
                                        - BO
                                        - BA
                                        - BW
                                        - BV
                                        - BR
                                        - IO
                                        - BN
                                        - BG
                                        - BF
                                        - BI
                                        - KH
                                        - CM
                                        - CA
                                        - CV
                                        - KY
                                        - CF
                                        - TD
                                        - CL
                                        - CN
                                        - CX
                                        - CC
                                        - CO
                                        - KM
                                        - CG
                                        - CD
                                        - CK
                                        - CR
                                        - CI
                                        - HR
                                        - CU
                                        - CY
                                        - CZ
                                        - DK
                                        - DJ
                                        - DM
                                        - DO
                                        - EC
                                        - EG
                                        - SV
                                        - GQ
                                        - ER
                                        - EE
                                        - ET
                                        - FK
                                        - FO
                                        - FJ
                                        - FI
                                        - FR
                                        - GF
                                        - PF
                                        - TF
                                        - GA
                                        - GM
                                        - GE
                                        - DE
                                        - GH
                                        - GI
                                        - GR
                                        - GL
                                        - GD
                                        - GP
                                        - GU
                                        - GT
                                        - GG
                                        - GN
                                        - GW
                                        - GY
                                        - HT
                                        - HM
                                        - VA
                                        - HN
                                        - HK
                                        - HU
                                        - IS
                                        - IN
                                        - ID
                                        - IR
                                        - IQ
                                        - IE
                                        - IM
                                        - IL
                                        - IT
                                        - JM
                                        - JP
                                        - JE
                                        - JO
                                        - KZ
                                        - KE
                                        - KI
                                        - KR
                                        - KW
                                        - KG
                                        - LA
                                        - LV
                                        - LB
                                        - LS
                                        - LR
                                        - LY
                                        - LI
                                        - LT
                                        - LU
                                        - MO
                                        - MK
                                        - MG
                                        - MW
                                        - MY
                                        - MV
                                        - ML
                                        - MT
                                        - MH
                                        - MQ
                                        - MR
                                        - MU
                                        - YT
                                        - MX
                                        - FM
                                        - MD
                                        - MC
                                        - MN
                                        - ME
                                        - MS
                                        - MA
                                        - MZ
                                        - MM
                                        - NA
                                        - NR
                                        - NP
                                        - NL
                                        - AN
                                        - NC
                                        - NZ
                                        - NI
                                        - NE
                                        - NG
                                        - NU
                                        - NF
                                        - MP
                                        - 'NO'
                                        - OM
                                        - PK
                                        - PW
                                        - PS
                                        - PA
                                        - PG
                                        - PY
                                        - PE
                                        - PH
                                        - PN
                                        - PL
                                        - PT
                                        - PR
                                        - QA
                                        - RE
                                        - RO
                                        - RU
                                        - RW
                                        - BL
                                        - SH
                                        - KN
                                        - LC
                                        - MF
                                        - PM
                                        - VC
                                        - WS
                                        - SM
                                        - ST
                                        - SA
                                        - SN
                                        - RS
                                        - SC
                                        - SL
                                        - SG
                                        - SK
                                        - SI
                                        - SB
                                        - SO
                                        - ZA
                                        - GS
                                        - ES
                                        - LK
                                        - SD
                                        - SR
                                        - SJ
                                        - SZ
                                        - SE
                                        - CH
                                        - SY
                                        - TW
                                        - TJ
                                        - TZ
                                        - TH
                                        - TL
                                        - TG
                                        - TK
                                        - TO
                                        - TT
                                        - TN
                                        - TR
                                        - TM
                                        - TC
                                        - TV
                                        - UG
                                        - UA
                                        - AE
                                        - GB
                                        - US
                                        - UM
                                        - UY
                                        - UZ
                                        - VU
                                        - VE
                                        - VN
                                        - VG
                                        - VI
                                        - WF
                                        - EH
                                        - YE
                                        - ZM
                                        - ZW
                                      description: >-
                                        Country code in upper-case ISO 3166
                                        Alpha-2 format.
                                      example: DE
                        type:
                          allOf:
                            - type: string
                              enum:
                                - gift-card
                                - gift-wrapping
                                - product
                                - shipping
                              description: Type of the item.
                              example: product
                        currency_consumer:
                          type: string
                          description: Currency code shown and billed to the consumer.
                          example: USD
                        consumer_uuid:
                          type: string
                          description: UUID of the consumer.
                        product_name:
                          type: string
                          description: Human-readable name of the product.
                          example: Metallica shirt
                          maxLength: 512
                        product_sku:
                          type: string
                          description: SKU of the product.
                          example: AIk-0790
                          maxLength: 256
                        product_id:
                          type: string
                          description: Unique identifier of the product.
                          example: '123'
                        extended_attributes:
                          description: The item's list of extended attributes.
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                                description: The name of the extended attribute.
                                example: size
                              value:
                                type: string
                                description: The value of the extended attribute.
                                example: '36'
                            required:
                              - name
                              - value
                        id:
                          type: string
                          description: Unique identifier of the item.
                          example: '123'
                        handling_charges:
                          type: number
                          description: Cost of handling.
                          example: 10
                          format: double
                      required:
                        - price_line_item
                        - price_net
                        - price_tax
                        - tax_rates
                        - tax_class
                        - tax_method
                        - item_price
                        - quantity
                        - shipping_address
                        - shipping_origin
                        - type
                  document_id:
                    type: string
                    description: The documentId of the created tax transaction.
                    example: '123'
                  totals:
                    description: The transaction total amounts.
                    allOf:
                      - type: object
                        properties:
                          net_total:
                            type: number
                            description: >-
                              The sum of net prices of all the items including
                              shipping and gift wrapping
                            example: 180
                            format: double
                          subtotal:
                            type: number
                            description: >-
                              The sum of item prices incl. or excl. tax
                              (depending on tax method).
                            example: 180
                            format: double
                          grand_total:
                            type: number
                            description: The amount consumer has to pay for the order.
                            example: 200
                            format: double
                          tax_total:
                            type: number
                            description: >-
                              The total tax sum (grand total tax incl. shipping
                              tax).
                            example: 20
                            format: double
                          shipping_total:
                            type: number
                            description: The total shipping amount.
                            example: 5
                            format: double
                          shipping_tax_amount:
                            type: number
                            description: The shipping tax amount.
                            example: 5
                            format: double
                          discount_total:
                            type: number
                            description: The total discount amount.
                            example: 5
                            format: double
                          tax_strategy:
                            allOf:
                              - type: string
                                enum:
                                  - fixedrate
                                  - fixed_rate_per_country
                                  - avalara
                                  - vertex
                                  - custom
                                description: Tax calculation strategy.
                                example: fixedrate
                          tax_rates_summary:
                            description: >-
                              Summary of the tax rates applied on the line items
                              of the transaction grouped by the tax name and tax
                              rate.
                            type: array
                            items:
                              type: object
                              properties:
                                rate:
                                  type: number
                                  description: >-
                                    Tax percent value for this tax rate item,
                                    e.g. 0.19 means 19% tax.
                                  example: 0.19
                                  format: double
                                amount:
                                  type: number
                                  description: >-
                                    Monetary tax amount for the unit price
                                    corresponding to this tax_rate item's
                                    percent value, e.g. 3.37.
                                  example: 10
                                  format: double
                                tax_name:
                                  type: string
                                  description: Name of the applied tax.
                                  example: Colorado retail delivery fee
                                country_code:
                                  type: string
                                  description: Country of jurisdiction for the applied tax.
                                  example: US
                                taxable_amount:
                                  type: number
                                  description: >-
                                    The taxable item net amount on which the tax
                                    is chargeable.
                                  example: 10
                                  format: double
                                exempt_amount:
                                  type: number
                                  description: >-
                                    The item net amount which has been tax
                                    exempt.
                                  example: 10
                                  format: double
                                tax_status:
                                  allOf:
                                    - type: string
                                      enum:
                                        - EXEMPT
                                        - TAXABLE
                                        - NOT_TAXABLE
                                      description: >-
                                        Type of the tax status applied to the
                                        tax line

                                            * `TAXABLE`: Taxes are applied to the tax line.

                                        * `NOT_TAXABLE`: No taxes are applied to
                                        the tax line.


                                        * `EXEMPT`: Taxes are exempt for the tax
                                        line.
                                      example: EXEMPT
                              required:
                                - rate
                                - amount
                                - tax_name
                                - country_code
                        required:
                          - net_total
                          - subtotal
                          - grand_total
                          - tax_total
                          - shipping_total
                          - shipping_tax_amount
                          - discount_total
                          - tax_strategy
                          - tax_rates_summary
                  tax_exempt:
                    type: boolean
                    description: Defines the tax exemption status of the transaction.
                    default: false
                  transaction_type:
                    allOf:
                      - type: string
                        enum:
                          - SALE
                          - RETURN
                        description: Type of the transaction.
                        example: SALE
                  order_id:
                    type: string
                    description: >-
                      The order ID that will be used as a reference to link the
                      order to the created tax transaction in the tax provider
                      records.

                      * In case the order ID is not provided then a randomly
                      generated identifier will be used instead.

                      * The tax transaction will be stored by using the given
                      value.
                    example: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  return_id:
                    type: string
                    description: >-
                      The return ID that will be used as a reference to link the
                      order to the created tax transaction in the tax provider
                      records.

                      * The tax transaction for returns will be stored by using
                      the given value.

                      * If the value is not set, the return transaction will not
                      be stored.
                    example: 4fbcc8b3-8511-4ad1-8c9f-96b7c08db664
                  exemption_number:
                    type: string
                    description: >-
                      The number of the customer's exemption certificate.

                      * The given value can be verified by the auditors in the
                      event of a tax audit.
                  fallback_error:
                    description: >-
                      The optional error of the original tax provider execution
                      that triggered the execution of the fall-back tax
                      provider. Will be returned when the orignal tax provider
                      failure occurs.
                    allOf:
                      - type: object
                        properties:
                          error_code:
                            allOf:
                              - type: string
                                enum:
                                  - taxes_unexpected_error
                                  - taxes_tenant_missing
                                  - taxes_config_already_exists
                                  - taxes_config_not_found
                                  - taxes_provider_config_missing
                                  - taxes_tenant_config_required
                                  - taxes_rounding_failed
                                  - taxes_xml_parsing_failed
                                  - taxes_provider_error_response
                                  - taxes_provider_unexpected_response
                                  - taxes_provider_client_error_response
                                  - taxes_provider_invalid_credentials
                                  - taxes_address_validation_failed
                                  - taxes_provider_config_validation_failed
                                  - taxes_provider_generic_error
                                  - taxes_provider_invalid_response
                                  - taxes_transaction_not_found
                                  - taxes_commit_integration_error
                                  - reverse_calculation_provider_error
                                  - transaction_modification_not_allowed
                                description: >-
                                  The error code from the underlying tax
                                  provider.
                                example: taxes_address_validation_failed
                          message:
                            type: string
                            description: The error message of the underlying tax provider.
                            example: >-
                              Avalara request returned an incomplete or invalid
                              address error
                          original_tax_provider:
                            allOf:
                              - type: string
                                enum:
                                  - fixedrate
                                  - fixed_rate_per_country
                                  - avalara
                                  - vertex
                                  - custom
                                description: Tax calculation strategy.
                                example: fixedrate
                        required:
                          - error_code
                          - message
                          - original_tax_provider
                  exemption_class:
                    allOf:
                      - type: string
                        enum:
                          - FEDERAL_GOVERNMENT
                          - STATE_GOVERNMENT
                          - TRIBAL_GOVERNMENT
                          - LOCAL_GOVERNMENT
                          - FOREIGN_DIPLOMAT
                          - CHARITY_ORGANIZATION
                          - RELIGIOUS_ORGANIZATION
                          - EDUCATIONAL_ORGANIZATION
                          - RESALE
                          - DIRECT_PAY_PERMIT
                          - OTHER
                          - NON_RESIDENT
                          - FIRST_NATION_CITIZEN
                          - CUSTOM_*
                        description: >-
                          The tax exemption class that identifies the customer's
                          group/organization that accredited them with the tax
                          exemption status.

                          * For custom tax exemption classes, the `CUSTOM_`
                          prefix with a UPPER_SNAKE_CASE key can be used.
                          Example: `CUSTOM_CANADA`
                        example: CHARITY_ORGANIZATION
                  calculation_mode:
                    allOf:
                      - type: string
                        enum:
                          - STANDARD
                          - REVERSE
                        description: >-
                          Type of the tax calculation


                          * `STANDARD`: Standard tax calculation (default).

                          * Taxes will be calculated for each line from
                          `item_price * quantity` respecting the `tax_method`
                          (tax incl./excl.).



                          * `REVERSE`: Reverse calculation of taxes from the
                          total amount paid by customer (e.g. for injected
                          offline or e-comm orders).

                          * Taxes will be calculated from `price_line_item`
                          (total gross amount for given quantity) regardless of
                          `tax_method` (tax incl./excl.).
                        example: STANDARD
                required:
                  - items
                  - document_id
                  - totals
        '400':
          description: Bad request.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        '401':
          description: Unauthorized.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        '403':
          description: Forbidden.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        '404':
          description: Tax transaction not found.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        default:
          description: Unexpected error.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
      security:
        - oauth2:
            - taxes:transactions:read
      summary: Update tax transaction for an order
      tags:
        - Tax transactions
  /transactions/{orderId}/returns/{returnId}:
    get:
      description: Get tax transaction for the given return and order identifiers.
      operationId: showReturnTaxTransaction
      parameters:
        - name: x-request-id
          in: header
          description: Request identifier.
          schema:
            type: string
        - name: store-id
          in: header
          description: Store identifier.
          schema:
            type: string
        - name: orderId
          required: true
          in: path
          description: Order identifier.
          schema:
            type: string
        - name: returnId
          required: true
          in: path
          description: Return identifier.
          schema:
            type: string
      responses:
        '200':
          description: Tax transaction.
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    description: >-
                      A list of the items sold/returned in the transaction,
                      enriched with the tax amounts.
                    type: array
                    items:
                      type: object
                      properties:
                        price_line_item:
                          type: number
                          description: >-
                            Gross price for the total quantity of the line item,
                            after all discounts.
                          example: 200
                          format: double
                        price_net:
                          type: number
                          description: >-
                            Net price for total quantity of line item, after
                            applying all discounts.
                          example: 180
                          format: double
                        price_tax:
                          type: number
                          description: >-
                            Total amount of tax added to the net price, after
                            appplying all discounts.
                          example: 20
                          format: double
                        tax_rates:
                          description: >-
                            All applied tax percent values and tax amounts for
                            total quantity of line item (usually more than one
                            rate per line item).
                          type: array
                          items:
                            type: object
                            properties:
                              rate:
                                type: number
                                description: >-
                                  Tax percent value for this tax rate item, e.g.
                                  0.19 means 19% tax.
                                example: 0.19
                                format: double
                              amount:
                                type: number
                                description: >-
                                  Monetary tax amount for the unit price
                                  corresponding to this tax_rate item's percent
                                  value, e.g. 3.37.
                                example: 10
                                format: double
                              tax_name:
                                type: string
                                description: Name of the applied tax.
                                example: Colorado retail delivery fee
                              country_code:
                                type: string
                                description: Country of jurisdiction for the applied tax.
                                example: US
                              taxable_amount:
                                type: number
                                description: >-
                                  The taxable item net amount on which the tax
                                  is chargeable.
                                example: 10
                                format: double
                              exempt_amount:
                                type: number
                                description: The item net amount which has been tax exempt.
                                example: 10
                                format: double
                              tax_status:
                                allOf:
                                  - type: string
                                    enum:
                                      - EXEMPT
                                      - TAXABLE
                                      - NOT_TAXABLE
                                    description: >-
                                      Type of the tax status applied to the tax
                                      line

                                          * `TAXABLE`: Taxes are applied to the tax line.

                                      * `NOT_TAXABLE`: No taxes are applied to
                                      the tax line.


                                      * `EXEMPT`: Taxes are exempt for the tax
                                      line.
                                    example: EXEMPT
                            required:
                              - rate
                              - amount
                              - tax_name
                              - country_code
                        tax_class:
                          type: string
                          description: Tax classification identifier for the line item.
                          example: AAA000
                          maxLength: 256
                        tax_method:
                          allOf:
                            - type: string
                              enum:
                                - vat_included
                                - vat_excluded
                              description: >-
                                The method that indicates how item tax is
                                applied.
                              example: vat_excluded
                        item_price:
                          type: number
                          description: >-
                            Price per quantity 1 of the item, can be incl. or
                            excl. tax depending on tax_method.
                          example: 200
                          format: double
                        quantity:
                          type: integer
                          description: >-
                            Item quantity. Positive number for sold items and
                            negative number for returned items
                          example: 1
                          format: int32
                        shipping_address:
                          description: Consumer's shipping address.
                          allOf:
                            - type: object
                              properties:
                                store_id:
                                  type: string
                                  description: NewStore Store ID of the address.
                                  example: Munich-store
                                address_line_1:
                                  type: string
                                  description: Location address line 1.
                                  example: 81 Elk Rd Little
                                address_line_2:
                                  type: string
                                  description: Location address line 2.
                                province:
                                  type: string
                                  description: Location province.
                                  example: New York
                                state:
                                  type: string
                                  description: Location state.
                                  example: New York
                                zip_code:
                                  type: string
                                  description: Location ZIP code.
                                  example: '12207'
                                  maxLength: 32
                                city:
                                  type: string
                                  description: Location city.
                                  example: Albany
                                country_code:
                                  allOf:
                                    - type: string
                                      enum:
                                        - AF
                                        - AX
                                        - AL
                                        - DZ
                                        - AS
                                        - AD
                                        - AO
                                        - AI
                                        - AQ
                                        - AG
                                        - AR
                                        - AM
                                        - AW
                                        - AU
                                        - AT
                                        - AZ
                                        - BS
                                        - BH
                                        - BD
                                        - BB
                                        - BY
                                        - BE
                                        - BZ
                                        - BJ
                                        - BM
                                        - BT
                                        - BO
                                        - BA
                                        - BW
                                        - BV
                                        - BR
                                        - IO
                                        - BN
                                        - BG
                                        - BF
                                        - BI
                                        - KH
                                        - CM
                                        - CA
                                        - CV
                                        - KY
                                        - CF
                                        - TD
                                        - CL
                                        - CN
                                        - CX
                                        - CC
                                        - CO
                                        - KM
                                        - CG
                                        - CD
                                        - CK
                                        - CR
                                        - CI
                                        - HR
                                        - CU
                                        - CY
                                        - CZ
                                        - DK
                                        - DJ
                                        - DM
                                        - DO
                                        - EC
                                        - EG
                                        - SV
                                        - GQ
                                        - ER
                                        - EE
                                        - ET
                                        - FK
                                        - FO
                                        - FJ
                                        - FI
                                        - FR
                                        - GF
                                        - PF
                                        - TF
                                        - GA
                                        - GM
                                        - GE
                                        - DE
                                        - GH
                                        - GI
                                        - GR
                                        - GL
                                        - GD
                                        - GP
                                        - GU
                                        - GT
                                        - GG
                                        - GN
                                        - GW
                                        - GY
                                        - HT
                                        - HM
                                        - VA
                                        - HN
                                        - HK
                                        - HU
                                        - IS
                                        - IN
                                        - ID
                                        - IR
                                        - IQ
                                        - IE
                                        - IM
                                        - IL
                                        - IT
                                        - JM
                                        - JP
                                        - JE
                                        - JO
                                        - KZ
                                        - KE
                                        - KI
                                        - KR
                                        - KW
                                        - KG
                                        - LA
                                        - LV
                                        - LB
                                        - LS
                                        - LR
                                        - LY
                                        - LI
                                        - LT
                                        - LU
                                        - MO
                                        - MK
                                        - MG
                                        - MW
                                        - MY
                                        - MV
                                        - ML
                                        - MT
                                        - MH
                                        - MQ
                                        - MR
                                        - MU
                                        - YT
                                        - MX
                                        - FM
                                        - MD
                                        - MC
                                        - MN
                                        - ME
                                        - MS
                                        - MA
                                        - MZ
                                        - MM
                                        - NA
                                        - NR
                                        - NP
                                        - NL
                                        - AN
                                        - NC
                                        - NZ
                                        - NI
                                        - NE
                                        - NG
                                        - NU
                                        - NF
                                        - MP
                                        - 'NO'
                                        - OM
                                        - PK
                                        - PW
                                        - PS
                                        - PA
                                        - PG
                                        - PY
                                        - PE
                                        - PH
                                        - PN
                                        - PL
                                        - PT
                                        - PR
                                        - QA
                                        - RE
                                        - RO
                                        - RU
                                        - RW
                                        - BL
                                        - SH
                                        - KN
                                        - LC
                                        - MF
                                        - PM
                                        - VC
                                        - WS
                                        - SM
                                        - ST
                                        - SA
                                        - SN
                                        - RS
                                        - SC
                                        - SL
                                        - SG
                                        - SK
                                        - SI
                                        - SB
                                        - SO
                                        - ZA
                                        - GS
                                        - ES
                                        - LK
                                        - SD
                                        - SR
                                        - SJ
                                        - SZ
                                        - SE
                                        - CH
                                        - SY
                                        - TW
                                        - TJ
                                        - TZ
                                        - TH
                                        - TL
                                        - TG
                                        - TK
                                        - TO
                                        - TT
                                        - TN
                                        - TR
                                        - TM
                                        - TC
                                        - TV
                                        - UG
                                        - UA
                                        - AE
                                        - GB
                                        - US
                                        - UM
                                        - UY
                                        - UZ
                                        - VU
                                        - VE
                                        - VN
                                        - VG
                                        - VI
                                        - WF
                                        - EH
                                        - YE
                                        - ZM
                                        - ZW
                                      description: >-
                                        Country code in upper-case ISO 3166
                                        Alpha-2 format.
                                      example: DE
                        shipping_origin:
                          description: >-
                            The origin of goods address, e.g. physical address
                            of a store.
                          allOf:
                            - type: object
                              properties:
                                store_id:
                                  type: string
                                  description: NewStore Store ID of the address.
                                  example: Munich-store
                                address_line_1:
                                  type: string
                                  description: Location address line 1.
                                  example: 81 Elk Rd Little
                                address_line_2:
                                  type: string
                                  description: Location address line 2.
                                province:
                                  type: string
                                  description: Location province.
                                  example: New York
                                state:
                                  type: string
                                  description: Location state.
                                  example: New York
                                zip_code:
                                  type: string
                                  description: Location ZIP code.
                                  example: '12207'
                                  maxLength: 32
                                city:
                                  type: string
                                  description: Location city.
                                  example: Albany
                                country_code:
                                  allOf:
                                    - type: string
                                      enum:
                                        - AF
                                        - AX
                                        - AL
                                        - DZ
                                        - AS
                                        - AD
                                        - AO
                                        - AI
                                        - AQ
                                        - AG
                                        - AR
                                        - AM
                                        - AW
                                        - AU
                                        - AT
                                        - AZ
                                        - BS
                                        - BH
                                        - BD
                                        - BB
                                        - BY
                                        - BE
                                        - BZ
                                        - BJ
                                        - BM
                                        - BT
                                        - BO
                                        - BA
                                        - BW
                                        - BV
                                        - BR
                                        - IO
                                        - BN
                                        - BG
                                        - BF
                                        - BI
                                        - KH
                                        - CM
                                        - CA
                                        - CV
                                        - KY
                                        - CF
                                        - TD
                                        - CL
                                        - CN
                                        - CX
                                        - CC
                                        - CO
                                        - KM
                                        - CG
                                        - CD
                                        - CK
                                        - CR
                                        - CI
                                        - HR
                                        - CU
                                        - CY
                                        - CZ
                                        - DK
                                        - DJ
                                        - DM
                                        - DO
                                        - EC
                                        - EG
                                        - SV
                                        - GQ
                                        - ER
                                        - EE
                                        - ET
                                        - FK
                                        - FO
                                        - FJ
                                        - FI
                                        - FR
                                        - GF
                                        - PF
                                        - TF
                                        - GA
                                        - GM
                                        - GE
                                        - DE
                                        - GH
                                        - GI
                                        - GR
                                        - GL
                                        - GD
                                        - GP
                                        - GU
                                        - GT
                                        - GG
                                        - GN
                                        - GW
                                        - GY
                                        - HT
                                        - HM
                                        - VA
                                        - HN
                                        - HK
                                        - HU
                                        - IS
                                        - IN
                                        - ID
                                        - IR
                                        - IQ
                                        - IE
                                        - IM
                                        - IL
                                        - IT
                                        - JM
                                        - JP
                                        - JE
                                        - JO
                                        - KZ
                                        - KE
                                        - KI
                                        - KR
                                        - KW
                                        - KG
                                        - LA
                                        - LV
                                        - LB
                                        - LS
                                        - LR
                                        - LY
                                        - LI
                                        - LT
                                        - LU
                                        - MO
                                        - MK
                                        - MG
                                        - MW
                                        - MY
                                        - MV
                                        - ML
                                        - MT
                                        - MH
                                        - MQ
                                        - MR
                                        - MU
                                        - YT
                                        - MX
                                        - FM
                                        - MD
                                        - MC
                                        - MN
                                        - ME
                                        - MS
                                        - MA
                                        - MZ
                                        - MM
                                        - NA
                                        - NR
                                        - NP
                                        - NL
                                        - AN
                                        - NC
                                        - NZ
                                        - NI
                                        - NE
                                        - NG
                                        - NU
                                        - NF
                                        - MP
                                        - 'NO'
                                        - OM
                                        - PK
                                        - PW
                                        - PS
                                        - PA
                                        - PG
                                        - PY
                                        - PE
                                        - PH
                                        - PN
                                        - PL
                                        - PT
                                        - PR
                                        - QA
                                        - RE
                                        - RO
                                        - RU
                                        - RW
                                        - BL
                                        - SH
                                        - KN
                                        - LC
                                        - MF
                                        - PM
                                        - VC
                                        - WS
                                        - SM
                                        - ST
                                        - SA
                                        - SN
                                        - RS
                                        - SC
                                        - SL
                                        - SG
                                        - SK
                                        - SI
                                        - SB
                                        - SO
                                        - ZA
                                        - GS
                                        - ES
                                        - LK
                                        - SD
                                        - SR
                                        - SJ
                                        - SZ
                                        - SE
                                        - CH
                                        - SY
                                        - TW
                                        - TJ
                                        - TZ
                                        - TH
                                        - TL
                                        - TG
                                        - TK
                                        - TO
                                        - TT
                                        - TN
                                        - TR
                                        - TM
                                        - TC
                                        - TV
                                        - UG
                                        - UA
                                        - AE
                                        - GB
                                        - US
                                        - UM
                                        - UY
                                        - UZ
                                        - VU
                                        - VE
                                        - VN
                                        - VG
                                        - VI
                                        - WF
                                        - EH
                                        - YE
                                        - ZM
                                        - ZW
                                      description: >-
                                        Country code in upper-case ISO 3166
                                        Alpha-2 format.
                                      example: DE
                        type:
                          allOf:
                            - type: string
                              enum:
                                - gift-card
                                - gift-wrapping
                                - product
                                - shipping
                              description: Type of the item.
                              example: product
                        currency_consumer:
                          type: string
                          description: Currency code shown and billed to the consumer.
                          example: USD
                        consumer_uuid:
                          type: string
                          description: UUID of the consumer.
                        product_name:
                          type: string
                          description: Human-readable name of the product.
                          example: Metallica shirt
                          maxLength: 512
                        product_sku:
                          type: string
                          description: SKU of the product.
                          example: AIk-0790
                          maxLength: 256
                        product_id:
                          type: string
                          description: Unique identifier of the product.
                          example: '123'
                        extended_attributes:
                          description: The item's list of extended attributes.
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                                description: The name of the extended attribute.
                                example: size
                              value:
                                type: string
                                description: The value of the extended attribute.
                                example: '36'
                            required:
                              - name
                              - value
                        id:
                          type: string
                          description: Unique identifier of the item.
                          example: '123'
                        handling_charges:
                          type: number
                          description: Cost of handling.
                          example: 10
                          format: double
                      required:
                        - price_line_item
                        - price_net
                        - price_tax
                        - tax_rates
                        - tax_class
                        - tax_method
                        - item_price
                        - quantity
                        - shipping_address
                        - shipping_origin
                        - type
                  document_id:
                    type: string
                    description: The documentId of the created tax transaction.
                    example: '123'
                  totals:
                    description: The transaction total amounts.
                    allOf:
                      - type: object
                        properties:
                          net_total:
                            type: number
                            description: >-
                              The sum of net prices of all the items including
                              shipping and gift wrapping
                            example: 180
                            format: double
                          subtotal:
                            type: number
                            description: >-
                              The sum of item prices incl. or excl. tax
                              (depending on tax method).
                            example: 180
                            format: double
                          grand_total:
                            type: number
                            description: The amount consumer has to pay for the order.
                            example: 200
                            format: double
                          tax_total:
                            type: number
                            description: >-
                              The total tax sum (grand total tax incl. shipping
                              tax).
                            example: 20
                            format: double
                          shipping_total:
                            type: number
                            description: The total shipping amount.
                            example: 5
                            format: double
                          shipping_tax_amount:
                            type: number
                            description: The shipping tax amount.
                            example: 5
                            format: double
                          discount_total:
                            type: number
                            description: The total discount amount.
                            example: 5
                            format: double
                          tax_strategy:
                            allOf:
                              - type: string
                                enum:
                                  - fixedrate
                                  - fixed_rate_per_country
                                  - avalara
                                  - vertex
                                  - custom
                                description: Tax calculation strategy.
                                example: fixedrate
                          tax_rates_summary:
                            description: >-
                              Summary of the tax rates applied on the line items
                              of the transaction grouped by the tax name and tax
                              rate.
                            type: array
                            items:
                              type: object
                              properties:
                                rate:
                                  type: number
                                  description: >-
                                    Tax percent value for this tax rate item,
                                    e.g. 0.19 means 19% tax.
                                  example: 0.19
                                  format: double
                                amount:
                                  type: number
                                  description: >-
                                    Monetary tax amount for the unit price
                                    corresponding to this tax_rate item's
                                    percent value, e.g. 3.37.
                                  example: 10
                                  format: double
                                tax_name:
                                  type: string
                                  description: Name of the applied tax.
                                  example: Colorado retail delivery fee
                                country_code:
                                  type: string
                                  description: Country of jurisdiction for the applied tax.
                                  example: US
                                taxable_amount:
                                  type: number
                                  description: >-
                                    The taxable item net amount on which the tax
                                    is chargeable.
                                  example: 10
                                  format: double
                                exempt_amount:
                                  type: number
                                  description: >-
                                    The item net amount which has been tax
                                    exempt.
                                  example: 10
                                  format: double
                                tax_status:
                                  allOf:
                                    - type: string
                                      enum:
                                        - EXEMPT
                                        - TAXABLE
                                        - NOT_TAXABLE
                                      description: >-
                                        Type of the tax status applied to the
                                        tax line

                                            * `TAXABLE`: Taxes are applied to the tax line.

                                        * `NOT_TAXABLE`: No taxes are applied to
                                        the tax line.


                                        * `EXEMPT`: Taxes are exempt for the tax
                                        line.
                                      example: EXEMPT
                              required:
                                - rate
                                - amount
                                - tax_name
                                - country_code
                        required:
                          - net_total
                          - subtotal
                          - grand_total
                          - tax_total
                          - shipping_total
                          - shipping_tax_amount
                          - discount_total
                          - tax_strategy
                          - tax_rates_summary
                  tax_exempt:
                    type: boolean
                    description: Defines the tax exemption status of the transaction.
                    default: false
                  transaction_type:
                    allOf:
                      - type: string
                        enum:
                          - SALE
                          - RETURN
                        description: Type of the transaction.
                        example: SALE
                  order_id:
                    type: string
                    description: >-
                      The order ID that will be used as a reference to link the
                      order to the created tax transaction in the tax provider
                      records.

                      * In case the order ID is not provided then a randomly
                      generated identifier will be used instead.

                      * The tax transaction will be stored by using the given
                      value.
                    example: 56bb9975-f43a-4eee-8fb2-200957eb0624
                  return_id:
                    type: string
                    description: >-
                      The return ID that will be used as a reference to link the
                      order to the created tax transaction in the tax provider
                      records.

                      * The tax transaction for returns will be stored by using
                      the given value.

                      * If the value is not set, the return transaction will not
                      be stored.
                    example: 4fbcc8b3-8511-4ad1-8c9f-96b7c08db664
                  exemption_number:
                    type: string
                    description: >-
                      The number of the customer's exemption certificate.

                      * The given value can be verified by the auditors in the
                      event of a tax audit.
                  fallback_error:
                    description: >-
                      The optional error of the original tax provider execution
                      that triggered the execution of the fall-back tax
                      provider. Will be returned when the orignal tax provider
                      failure occurs.
                    allOf:
                      - type: object
                        properties:
                          error_code:
                            allOf:
                              - type: string
                                enum:
                                  - taxes_unexpected_error
                                  - taxes_tenant_missing
                                  - taxes_config_already_exists
                                  - taxes_config_not_found
                                  - taxes_provider_config_missing
                                  - taxes_tenant_config_required
                                  - taxes_rounding_failed
                                  - taxes_xml_parsing_failed
                                  - taxes_provider_error_response
                                  - taxes_provider_unexpected_response
                                  - taxes_provider_client_error_response
                                  - taxes_provider_invalid_credentials
                                  - taxes_address_validation_failed
                                  - taxes_provider_config_validation_failed
                                  - taxes_provider_generic_error
                                  - taxes_provider_invalid_response
                                  - taxes_transaction_not_found
                                  - taxes_commit_integration_error
                                  - reverse_calculation_provider_error
                                  - transaction_modification_not_allowed
                                description: >-
                                  The error code from the underlying tax
                                  provider.
                                example: taxes_address_validation_failed
                          message:
                            type: string
                            description: The error message of the underlying tax provider.
                            example: >-
                              Avalara request returned an incomplete or invalid
                              address error
                          original_tax_provider:
                            allOf:
                              - type: string
                                enum:
                                  - fixedrate
                                  - fixed_rate_per_country
                                  - avalara
                                  - vertex
                                  - custom
                                description: Tax calculation strategy.
                                example: fixedrate
                        required:
                          - error_code
                          - message
                          - original_tax_provider
                  exemption_class:
                    allOf:
                      - type: string
                        enum:
                          - FEDERAL_GOVERNMENT
                          - STATE_GOVERNMENT
                          - TRIBAL_GOVERNMENT
                          - LOCAL_GOVERNMENT
                          - FOREIGN_DIPLOMAT
                          - CHARITY_ORGANIZATION
                          - RELIGIOUS_ORGANIZATION
                          - EDUCATIONAL_ORGANIZATION
                          - RESALE
                          - DIRECT_PAY_PERMIT
                          - OTHER
                          - NON_RESIDENT
                          - FIRST_NATION_CITIZEN
                          - CUSTOM_*
                        description: >-
                          The tax exemption class that identifies the customer's
                          group/organization that accredited them with the tax
                          exemption status.

                          * For custom tax exemption classes, the `CUSTOM_`
                          prefix with a UPPER_SNAKE_CASE key can be used.
                          Example: `CUSTOM_CANADA`
                        example: CHARITY_ORGANIZATION
                  calculation_mode:
                    allOf:
                      - type: string
                        enum:
                          - STANDARD
                          - REVERSE
                        description: >-
                          Type of the tax calculation


                          * `STANDARD`: Standard tax calculation (default).

                          * Taxes will be calculated for each line from
                          `item_price * quantity` respecting the `tax_method`
                          (tax incl./excl.).



                          * `REVERSE`: Reverse calculation of taxes from the
                          total amount paid by customer (e.g. for injected
                          offline or e-comm orders).

                          * Taxes will be calculated from `price_line_item`
                          (total gross amount for given quantity) regardless of
                          `tax_method` (tax incl./excl.).
                        example: STANDARD
                required:
                  - items
                  - document_id
                  - totals
        '401':
          description: Unauthorized.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        '403':
          description: Forbidden.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        '404':
          description: Tax transaction not found.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
        default:
          description: Unexpected error.
          content:
            application/problem+json:
              schema:
                type: object
                properties:
                  status_code:
                    type: integer
                    description: HTTP status code
                    format: int32
                    example: 500
                  error:
                    type: string
                    description: Error message
                    example: Internal server error
                required:
                  - status_code
                  - error
      security:
        - oauth2:
            - taxes:transactions:read
      summary: Get tax transaction for a return
      tags:
        - Tax transactions
info:
  title: Taxes Integration API
  description: >-
    Use this API to create/retrieve tax transactions.

    This API uses `OAuth 2.0 Client Credentials Grant`, and your application
    must obtain an authorized access token before it can execute an endpoint
    call. For more details, please refer to the [NewStore Public API
    Authorization
    guide](https://docs.p.newstore.partners/#/http/getting-started/newstore-rest-api/authorization).
  version: 1.0.0
  contact:
    name: team-f11n
  x-api-id: newstore-tax-service-1.0.0
  x-domain-gateway-integration:
    serviceName: tax-service
    eks:
      cluster: shared-eks
      ingress:
        targetNamespace: team-f11n
  x-audience: external-public
tags:
  - name: Tax transactions
    description: >-
      Calculate the total taxes for orders in your business and retrieve tax
      transactions.
servers:
  - url: https://{tenant}.{environment}.newstore.net/taxes
    description: NewStore Tax Service
    variables:
      tenant:
        default: dodici
      environment:
        enum:
          - s
          - p
        default: s
  - url: http://localhost:8000
    description: Local development server
components:
  securitySchemes:
    oauth2:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: >-
            https://id.{stage}.newstore.net/auth/realms/{tenant}/protocol/openid-connect/token
          scopes:
            newstore:configuration:read: View general NewStore configurations
            newstore:configuration:write: Update general NewStore configurations
            taxes:transactions:read: Read tax transactions
            taxes:transactions:write: Write tax transactions
            taxes:exemption-classes:read: Read tax exemption classes
            taxes:preview-transactions:write: Preview tax transactions
  schemas:
    ErrorDto:
      type: object
      properties:
        status_code:
          type: integer
          description: HTTP status code
          format: int32
          example: 500
        error:
          type: string
          description: Error message
          example: Internal server error
      required:
        - status_code
        - error
    TaxesCountryCode:
      type: string
      enum:
        - AF
        - AX
        - AL
        - DZ
        - AS
        - AD
        - AO
        - AI
        - AQ
        - AG
        - AR
        - AM
        - AW
        - AU
        - AT
        - AZ
        - BS
        - BH
        - BD
        - BB
        - BY
        - BE
        - BZ
        - BJ
        - BM
        - BT
        - BO
        - BA
        - BW
        - BV
        - BR
        - IO
        - BN
        - BG
        - BF
        - BI
        - KH
        - CM
        - CA
        - CV
        - KY
        - CF
        - TD
        - CL
        - CN
        - CX
        - CC
        - CO
        - KM
        - CG
        - CD
        - CK
        - CR
        - CI
        - HR
        - CU
        - CY
        - CZ
        - DK
        - DJ
        - DM
        - DO
        - EC
        - EG
        - SV
        - GQ
        - ER
        - EE
        - ET
        - FK
        - FO
        - FJ
        - FI
        - FR
        - GF
        - PF
        - TF
        - GA
        - GM
        - GE
        - DE
        - GH
        - GI
        - GR
        - GL
        - GD
        - GP
        - GU
        - GT
        - GG
        - GN
        - GW
        - GY
        - HT
        - HM
        - VA
        - HN
        - HK
        - HU
        - IS
        - IN
        - ID
        - IR
        - IQ
        - IE
        - IM
        - IL
        - IT
        - JM
        - JP
        - JE
        - JO
        - KZ
        - KE
        - KI
        - KR
        - KW
        - KG
        - LA
        - LV
        - LB
        - LS
        - LR
        - LY
        - LI
        - LT
        - LU
        - MO
        - MK
        - MG
        - MW
        - MY
        - MV
        - ML
        - MT
        - MH
        - MQ
        - MR
        - MU
        - YT
        - MX
        - FM
        - MD
        - MC
        - MN
        - ME
        - MS
        - MA
        - MZ
        - MM
        - NA
        - NR
        - NP
        - NL
        - AN
        - NC
        - NZ
        - NI
        - NE
        - NG
        - NU
        - NF
        - MP
        - 'NO'
        - OM
        - PK
        - PW
        - PS
        - PA
        - PG
        - PY
        - PE
        - PH
        - PN
        - PL
        - PT
        - PR
        - QA
        - RE
        - RO
        - RU
        - RW
        - BL
        - SH
        - KN
        - LC
        - MF
        - PM
        - VC
        - WS
        - SM
        - ST
        - SA
        - SN
        - RS
        - SC
        - SL
        - SG
        - SK
        - SI
        - SB
        - SO
        - ZA
        - GS
        - ES
        - LK
        - SD
        - SR
        - SJ
        - SZ
        - SE
        - CH
        - SY
        - TW
        - TJ
        - TZ
        - TH
        - TL
        - TG
        - TK
        - TO
        - TT
        - TN
        - TR
        - TM
        - TC
        - TV
        - UG
        - UA
        - AE
        - GB
        - US
        - UM
        - UY
        - UZ
        - VU
        - VE
        - VN
        - VG
        - VI
        - WF
        - EH
        - YE
        - ZM
        - ZW
      description: Country code in upper-case ISO 3166 Alpha-2 format.
      example: DE
    TransactionAddressDto:
      type: object
      properties:
        store_id:
          type: string
          description: NewStore Store ID of the address.
          example: Munich-store
        address_line_1:
          type: string
          description: Location address line 1.
          example: 81 Elk Rd Little
        address_line_2:
          type: string
          description: Location address line 2.
        province:
          type: string
          description: Location province.
          example: New York
        state:
          type: string
          description: Location state.
          example: New York
        zip_code:
          type: string
          description: Location ZIP code.
          example: '12207'
          maxLength: 32
        city:
          type: string
          description: Location city.
          example: Albany
        country_code:
          allOf:
            - type: string
              enum:
                - AF
                - AX
                - AL
                - DZ
                - AS
                - AD
                - AO
                - AI
                - AQ
                - AG
                - AR
                - AM
                - AW
                - AU
                - AT
                - AZ
                - BS
                - BH
                - BD
                - BB
                - BY
                - BE
                - BZ
                - BJ
                - BM
                - BT
                - BO
                - BA
                - BW
                - BV
                - BR
                - IO
                - BN
                - BG
                - BF
                - BI
                - KH
                - CM
                - CA
                - CV
                - KY
                - CF
                - TD
                - CL
                - CN
                - CX
                - CC
                - CO
                - KM
                - CG
                - CD
                - CK
                - CR
                - CI
                - HR
                - CU
                - CY
                - CZ
                - DK
                - DJ
                - DM
                - DO
                - EC
                - EG
                - SV
                - GQ
                - ER
                - EE
                - ET
                - FK
                - FO
                - FJ
                - FI
                - FR
                - GF
                - PF
                - TF
                - GA
                - GM
                - GE
                - DE
                - GH
                - GI
                - GR
                - GL
                - GD
                - GP
                - GU
                - GT
                - GG
                - GN
                - GW
                - GY
                - HT
                - HM
                - VA
                - HN
                - HK
                - HU
                - IS
                - IN
                - ID
                - IR
                - IQ
                - IE
                - IM
                - IL
                - IT
                - JM
                - JP
                - JE
                - JO
                - KZ
                - KE
                - KI
                - KR
                - KW
                - KG
                - LA
                - LV
                - LB
                - LS
                - LR
                - LY
                - LI
                - LT
                - LU
                - MO
                - MK
                - MG
                - MW
                - MY
                - MV
                - ML
                - MT
                - MH
                - MQ
                - MR
                - MU
                - YT
                - MX
                - FM
                - MD
                - MC
                - MN
                - ME
                - MS
                - MA
                - MZ
                - MM
                - NA
                - NR
                - NP
                - NL
                - AN
                - NC
                - NZ
                - NI
                - NE
                - NG
                - NU
                - NF
                - MP
                - 'NO'
                - OM
                - PK
                - PW
                - PS
                - PA
                - PG
                - PY
                - PE
                - PH
                - PN
                - PL
                - PT
                - PR
                - QA
                - RE
                - RO
                - RU
                - RW
                - BL
                - SH
                - KN
                - LC
                - MF
                - PM
                - VC
                - WS
                - SM
                - ST
                - SA
                - SN
                - RS
                - SC
                - SL
                - SG
                - SK
                - SI
                - SB
                - SO
                - ZA
                - GS
                - ES
                - LK
                - SD
                - SR
                - SJ
                - SZ
                - SE
                - CH
                - SY
                - TW
                - TJ
                - TZ
                - TH
                - TL
                - TG
                - TK
                - TO
                - TT
                - TN
                - TR
                - TM
                - TC
                - TV
                - UG
                - UA
                - AE
                - GB
                - US
                - UM
                - UY
                - UZ
                - VU
                - VE
                - VN
                - VG
                - VI
                - WF
                - EH
                - YE
                - ZM
                - ZW
              description: Country code in upper-case ISO 3166 Alpha-2 format.
              example: DE
    ExtendedAttributeDto:
      type: object
      properties:
        name:
          type: string
          description: The name of the extended attribute.
          example: size
        value:
          type: string
          description: The value of the extended attribute.
          example: '36'
      required:
        - name
        - value
    TaxMethod:
      type: string
      enum:
        - vat_included
        - vat_excluded
      description: The method that indicates how item tax is applied.
      example: vat_excluded
    ItemType:
      type: string
      enum:
        - gift-card
        - gift-wrapping
        - product
        - shipping
      description: Type of the item.
      example: product
    TransactionItemDto:
      type: object
      properties:
        tax_class:
          type: string
          description: Tax classification identifier for the line item.
          example: AAA000
          maxLength: 256
        tax_method:
          allOf:
            - type: string
              enum:
                - vat_included
                - vat_excluded
              description: The method that indicates how item tax is applied.
              example: vat_excluded
        item_price:
          type: number
          description: >-
            Price per quantity 1 of the item, can be incl. or excl. tax
            depending on tax_method.
          example: 200
          format: double
        quantity:
          type: integer
          description: >-
            Item quantity. Positive number for sold items and negative number
            for returned items
          example: 1
          format: int32
        shipping_address:
          description: Consumer's shipping address.
          allOf:
            - type: object
              properties:
                store_id:
                  type: string
                  description: NewStore Store ID of the address.
                  example: Munich-store
                address_line_1:
                  type: string
                  description: Location address line 1.
                  example: 81 Elk Rd Little
                address_line_2:
                  type: string
                  description: Location address line 2.
                province:
                  type: string
                  description: Location province.
                  example: New York
                state:
                  type: string
                  description: Location state.
                  example: New York
                zip_code:
                  type: string
                  description: Location ZIP code.
                  example: '12207'
                  maxLength: 32
                city:
                  type: string
                  description: Location city.
                  example: Albany
                country_code:
                  allOf:
                    - type: string
                      enum:
                        - AF
                        - AX
                        - AL
                        - DZ
                        - AS
                        - AD
                        - AO
                        - AI
                        - AQ
                        - AG
                        - AR
                        - AM
                        - AW
                        - AU
                        - AT
                        - AZ
                        - BS
                        - BH
                        - BD
                        - BB
                        - BY
                        - BE
                        - BZ
                        - BJ
                        - BM
                        - BT
                        - BO
                        - BA
                        - BW
                        - BV
                        - BR
                        - IO
                        - BN
                        - BG
                        - BF
                        - BI
                        - KH
                        - CM
                        - CA
                        - CV
                        - KY
                        - CF
                        - TD
                        - CL
                        - CN
                        - CX
                        - CC
                        - CO
                        - KM
                        - CG
                        - CD
                        - CK
                        - CR
                        - CI
                        - HR
                        - CU
                        - CY
                        - CZ
                        - DK
                        - DJ
                        - DM
                        - DO
                        - EC
                        - EG
                        - SV
                        - GQ
                        - ER
                        - EE
                        - ET
                        - FK
                        - FO
                        - FJ
                        - FI
                        - FR
                        - GF
                        - PF
                        - TF
                        - GA
                        - GM
                        - GE
                        - DE
                        - GH
                        - GI
                        - GR
                        - GL
                        - GD
                        - GP
                        - GU
                        - GT
                        - GG
                        - GN
                        - GW
                        - GY
                        - HT
                        - HM
                        - VA
                        - HN
                        - HK
                        - HU
                        - IS
                        - IN
                        - ID
                        - IR
                        - IQ
                        - IE
                        - IM
                        - IL
                        - IT
                        - JM
                        - JP
                        - JE
                        - JO
                        - KZ
                        - KE
                        - KI
                        - KR
                        - KW
                        - KG
                        - LA
                        - LV
                        - LB
                        - LS
                        - LR
                        - LY
                        - LI
                        - LT
                        - LU
                        - MO
                        - MK
                        - MG
                        - MW
                        - MY
                        - MV
                        - ML
                        - MT
                        - MH
                        - MQ
                        - MR
                        - MU
                        - YT
                        - MX
                        - FM
                        - MD
                        - MC
                        - MN
                        - ME
                        - MS
                        - MA
                        - MZ
                        - MM
                        - NA
                        - NR
                        - NP
                        - NL
                        - AN
                        - NC
                        - NZ
                        - NI
                        - NE
                        - NG
                        - NU
                        - NF
                        - MP
                        - 'NO'
                        - OM
                        - PK
                        - PW
                        - PS
                        - PA
                        - PG
                        - PY
                        - PE
                        - PH
                        - PN
                        - PL
                        - PT
                        - PR
                        - QA
                        - RE
                        - RO
                        - RU
                        - RW
                        - BL
                        - SH
                        - KN
                        - LC
                        - MF
                        - PM
                        - VC
                        - WS
                        - SM
                        - ST
                        - SA
                        - SN
                        - RS
                        - SC
                        - SL
                        - SG
                        - SK
                        - SI
                        - SB
                        - SO
                        - ZA
                        - GS
                        - ES
                        - LK
                        - SD
                        - SR
                        - SJ
                        - SZ
                        - SE
                        - CH
                        - SY
                        - TW
                        - TJ
                        - TZ
                        - TH
                        - TL
                        - TG
                        - TK
                        - TO
                        - TT
                        - TN
                        - TR
                        - TM
                        - TC
                        - TV
                        - UG
                        - UA
                        - AE
                        - GB
                        - US
                        - UM
                        - UY
                        - UZ
                        - VU
                        - VE
                        - VN
                        - VG
                        - VI
                        - WF
                        - EH
                        - YE
                        - ZM
                        - ZW
                      description: Country code in upper-case ISO 3166 Alpha-2 format.
                      example: DE
        shipping_origin:
          description: The origin of goods address, e.g. physical address of a store.
          allOf:
            - type: object
              properties:
                store_id:
                  type: string
                  description: NewStore Store ID of the address.
                  example: Munich-store
                address_line_1:
                  type: string
                  description: Location address line 1.
                  example: 81 Elk Rd Little
                address_line_2:
                  type: string
                  description: Location address line 2.
                province:
                  type: string
                  description: Location province.
                  example: New York
                state:
                  type: string
                  description: Location state.
                  example: New York
                zip_code:
                  type: string
                  description: Location ZIP code.
                  example: '12207'
                  maxLength: 32
                city:
                  type: string
                  description: Location city.
                  example: Albany
                country_code:
                  allOf:
                    - type: string
                      enum:
                        - AF
                        - AX
                        - AL
                        - DZ
                        - AS
                        - AD
                        - AO
                        - AI
                        - AQ
                        - AG
                        - AR
                        - AM
                        - AW
                        - AU
                        - AT
                        - AZ
                        - BS
                        - BH
                        - BD
                        - BB
                        - BY
                        - BE
                        - BZ
                        - BJ
                        - BM
                        - BT
                        - BO
                        - BA
                        - BW
                        - BV
                        - BR
                        - IO
                        - BN
                        - BG
                        - BF
                        - BI
                        - KH
                        - CM
                        - CA
                        - CV
                        - KY
                        - CF
                        - TD
                        - CL
                        - CN
                        - CX
                        - CC
                        - CO
                        - KM
                        - CG
                        - CD
                        - CK
                        - CR
                        - CI
                        - HR
                        - CU
                        - CY
                        - CZ
                        - DK
                        - DJ
                        - DM
                        - DO
                        - EC
                        - EG
                        - SV
                        - GQ
                        - ER
                        - EE
                        - ET
                        - FK
                        - FO
                        - FJ
                        - FI
                        - FR
                        - GF
                        - PF
                        - TF
                        - GA
                        - GM
                        - GE
                        - DE
                        - GH
                        - GI
                        - GR
                        - GL
                        - GD
                        - GP
                        - GU
                        - GT
                        - GG
                        - GN
                        - GW
                        - GY
                        - HT
                        - HM
                        - VA
                        - HN
                        - HK
                        - HU
                        - IS
                        - IN
                        - ID
                        - IR
                        - IQ
                        - IE
                        - IM
                        - IL
                        - IT
                        - JM
                        - JP
                        - JE
                        - JO
                        - KZ
                        - KE
                        - KI
                        - KR
                        - KW
                        - KG
                        - LA
                        - LV
                        - LB
                        - LS
                        - LR
                        - LY
                        - LI
                        - LT
                        - LU
                        - MO
                        - MK
                        - MG
                        - MW
                        - MY
                        - MV
                        - ML
                        - MT
                        - MH
                        - MQ
                        - MR
                        - MU
                        - YT
                        - MX
                        - FM
                        - MD
                        - MC
                        - MN
                        - ME
                        - MS
                        - MA
                        - MZ
                        - MM
                        - NA
                        - NR
                        - NP
                        - NL
                        - AN
                        - NC
                        - NZ
                        - NI
                        - NE
                        - NG
                        - NU
                        - NF
                        - MP
                        - 'NO'
                        - OM
                        - PK
                        - PW
                        - PS
                        - PA
                        - PG
                        - PY
                        - PE
                        - PH
                        - PN
                        - PL
                        - PT
                        - PR
                        - QA
                        - RE
                        - RO
                        - RU
                        - RW
                        - BL
                        - SH
                        - KN
                        - LC
                        - MF
                        - PM
                        - VC
                        - WS
                        - SM
                        - ST
                        - SA
                        - SN
                        - RS
                        - SC
                        - SL
                        - SG
                        - SK
                        - SI
                        - SB
                        - SO
                        - ZA
                        - GS
                        - ES
                        - LK
                        - SD
                        - SR
                        - SJ
                        - SZ
                        - SE
                        - CH
                        - SY
                        - TW
                        - TJ
                        - TZ
                        - TH
                        - TL
                        - TG
                        - TK
                        - TO
                        - TT
                        - TN
                        - TR
                        - TM
                        - TC
                        - TV
                        - UG
                        - UA
                        - AE
                        - GB
                        - US
                        - UM
                        - UY
                        - UZ
                        - VU
                        - VE
                        - VN
                        - VG
                        - VI
                        - WF
                        - EH
                        - YE
                        - ZM
                        - ZW
                      description: Country code in upper-case ISO 3166 Alpha-2 format.
                      example: DE
        type:
          allOf:
            - type: string
              enum:
                - gift-card
                - gift-wrapping
                - product
                - shipping
              description: Type of the item.
              example: product
        currency_consumer:
          type: string
          description: Currency code shown and billed to the consumer.
          example: USD
        consumer_uuid:
          type: string
          description: UUID of the consumer.
        product_name:
          type: string
          description: Human-readable name of the product.
          example: Metallica shirt
          maxLength: 512
        product_sku:
          type: string
          description: SKU of the product.
          example: AIk-0790
          maxLength: 256
        product_id:
          type: string
          description: Unique identifier of the product.
          example: '123'
        extended_attributes:
          description: The item's list of extended attributes.
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: The name of the extended attribute.
                example: size
              value:
                type: string
                description: The value of the extended attribute.
                example: '36'
            required:
              - name
              - value
        id:
          type: string
          description: Unique identifier of the item.
          example: '123'
        handling_charges:
          type: number
          description: Cost of handling.
          example: 10
          format: double
      required:
        - tax_class
        - tax_method
        - item_price
        - quantity
        - shipping_address
        - shipping_origin
        - type
    TransactionTaxRateDto:
      type: object
      properties:
        rate:
          type: number
          description: Tax percent value for this tax rate item, e.g. 0.19 means 19% tax.
          example: 0.19
          format: double
        amount:
          type: number
          description: >-
            Monetary tax amount for the unit price corresponding to this
            tax_rate item's percent value, e.g. 3.37.
          example: 10
          format: double
        tax_name:
          type: string
          description: Name of the applied tax.
          example: Colorado retail delivery fee
        country_code:
          type: string
          description: Country of jurisdiction for the applied tax.
          example: US
      required:
        - rate
        - amount
        - tax_name
        - country_code
    ReverseCalculationTransactionItemDto:
      type: object
      properties:
        tax_class:
          type: string
          description: Tax classification identifier for the line item.
          example: AAA000
          maxLength: 256
        tax_method:
          allOf:
            - type: string
              enum:
                - vat_included
                - vat_excluded
              description: The method that indicates how item tax is applied.
              example: vat_excluded
        item_price:
          type: number
          description: >-
            Price per quantity 1 of the item, can be incl. or excl. tax
            depending on tax_method.
          example: 200
          format: double
        quantity:
          type: integer
          description: >-
            Item quantity. Positive number for sold items and negative number
            for returned items
          example: 1
          format: int32
        shipping_address:
          description: Consumer's shipping address.
          allOf:
            - type: object
              properties:
                store_id:
                  type: string
                  description: NewStore Store ID of the address.
                  example: Munich-store
                address_line_1:
                  type: string
                  description: Location address line 1.
                  example: 81 Elk Rd Little
                address_line_2:
                  type: string
                  description: Location address line 2.
                province:
                  type: string
                  description: Location province.
                  example: New York
                state:
                  type: string
                  description: Location state.
                  example: New York
                zip_code:
                  type: string
                  description: Location ZIP code.
                  example: '12207'
                  maxLength: 32
                city:
                  type: string
                  description: Location city.
                  example: Albany
                country_code:
                  allOf:
                    - type: string
                      enum:
                        - AF
                        - AX
                        - AL
                        - DZ
                        - AS
                        - AD
                        - AO
                        - AI
                        - AQ
                        - AG
                        - AR
                        - AM
                        - AW
                        - AU
                        - AT
                        - AZ
                        - BS
                        - BH
                        - BD
                        - BB
                        - BY
                        - BE
                        - BZ
                        - BJ
                        - BM
                        - BT
                        - BO
                        - BA
                        - BW
                        - BV
                        - BR
                        - IO
                        - BN
                        - BG
                        - BF
                        - BI
                        - KH
                        - CM
                        - CA
                        - CV
                        - KY
                        - CF
                        - TD
                        - CL
                        - CN
                        - CX
                        - CC
                        - CO
                        - KM
                        - CG
                        - CD
                        - CK
                        - CR
                        - CI
                        - HR
                        - CU
                        - CY
                        - CZ
                        - DK
                        - DJ
                        - DM
                        - DO
                        - EC
                        - EG
                        - SV
                        - GQ
                        - ER
                        - EE
                        - ET
                        - FK
                        - FO
                        - FJ
                        - FI
                        - FR
                        - GF
                        - PF
                        - TF
                        - GA
                        - GM
                        - GE
                        - DE
                        - GH
                        - GI
                        - GR
                        - GL
                        - GD
                        - GP
                        - GU
                        - GT
                        - GG
                        - GN
                        - GW
                        - GY
                        - HT
                        - HM
                        - VA
                        - HN
                        - HK
                        - HU
                        - IS
                        - IN
                        - ID
                        - IR
                        - IQ
                        - IE
                        - IM
                        - IL
                        - IT
                        - JM
                        - JP
                        - JE
                        - JO
                        - KZ
                        - KE
                        - KI
                        - KR
                        - KW
                        - KG
                        - LA
                        - LV
                        - LB
                        - LS
                        - LR
                        - LY
                        - LI
                        - LT
                        - LU
                        - MO
                        - MK
                        - MG
                        - MW
                        - MY
                        - MV
                        - ML
                        - MT
                        - MH
                        - MQ
                        - MR
                        - MU
                        - YT
                        - MX
                        - FM
                        - MD
                        - MC
                        - MN
                        - ME
                        - MS
                        - MA
                        - MZ
                        - MM
                        - NA
                        - NR
                        - NP
                        - NL
                        - AN
                        - NC
                        - NZ
                        - NI
                        - NE
                        - NG
                        - NU
                        - NF
                        - MP
                        - 'NO'
                        - OM
                        - PK
                        - PW
                        - PS
                        - PA
                        - PG
                        - PY
                        - PE
                        - PH
                        - PN
                        - PL
                        - PT
                        - PR
                        - QA
                        - RE
                        - RO
                        - RU
                        - RW
                        - BL
                        - SH
                        - KN
                        - LC
                        - MF
                        - PM
                        - VC
                        - WS
                        - SM
                        - ST
                        - SA
                        - SN
                        - RS
                        - SC
                        - SL
                        - SG
                        - SK
                        - SI
                        - SB
                        - SO
                        - ZA
                        - GS
                        - ES
                        - LK
                        - SD
                        - SR
                        - SJ
                        - SZ
                        - SE
                        - CH
                        - SY
                        - TW
                        - TJ
                        - TZ
                        - TH
                        - TL
                        - TG
                        - TK
                        - TO
                        - TT
                        - TN
                        - TR
                        - TM
                        - TC
                        - TV
                        - UG
                        - UA
                        - AE
                        - GB
                        - US
                        - UM
                        - UY
                        - UZ
                        - VU
                        - VE
                        - VN
                        - VG
                        - VI
                        - WF
                        - EH
                        - YE
                        - ZM
                        - ZW
                      description: Country code in upper-case ISO 3166 Alpha-2 format.
                      example: DE
        shipping_origin:
          description: The origin of goods address, e.g. physical address of a store.
          allOf:
            - type: object
              properties:
                store_id:
                  type: string
                  description: NewStore Store ID of the address.
                  example: Munich-store
                address_line_1:
                  type: string
                  description: Location address line 1.
                  example: 81 Elk Rd Little
                address_line_2:
                  type: string
                  description: Location address line 2.
                province:
                  type: string
                  description: Location province.
                  example: New York
                state:
                  type: string
                  description: Location state.
                  example: New York
                zip_code:
                  type: string
                  description: Location ZIP code.
                  example: '12207'
                  maxLength: 32
                city:
                  type: string
                  description: Location city.
                  example: Albany
                country_code:
                  allOf:
                    - type: string
                      enum:
                        - AF
                        - AX
                        - AL
                        - DZ
                        - AS
                        - AD
                        - AO
                        - AI
                        - AQ
                        - AG
                        - AR
                        - AM
                        - AW
                        - AU
                        - AT
                        - AZ
                        - BS
                        - BH
                        - BD
                        - BB
                        - BY
                        - BE
                        - BZ
                        - BJ
                        - BM
                        - BT
                        - BO
                        - BA
                        - BW
                        - BV
                        - BR
                        - IO
                        - BN
                        - BG
                        - BF
                        - BI
                        - KH
                        - CM
                        - CA
                        - CV
                        - KY
                        - CF
                        - TD
                        - CL
                        - CN
                        - CX
                        - CC
                        - CO
                        - KM
                        - CG
                        - CD
                        - CK
                        - CR
                        - CI
                        - HR
                        - CU
                        - CY
                        - CZ
                        - DK
                        - DJ
                        - DM
                        - DO
                        - EC
                        - EG
                        - SV
                        - GQ
                        - ER
                        - EE
                        - ET
                        - FK
                        - FO
                        - FJ
                        - FI
                        - FR
                        - GF
                        - PF
                        - TF
                        - GA
                        - GM
                        - GE
                        - DE
                        - GH
                        - GI
                        - GR
                        - GL
                        - GD
                        - GP
                        - GU
                        - GT
                        - GG
                        - GN
                        - GW
                        - GY
                        - HT
                        - HM
                        - VA
                        - HN
                        - HK
                        - HU
                        - IS
                        - IN
                        - ID
                        - IR
                        - IQ
                        - IE
                        - IM
                        - IL
                        - IT
                        - JM
                        - JP
                        - JE
                        - JO
                        - KZ
                        - KE
                        - KI
                        - KR
                        - KW
                        - KG
                        - LA
                        - LV
                        - LB
                        - LS
                        - LR
                        - LY
                        - LI
                        - LT
                        - LU
                        - MO
                        - MK
                        - MG
                        - MW
                        - MY
                        - MV
                        - ML
                        - MT
                        - MH
                        - MQ
                        - MR
                        - MU
                        - YT
                        - MX
                        - FM
                        - MD
                        - MC
                        - MN
                        - ME
                        - MS
                        - MA
                        - MZ
                        - MM
                        - NA
                        - NR
                        - NP
                        - NL
                        - AN
                        - NC
                        - NZ
                        - NI
                        - NE
                        - NG
                        - NU
                        - NF
                        - MP
                        - 'NO'
                        - OM
                        - PK
                        - PW
                        - PS
                        - PA
                        - PG
                        - PY
                        - PE
                        - PH
                        - PN
                        - PL
                        - PT
                        - PR
                        - QA
                        - RE
                        - RO
                        - RU
                        - RW
                        - BL
                        - SH
                        - KN
                        - LC
                        - MF
                        - PM
                        - VC
                        - WS
                        - SM
                        - ST
                        - SA
                        - SN
                        - RS
                        - SC
                        - SL
                        - SG
                        - SK
                        - SI
                        - SB
                        - SO
                        - ZA
                        - GS
                        - ES
                        - LK
                        - SD
                        - SR
                        - SJ
                        - SZ
                        - SE
                        - CH
                        - SY
                        - TW
                        - TJ
                        - TZ
                        - TH
                        - TL
                        - TG
                        - TK
                        - TO
                        - TT
                        - TN
                        - TR
                        - TM
                        - TC
                        - TV
                        - UG
                        - UA
                        - AE
                        - GB
                        - US
                        - UM
                        - UY
                        - UZ
                        - VU
                        - VE
                        - VN
                        - VG
                        - VI
                        - WF
                        - EH
                        - YE
                        - ZM
                        - ZW
                      description: Country code in upper-case ISO 3166 Alpha-2 format.
                      example: DE
        type:
          allOf:
            - type: string
              enum:
                - gift-card
                - gift-wrapping
                - product
                - shipping
              description: Type of the item.
              example: product
        currency_consumer:
          type: string
          description: Currency code shown and billed to the consumer.
          example: USD
        consumer_uuid:
          type: string
          description: UUID of the consumer.
        product_name:
          type: string
          description: Human-readable name of the product.
          example: Metallica shirt
          maxLength: 512
        product_sku:
          type: string
          description: SKU of the product.
          example: AIk-0790
          maxLength: 256
        product_id:
          type: string
          description: Unique identifier of the product.
          example: '123'
        extended_attributes:
          description: The item's list of extended attributes.
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: The name of the extended attribute.
                example: size
              value:
                type: string
                description: The value of the extended attribute.
                example: '36'
            required:
              - name
              - value
        id:
          type: string
          description: Unique identifier of the item.
          example: '123'
        handling_charges:
          type: number
          description: Cost of handling.
          example: 10
          format: double
        price_line_item:
          type: number
          description: >-
            Gross price for the total quantity of the line item, after all
            discounts.
          example: 200
          format: double
        price_net:
          type: number
          description: >-
            Net price for total quantity of line item, after applying all
            discounts.
          example: 180
          format: double
        price_tax:
          type: number
          description: >-
            Total amount of tax added to the net price, after appplying all
            discounts.
          example: 20
          format: double
        tax_rates:
          description: >-
            All applied tax percent values and tax amounts for total quantity of
            line item (usually more than one rate per line item).
          type: array
          items:
            type: object
            properties:
              rate:
                type: number
                description: >-
                  Tax percent value for this tax rate item, e.g. 0.19 means 19%
                  tax.
                example: 0.19
                format: double
              amount:
                type: number
                description: >-
                  Monetary tax amount for the unit price corresponding to this
                  tax_rate item's percent value, e.g. 3.37.
                example: 10
                format: double
              tax_name:
                type: string
                description: Name of the applied tax.
                example: Colorado retail delivery fee
              country_code:
                type: string
                description: Country of jurisdiction for the applied tax.
                example: US
            required:
              - rate
              - amount
              - tax_name
              - country_code
      required:
        - tax_class
        - tax_method
        - item_price
        - quantity
        - shipping_address
        - shipping_origin
        - type
        - price_line_item
        - price_net
        - price_tax
        - tax_rates
    TransactionType:
      type: string
      enum:
        - SALE
        - RETURN
      description: Type of the transaction.
      example: SALE
    ExemptionClass:
      type: string
      enum:
        - FEDERAL_GOVERNMENT
        - STATE_GOVERNMENT
        - TRIBAL_GOVERNMENT
        - LOCAL_GOVERNMENT
        - FOREIGN_DIPLOMAT
        - CHARITY_ORGANIZATION
        - RELIGIOUS_ORGANIZATION
        - EDUCATIONAL_ORGANIZATION
        - RESALE
        - DIRECT_PAY_PERMIT
        - OTHER
        - NON_RESIDENT
        - FIRST_NATION_CITIZEN
        - CUSTOM_*
      description: >-
        The tax exemption class that identifies the customer's
        group/organization that accredited them with the tax exemption status.

        * For custom tax exemption classes, the `CUSTOM_` prefix with a
        UPPER_SNAKE_CASE key can be used. Example: `CUSTOM_CANADA`
      example: CHARITY_ORGANIZATION
    CalculationMode:
      type: string
      enum:
        - STANDARD
        - REVERSE
      description: >-
        Type of the tax calculation


        * `STANDARD`: Standard tax calculation (default).

        * Taxes will be calculated for each line from `item_price * quantity`
        respecting the `tax_method` (tax incl./excl.).



        * `REVERSE`: Reverse calculation of taxes from the total amount paid by
        customer (e.g. for injected offline or e-comm orders).

        * Taxes will be calculated from `price_line_item` (total gross amount
        for given quantity) regardless of `tax_method` (tax incl./excl.).
      example: STANDARD
    TransactionDto:
      type: object
      properties:
        tax_exempt:
          type: boolean
          description: Defines the tax exemption status of the transaction.
          default: false
        transaction_type:
          allOf:
            - type: string
              enum:
                - SALE
                - RETURN
              description: Type of the transaction.
              example: SALE
        order_id:
          type: string
          description: >-
            The order ID that will be used as a reference to link the order to
            the created tax transaction in the tax provider records.

            * In case the order ID is not provided then a randomly generated
            identifier will be used instead.

            * The tax transaction will be stored by using the given value.
          example: 56bb9975-f43a-4eee-8fb2-200957eb0624
        return_id:
          type: string
          description: >-
            The return ID that will be used as a reference to link the order to
            the created tax transaction in the tax provider records.

            * The tax transaction for returns will be stored by using the given
            value.

            * If the value is not set, the return transaction will not be
            stored.
          example: 4fbcc8b3-8511-4ad1-8c9f-96b7c08db664
        exemption_number:
          type: string
          description: >-
            The number of the customer's exemption certificate.

            * The given value can be verified by the auditors in the event of a
            tax audit.
        items:
          type: array
          description: >-
            A list of the items sold/returned in the transaction.

            * The type `ReverseCalculationTransactionItemDto` should be used
            when the `calculation_mode` is set to `REVERSE`.

            * The type `TransactionItemDto` should be used When the
            `calculation_mode` is not sent or set to `STANDARD`.
          items:
            oneOf:
              - type: object
                properties:
                  tax_class:
                    type: string
                    description: Tax classification identifier for the line item.
                    example: AAA000
                    maxLength: 256
                  tax_method:
                    allOf:
                      - type: string
                        enum:
                          - vat_included
                          - vat_excluded
                        description: The method that indicates how item tax is applied.
                        example: vat_excluded
                  item_price:
                    type: number
                    description: >-
                      Price per quantity 1 of the item, can be incl. or excl.
                      tax depending on tax_method.
                    example: 200
                    format: double
                  quantity:
                    type: integer
                    description: >-
                      Item quantity. Positive number for sold items and negative
                      number for returned items
                    example: 1
                    format: int32
                  shipping_address:
                    description: Consumer's shipping address.
                    allOf:
                      - type: object
                        properties:
                          store_id:
                            type: string
                            description: NewStore Store ID of the address.
                            example: Munich-store
                          address_line_1:
                            type: string
                            description: Location address line 1.
                            example: 81 Elk Rd Little
                          address_line_2:
                            type: string
                            description: Location address line 2.
                          province:
                            type: string
                            description: Location province.
                            example: New York
                          state:
                            type: string
                            description: Location state.
                            example: New York
                          zip_code:
                            type: string
                            description: Location ZIP code.
                            example: '12207'
                            maxLength: 32
                          city:
                            type: string
                            description: Location city.
                            example: Albany
                          country_code:
                            allOf:
                              - type: string
                                enum:
                                  - AF
                                  - AX
                                  - AL
                                  - DZ
                                  - AS
                                  - AD
                                  - AO
                                  - AI
                                  - AQ
                                  - AG
                                  - AR
                                  - AM
                                  - AW
                                  - AU
                                  - AT
                                  - AZ
                                  - BS
                                  - BH
                                  - BD
                                  - BB
                                  - BY
                                  - BE
                                  - BZ
                                  - BJ
                                  - BM
                                  - BT
                                  - BO
                                  - BA
                                  - BW
                                  - BV
                                  - BR
                                  - IO
                                  - BN
                                  - BG
                                  - BF
                                  - BI
                                  - KH
                                  - CM
                                  - CA
                                  - CV
                                  - KY
                                  - CF
                                  - TD
                                  - CL
                                  - CN
                                  - CX
                                  - CC
                                  - CO
                                  - KM
                                  - CG
                                  - CD
                                  - CK
                                  - CR
                                  - CI
                                  - HR
                                  - CU
                                  - CY
                                  - CZ
                                  - DK
                                  - DJ
                                  - DM
                                  - DO
                                  - EC
                                  - EG
                                  - SV
                                  - GQ
                                  - ER
                                  - EE
                                  - ET
                                  - FK
                                  - FO
                                  - FJ
                                  - FI
                                  - FR
                                  - GF
                                  - PF
                                  - TF
                                  - GA
                                  - GM
                                  - GE
                                  - DE
                                  - GH
                                  - GI
                                  - GR
                                  - GL
                                  - GD
                                  - GP
                                  - GU
                                  - GT
                                  - GG
                                  - GN
                                  - GW
                                  - GY
                                  - HT
                                  - HM
                                  - VA
                                  - HN
                                  - HK
                                  - HU
                                  - IS
                                  - IN
                                  - ID
                                  - IR
                                  - IQ
                                  - IE
                                  - IM
                                  - IL
                                  - IT
                                  - JM
                                  - JP
                                  - JE
                                  - JO
                                  - KZ
                                  - KE
                                  - KI
                                  - KR
                                  - KW
                                  - KG
                                  - LA
                                  - LV
                                  - LB
                                  - LS
                                  - LR
                                  - LY
                                  - LI
                                  - LT
                                  - LU
                                  - MO
                                  - MK
                                  - MG
                                  - MW
                                  - MY
                                  - MV
                                  - ML
                                  - MT
                                  - MH
                                  - MQ
                                  - MR
                                  - MU
                                  - YT
                                  - MX
                                  - FM
                                  - MD
                                  - MC
                                  - MN
                                  - ME
                                  - MS
                                  - MA
                                  - MZ
                                  - MM
                                  - NA
                                  - NR
                                  - NP
                                  - NL
                                  - AN
                                  - NC
                                  - NZ
                                  - NI
                                  - NE
                                  - NG
                                  - NU
                                  - NF
                                  - MP
                                  - 'NO'
                                  - OM
                                  - PK
                                  - PW
                                  - PS
                                  - PA
                                  - PG
                                  - PY
                                  - PE
                                  - PH
                                  - PN
                                  - PL
                                  - PT
                                  - PR
                                  - QA
                                  - RE
                                  - RO
                                  - RU
                                  - RW
                                  - BL
                                  - SH
                                  - KN
                                  - LC
                                  - MF
                                  - PM
                                  - VC
                                  - WS
                                  - SM
                                  - ST
                                  - SA
                                  - SN
                                  - RS
                                  - SC
                                  - SL
                                  - SG
                                  - SK
                                  - SI
                                  - SB
                                  - SO
                                  - ZA
                                  - GS
                                  - ES
                                  - LK
                                  - SD
                                  - SR
                                  - SJ
                                  - SZ
                                  - SE
                                  - CH
                                  - SY
                                  - TW
                                  - TJ
                                  - TZ
                                  - TH
                                  - TL
                                  - TG
                                  - TK
                                  - TO
                                  - TT
                                  - TN
                                  - TR
                                  - TM
                                  - TC
                                  - TV
                                  - UG
                                  - UA
                                  - AE
                                  - GB
                                  - US
                                  - UM
                                  - UY
                                  - UZ
                                  - VU
                                  - VE
                                  - VN
                                  - VG
                                  - VI
                                  - WF
                                  - EH
                                  - YE
                                  - ZM
                                  - ZW
                                description: >-
                                  Country code in upper-case ISO 3166 Alpha-2
                                  format.
                                example: DE
                  shipping_origin:
                    description: >-
                      The origin of goods address, e.g. physical address of a
                      store.
                    allOf:
                      - type: object
                        properties:
                          store_id:
                            type: string
                            description: NewStore Store ID of the address.
                            example: Munich-store
                          address_line_1:
                            type: string
                            description: Location address line 1.
                            example: 81 Elk Rd Little
                          address_line_2:
                            type: string
                            description: Location address line 2.
                          province:
                            type: string
                            description: Location province.
                            example: New York
                          state:
                            type: string
                            description: Location state.
                            example: New York
                          zip_code:
                            type: string
                            description: Location ZIP code.
                            example: '12207'
                            maxLength: 32
                          city:
                            type: string
                            description: Location city.
                            example: Albany
                          country_code:
                            allOf:
                              - type: string
                                enum:
                                  - AF
                                  - AX
                                  - AL
                                  - DZ
                                  - AS
                                  - AD
                                  - AO
                                  - AI
                                  - AQ
                                  - AG
                                  - AR
                                  - AM
                                  - AW
                                  - AU
                                  - AT
                                  - AZ
                                  - BS
                                  - BH
                                  - BD
                                  - BB
                                  - BY
                                  - BE
                                  - BZ
                                  - BJ
                                  - BM
                                  - BT
                                  - BO
                                  - BA
                                  - BW
                                  - BV
                                  - BR
                                  - IO
                                  - BN
                                  - BG
                                  - BF
                                  - BI
                                  - KH
                                  - CM
                                  - CA
                                  - CV
                                  - KY
                                  - CF
                                  - TD
                                  - CL
                                  - CN
                                  - CX
                                  - CC
                                  - CO
                                  - KM
                                  - CG
                                  - CD
                                  - CK
                                  - CR
                                  - CI
                                  - HR
                                  - CU
                                  - CY
                                  - CZ
                                  - DK
                                  - DJ
                                  - DM
                                  - DO
                                  - EC
                                  - EG
                                  - SV
                                  - GQ
                                  - ER
                                  - EE
                                  - ET
                                  - FK
                                  - FO
                                  - FJ
                                  - FI
                                  - FR
                                  - GF
                                  - PF
                                  - TF
                                  - GA
                                  - GM
                                  - GE
                                  - DE
                                  - GH
                                  - GI
                                  - GR
                                  - GL
                                  - GD
                                  - GP
                                  - GU
                                  - GT
                                  - GG
                                  - GN
                                  - GW
                                  - GY
                                  - HT
                                  - HM
                                  - VA
                                  - HN
                                  - HK
                                  - HU
                                  - IS
                                  - IN
                                  - ID
                                  - IR
                                  - IQ
                                  - IE
                                  - IM
                                  - IL
                                  - IT
                                  - JM
                                  - JP
                                  - JE
                                  - JO
                                  - KZ
                                  - KE
                                  - KI
                                  - KR
                                  - KW
                                  - KG
                                  - LA
                                  - LV
                                  - LB
                                  - LS
                                  - LR
                                  - LY
                                  - LI
                                  - LT
                                  - LU
                                  - MO
                                  - MK
                                  - MG
                                  - MW
                                  - MY
                                  - MV
                                  - ML
                                  - MT
                                  - MH
                                  - MQ
                                  - MR
                                  - MU
                                  - YT
                                  - MX
                                  - FM
                                  - MD
                                  - MC
                                  - MN
                                  - ME
                                  - MS
                                  - MA
                                  - MZ
                                  - MM
                                  - NA
                                  - NR
                                  - NP
                                  - NL
                                  - AN
                                  - NC
                                  - NZ
                                  - NI
                                  - NE
                                  - NG
                                  - NU
                                  - NF
                                  - MP
                                  - 'NO'
                                  - OM
                                  - PK
                                  - PW
                                  - PS
                                  - PA
                                  - PG
                                  - PY
                                  - PE
                                  - PH
                                  - PN
                                  - PL
                                  - PT
                                  - PR
                                  - QA
                                  - RE
                                  - RO
                                  - RU
                                  - RW
                                  - BL
                                  - SH
                                  - KN
                                  - LC
                                  - MF
                                  - PM
                                  - VC
                                  - WS
                                  - SM
                                  - ST
                                  - SA
                                  - SN
                                  - RS
                                  - SC
                                  - SL
                                  - SG
                                  - SK
                                  - SI
                                  - SB
                                  - SO
                                  - ZA
                                  - GS
                                  - ES
                                  - LK
                                  - SD
                                  - SR
                                  - SJ
                                  - SZ
                                  - SE
                                  - CH
                                  - SY
                                  - TW
                                  - TJ
                                  - TZ
                                  - TH
                                  - TL
                                  - TG
                                  - TK
                                  - TO
                                  - TT
                                  - TN
                                  - TR
                                  - TM
                                  - TC
                                  - TV
                                  - UG
                                  - UA
                                  - AE
                                  - GB
                                  - US
                                  - UM
                                  - UY
                                  - UZ
                                  - VU
                                  - VE
                                  - VN
                                  - VG
                                  - VI
                                  - WF
                                  - EH
                                  - YE
                                  - ZM
                                  - ZW
                                description: >-
                                  Country code in upper-case ISO 3166 Alpha-2
                                  format.
                                example: DE
                  type:
                    allOf:
                      - type: string
                        enum:
                          - gift-card
                          - gift-wrapping
                          - product
                          - shipping
                        description: Type of the item.
                        example: product
                  currency_consumer:
                    type: string
                    description: Currency code shown and billed to the consumer.
                    example: USD
                  consumer_uuid:
                    type: string
                    description: UUID of the consumer.
                  product_name:
                    type: string
                    description: Human-readable name of the product.
                    example: Metallica shirt
                    maxLength: 512
                  product_sku:
                    type: string
                    description: SKU of the product.
                    example: AIk-0790
                    maxLength: 256
                  product_id:
                    type: string
                    description: Unique identifier of the product.
                    example: '123'
                  extended_attributes:
                    description: The item's list of extended attributes.
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          description: The name of the extended attribute.
                          example: size
                        value:
                          type: string
                          description: The value of the extended attribute.
                          example: '36'
                      required:
                        - name
                        - value
                  id:
                    type: string
                    description: Unique identifier of the item.
                    example: '123'
                  handling_charges:
                    type: number
                    description: Cost of handling.
                    example: 10
                    format: double
                required:
                  - tax_class
                  - tax_method
                  - item_price
                  - quantity
                  - shipping_address
                  - shipping_origin
                  - type
              - type: object
                properties:
                  tax_class:
                    type: string
                    description: Tax classification identifier for the line item.
                    example: AAA000
                    maxLength: 256
                  tax_method:
                    allOf:
                      - type: string
                        enum:
                          - vat_included
                          - vat_excluded
                        description: The method that indicates how item tax is applied.
                        example: vat_excluded
                  item_price:
                    type: number
                    description: >-
                      Price per quantity 1 of the item, can be incl. or excl.
                      tax depending on tax_method.
                    example: 200
                    format: double
                  quantity:
                    type: integer
                    description: >-
                      Item quantity. Positive number for sold items and negative
                      number for returned items
                    example: 1
                    format: int32
                  shipping_address:
                    description: Consumer's shipping address.
                    allOf:
                      - type: object
                        properties:
                          store_id:
                            type: string
                            description: NewStore Store ID of the address.
                            example: Munich-store
                          address_line_1:
                            type: string
                            description: Location address line 1.
                            example: 81 Elk Rd Little
                          address_line_2:
                            type: string
                            description: Location address line 2.
                          province:
                            type: string
                            description: Location province.
                            example: New York
                          state:
                            type: string
                            description: Location state.
                            example: New York
                          zip_code:
                            type: string
                            description: Location ZIP code.
                            example: '12207'
                            maxLength: 32
                          city:
                            type: string
                            description: Location city.
                            example: Albany
                          country_code:
                            allOf:
                              - type: string
                                enum:
                                  - AF
                                  - AX
                                  - AL
                                  - DZ
                                  - AS
                                  - AD
                                  - AO
                                  - AI
                                  - AQ
                                  - AG
                                  - AR
                                  - AM
                                  - AW
                                  - AU
                                  - AT
                                  - AZ
                                  - BS
                                  - BH
                                  - BD
                                  - BB
                                  - BY
                                  - BE
                                  - BZ
                                  - BJ
                                  - BM
                                  - BT
                                  - BO
                                  - BA
                                  - BW
                                  - BV
                                  - BR
                                  - IO
                                  - BN
                                  - BG
                                  - BF
                                  - BI
                                  - KH
                                  - CM
                                  - CA
                                  - CV
                                  - KY
                                  - CF
                                  - TD
                                  - CL
                                  - CN
                                  - CX
                                  - CC
                                  - CO
                                  - KM
                                  - CG
                                  - CD
                                  - CK
                                  - CR
                                  - CI
                                  - HR
                                  - CU
                                  - CY
                                  - CZ
                                  - DK
                                  - DJ
                                  - DM
                                  - DO
                                  - EC
                                  - EG
                                  - SV
                                  - GQ
                                  - ER
                                  - EE
                                  - ET
                                  - FK
                                  - FO
                                  - FJ
                                  - FI
                                  - FR
                                  - GF
                                  - PF
                                  - TF
                                  - GA
                                  - GM
                                  - GE
                                  - DE
                                  - GH
                                  - GI
                                  - GR
                                  - GL
                                  - GD
                                  - GP
                                  - GU
                                  - GT
                                  - GG
                                  - GN
                                  - GW
                                  - GY
                                  - HT
                                  - HM
                                  - VA
                                  - HN
                                  - HK
                                  - HU
                                  - IS
                                  - IN
                                  - ID
                                  - IR
                                  - IQ
                                  - IE
                                  - IM
                                  - IL
                                  - IT
                                  - JM
                                  - JP
                                  - JE
                                  - JO
                                  - KZ
                                  - KE
                                  - KI
                                  - KR
                                  - KW
                                  - KG
                                  - LA
                                  - LV
                                  - LB
                                  - LS
                                  - LR
                                  - LY
                                  - LI
                                  - LT
                                  - LU
                                  - MO
                                  - MK
                                  - MG
                                  - MW
                                  - MY
                                  - MV
                                  - ML
                                  - MT
                                  - MH
                                  - MQ
                                  - MR
                                  - MU
                                  - YT
                                  - MX
                                  - FM
                                  - MD
                                  - MC
                                  - MN
                                  - ME
                                  - MS
                                  - MA
                                  - MZ
                                  - MM
                                  - NA
                                  - NR
                                  - NP
                                  - NL
                                  - AN
                                  - NC
                                  - NZ
                                  - NI
                                  - NE
                                  - NG
                                  - NU
                                  - NF
                                  - MP
                                  - 'NO'
                                  - OM
                                  - PK
                                  - PW
                                  - PS
                                  - PA
                                  - PG
                                  - PY
                                  - PE
                                  - PH
                                  - PN
                                  - PL
                                  - PT
                                  - PR
                                  - QA
                                  - RE
                                  - RO
                                  - RU
                                  - RW
                                  - BL
                                  - SH
                                  - KN
                                  - LC
                                  - MF
                                  - PM
                                  - VC
                                  - WS
                                  - SM
                                  - ST
                                  - SA
                                  - SN
                                  - RS
                                  - SC
                                  - SL
                                  - SG
                                  - SK
                                  - SI
                                  - SB
                                  - SO
                                  - ZA
                                  - GS
                                  - ES
                                  - LK
                                  - SD
                                  - SR
                                  - SJ
                                  - SZ
                                  - SE
                                  - CH
                                  - SY
                                  - TW
                                  - TJ
                                  - TZ
                                  - TH
                                  - TL
                                  - TG
                                  - TK
                                  - TO
                                  - TT
                                  - TN
                                  - TR
                                  - TM
                                  - TC
                                  - TV
                                  - UG
                                  - UA
                                  - AE
                                  - GB
                                  - US
                                  - UM
                                  - UY
                                  - UZ
                                  - VU
                                  - VE
                                  - VN
                                  - VG
                                  - VI
                                  - WF
                                  - EH
                                  - YE
                                  - ZM
                                  - ZW
                                description: >-
                                  Country code in upper-case ISO 3166 Alpha-2
                                  format.
                                example: DE
                  shipping_origin:
                    description: >-
                      The origin of goods address, e.g. physical address of a
                      store.
                    allOf:
                      - type: object
                        properties:
                          store_id:
                            type: string
                            description: NewStore Store ID of the address.
                            example: Munich-store
                          address_line_1:
                            type: string
                            description: Location address line 1.
                            example: 81 Elk Rd Little
                          address_line_2:
                            type: string
                            description: Location address line 2.
                          province:
                            type: string
                            description: Location province.
                            example: New York
                          state:
                            type: string
                            description: Location state.
                            example: New York
                          zip_code:
                            type: string
                            description: Location ZIP code.
                            example: '12207'
                            maxLength: 32
                          city:
                            type: string
                            description: Location city.
                            example: Albany
                          country_code:
                            allOf:
                              - type: string
                                enum:
                                  - AF
                                  - AX
                                  - AL
                                  - DZ
                                  - AS
                                  - AD
                                  - AO
                                  - AI
                                  - AQ
                                  - AG
                                  - AR
                                  - AM
                                  - AW
                                  - AU
                                  - AT
                                  - AZ
                                  - BS
                                  - BH
                                  - BD
                                  - BB
                                  - BY
                                  - BE
                                  - BZ
                                  - BJ
                                  - BM
                                  - BT
                                  - BO
                                  - BA
                                  - BW
                                  - BV
                                  - BR
                                  - IO
                                  - BN
                                  - BG
                                  - BF
                                  - BI
                                  - KH
                                  - CM
                                  - CA
                                  - CV
                                  - KY
                                  - CF
                                  - TD
                                  - CL
                                  - CN
                                  - CX
                                  - CC
                                  - CO
                                  - KM
                                  - CG
                                  - CD
                                  - CK
                                  - CR
                                  - CI
                                  - HR
                                  - CU
                                  - CY
                                  - CZ
                                  - DK
                                  - DJ
                                  - DM
                                  - DO
                                  - EC
                                  - EG
                                  - SV
                                  - GQ
                                  - ER
                                  - EE
                                  - ET
                                  - FK
                                  - FO
                                  - FJ
                                  - FI
                                  - FR
                                  - GF
                                  - PF
                                  - TF
                                  - GA
                                  - GM
                                  - GE
                                  - DE
                                  - GH
                                  - GI
                                  - GR
                                  - GL
                                  - GD
                                  - GP
                                  - GU
                                  - GT
                                  - GG
                                  - GN
                                  - GW
                                  - GY
                                  - HT
                                  - HM
                                  - VA
                                  - HN
                                  - HK
                                  - HU
                                  - IS
                                  - IN
                                  - ID
                                  - IR
                                  - IQ
                                  - IE
                                  - IM
                                  - IL
                                  - IT
                                  - JM
                                  - JP
                                  - JE
                                  - JO
                                  - KZ
                                  - KE
                                  - KI
                                  - KR
                                  - KW
                                  - KG
                                  - LA
                                  - LV
                                  - LB
                                  - LS
                                  - LR
                                  - LY
                                  - LI
                                  - LT
                                  - LU
                                  - MO
                                  - MK
                                  - MG
                                  - MW
                                  - MY
                                  - MV
                                  - ML
                                  - MT
                                  - MH
                                  - MQ
                                  - MR
                                  - MU
                                  - YT
                                  - MX
                                  - FM
                                  - MD
                                  - MC
                                  - MN
                                  - ME
                                  - MS
                                  - MA
                                  - MZ
                                  - MM
                                  - NA
                                  - NR
                                  - NP
                                  - NL
                                  - AN
                                  - NC
                                  - NZ
                                  - NI
                                  - NE
                                  - NG
                                  - NU
                                  - NF
                                  - MP
                                  - 'NO'
                                  - OM
                                  - PK
                                  - PW
                                  - PS
                                  - PA
                                  - PG
                                  - PY
                                  - PE
                                  - PH
                                  - PN
                                  - PL
                                  - PT
                                  - PR
                                  - QA
                                  - RE
                                  - RO
                                  - RU
                                  - RW
                                  - BL
                                  - SH
                                  - KN
                                  - LC
                                  - MF
                                  - PM
                                  - VC
                                  - WS
                                  - SM
                                  - ST
                                  - SA
                                  - SN
                                  - RS
                                  - SC
                                  - SL
                                  - SG
                                  - SK
                                  - SI
                                  - SB
                                  - SO
                                  - ZA
                                  - GS
                                  - ES
                                  - LK
                                  - SD
                                  - SR
                                  - SJ
                                  - SZ
                                  - SE
                                  - CH
                                  - SY
                                  - TW
                                  - TJ
                                  - TZ
                                  - TH
                                  - TL
                                  - TG
                                  - TK
                                  - TO
                                  - TT
                                  - TN
                                  - TR
                                  - TM
                                  - TC
                                  - TV
                                  - UG
                                  - UA
                                  - AE
                                  - GB
                                  - US
                                  - UM
                                  - UY
                                  - UZ
                                  - VU
                                  - VE
                                  - VN
                                  - VG
                                  - VI
                                  - WF
                                  - EH
                                  - YE
                                  - ZM
                                  - ZW
                                description: >-
                                  Country code in upper-case ISO 3166 Alpha-2
                                  format.
                                example: DE
                  type:
                    allOf:
                      - type: string
                        enum:
                          - gift-card
                          - gift-wrapping
                          - product
                          - shipping
                        description: Type of the item.
                        example: product
                  currency_consumer:
                    type: string
                    description: Currency code shown and billed to the consumer.
                    example: USD
                  consumer_uuid:
                    type: string
                    description: UUID of the consumer.
                  product_name:
                    type: string
                    description: Human-readable name of the product.
                    example: Metallica shirt
                    maxLength: 512
                  product_sku:
                    type: string
                    description: SKU of the product.
                    example: AIk-0790
                    maxLength: 256
                  product_id:
                    type: string
                    description: Unique identifier of the product.
                    example: '123'
                  extended_attributes:
                    description: The item's list of extended attributes.
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          description: The name of the extended attribute.
                          example: size
                        value:
                          type: string
                          description: The value of the extended attribute.
                          example: '36'
                      required:
                        - name
                        - value
                  id:
                    type: string
                    description: Unique identifier of the item.
                    example: '123'
                  handling_charges:
                    type: number
                    description: Cost of handling.
                    example: 10
                    format: double
                  price_line_item:
                    type: number
                    description: >-
                      Gross price for the total quantity of the line item, after
                      all discounts.
                    example: 200
                    format: double
                  price_net:
                    type: number
                    description: >-
                      Net price for total quantity of line item, after applying
                      all discounts.
                    example: 180
                    format: double
                  price_tax:
                    type: number
                    description: >-
                      Total amount of tax added to the net price, after
                      appplying all discounts.
                    example: 20
                    format: double
                  tax_rates:
                    description: >-
                      All applied tax percent values and tax amounts for total
                      quantity of line item (usually more than one rate per line
                      item).
                    type: array
                    items:
                      type: object
                      properties:
                        rate:
                          type: number
                          description: >-
                            Tax percent value for this tax rate item, e.g. 0.19
                            means 19% tax.
                          example: 0.19
                          format: double
                        amount:
                          type: number
                          description: >-
                            Monetary tax amount for the unit price corresponding
                            to this tax_rate item's percent value, e.g. 3.37.
                          example: 10
                          format: double
                        tax_name:
                          type: string
                          description: Name of the applied tax.
                          example: Colorado retail delivery fee
                        country_code:
                          type: string
                          description: Country of jurisdiction for the applied tax.
                          example: US
                      required:
                        - rate
                        - amount
                        - tax_name
                        - country_code
                required:
                  - tax_class
                  - tax_method
                  - item_price
                  - quantity
                  - shipping_address
                  - shipping_origin
                  - type
                  - price_line_item
                  - price_net
                  - price_tax
                  - tax_rates
        exemption_class:
          allOf:
            - type: string
              enum:
                - FEDERAL_GOVERNMENT
                - STATE_GOVERNMENT
                - TRIBAL_GOVERNMENT
                - LOCAL_GOVERNMENT
                - FOREIGN_DIPLOMAT
                - CHARITY_ORGANIZATION
                - RELIGIOUS_ORGANIZATION
                - EDUCATIONAL_ORGANIZATION
                - RESALE
                - DIRECT_PAY_PERMIT
                - OTHER
                - NON_RESIDENT
                - FIRST_NATION_CITIZEN
                - CUSTOM_*
              description: >-
                The tax exemption class that identifies the customer's
                group/organization that accredited them with the tax exemption
                status.

                * For custom tax exemption classes, the `CUSTOM_` prefix with a
                UPPER_SNAKE_CASE key can be used. Example: `CUSTOM_CANADA`
              example: CHARITY_ORGANIZATION
        tax_date:
          type: string
          description: >-
            Date of the transaction (in UTC timezone) that'll be used in
            committing taxes.
          example: '2023-09-25T01:23:45Z'
          format: date-time
        calculation_mode:
          allOf:
            - type: string
              enum:
                - STANDARD
                - REVERSE
              description: >-
                Type of the tax calculation


                * `STANDARD`: Standard tax calculation (default).

                * Taxes will be calculated for each line from `item_price *
                quantity` respecting the `tax_method` (tax incl./excl.).



                * `REVERSE`: Reverse calculation of taxes from the total amount
                paid by customer (e.g. for injected offline or e-comm orders).

                * Taxes will be calculated from `price_line_item` (total gross
                amount for given quantity) regardless of `tax_method` (tax
                incl./excl.).
              example: STANDARD
      required:
        - order_id
        - items
    TaxStatus:
      type: string
      enum:
        - EXEMPT
        - TAXABLE
        - NOT_TAXABLE
      description: |-
        Type of the tax status applied to the tax line

            * `TAXABLE`: Taxes are applied to the tax line.

        * `NOT_TAXABLE`: No taxes are applied to the tax line.

        * `EXEMPT`: Taxes are exempt for the tax line.
      example: EXEMPT
    TaxRateDto:
      type: object
      properties:
        rate:
          type: number
          description: Tax percent value for this tax rate item, e.g. 0.19 means 19% tax.
          example: 0.19
          format: double
        amount:
          type: number
          description: >-
            Monetary tax amount for the unit price corresponding to this
            tax_rate item's percent value, e.g. 3.37.
          example: 10
          format: double
        tax_name:
          type: string
          description: Name of the applied tax.
          example: Colorado retail delivery fee
        country_code:
          type: string
          description: Country of jurisdiction for the applied tax.
          example: US
        taxable_amount:
          type: number
          description: The taxable item net amount on which the tax is chargeable.
          example: 10
          format: double
        exempt_amount:
          type: number
          description: The item net amount which has been tax exempt.
          example: 10
          format: double
        tax_status:
          allOf:
            - type: string
              enum:
                - EXEMPT
                - TAXABLE
                - NOT_TAXABLE
              description: |-
                Type of the tax status applied to the tax line

                    * `TAXABLE`: Taxes are applied to the tax line.

                * `NOT_TAXABLE`: No taxes are applied to the tax line.

                * `EXEMPT`: Taxes are exempt for the tax line.
              example: EXEMPT
      required:
        - rate
        - amount
        - tax_name
        - country_code
    EnrichedTransactionAddressDto:
      type: object
      properties:
        store_id:
          type: string
          description: NewStore Store ID of the address.
          example: Munich-store
        address_line_1:
          type: string
          description: Location address line 1.
          example: 81 Elk Rd Little
        address_line_2:
          type: string
          description: Location address line 2.
        province:
          type: string
          description: Location province.
          example: New York
        state:
          type: string
          description: Location state.
          example: New York
        zip_code:
          type: string
          description: Location ZIP code.
          example: '12207'
          maxLength: 32
        city:
          type: string
          description: Location city.
          example: Albany
        country_code:
          allOf:
            - type: string
              enum:
                - AF
                - AX
                - AL
                - DZ
                - AS
                - AD
                - AO
                - AI
                - AQ
                - AG
                - AR
                - AM
                - AW
                - AU
                - AT
                - AZ
                - BS
                - BH
                - BD
                - BB
                - BY
                - BE
                - BZ
                - BJ
                - BM
                - BT
                - BO
                - BA
                - BW
                - BV
                - BR
                - IO
                - BN
                - BG
                - BF
                - BI
                - KH
                - CM
                - CA
                - CV
                - KY
                - CF
                - TD
                - CL
                - CN
                - CX
                - CC
                - CO
                - KM
                - CG
                - CD
                - CK
                - CR
                - CI
                - HR
                - CU
                - CY
                - CZ
                - DK
                - DJ
                - DM
                - DO
                - EC
                - EG
                - SV
                - GQ
                - ER
                - EE
                - ET
                - FK
                - FO
                - FJ
                - FI
                - FR
                - GF
                - PF
                - TF
                - GA
                - GM
                - GE
                - DE
                - GH
                - GI
                - GR
                - GL
                - GD
                - GP
                - GU
                - GT
                - GG
                - GN
                - GW
                - GY
                - HT
                - HM
                - VA
                - HN
                - HK
                - HU
                - IS
                - IN
                - ID
                - IR
                - IQ
                - IE
                - IM
                - IL
                - IT
                - JM
                - JP
                - JE
                - JO
                - KZ
                - KE
                - KI
                - KR
                - KW
                - KG
                - LA
                - LV
                - LB
                - LS
                - LR
                - LY
                - LI
                - LT
                - LU
                - MO
                - MK
                - MG
                - MW
                - MY
                - MV
                - ML
                - MT
                - MH
                - MQ
                - MR
                - MU
                - YT
                - MX
                - FM
                - MD
                - MC
                - MN
                - ME
                - MS
                - MA
                - MZ
                - MM
                - NA
                - NR
                - NP
                - NL
                - AN
                - NC
                - NZ
                - NI
                - NE
                - NG
                - NU
                - NF
                - MP
                - 'NO'
                - OM
                - PK
                - PW
                - PS
                - PA
                - PG
                - PY
                - PE
                - PH
                - PN
                - PL
                - PT
                - PR
                - QA
                - RE
                - RO
                - RU
                - RW
                - BL
                - SH
                - KN
                - LC
                - MF
                - PM
                - VC
                - WS
                - SM
                - ST
                - SA
                - SN
                - RS
                - SC
                - SL
                - SG
                - SK
                - SI
                - SB
                - SO
                - ZA
                - GS
                - ES
                - LK
                - SD
                - SR
                - SJ
                - SZ
                - SE
                - CH
                - SY
                - TW
                - TJ
                - TZ
                - TH
                - TL
                - TG
                - TK
                - TO
                - TT
                - TN
                - TR
                - TM
                - TC
                - TV
                - UG
                - UA
                - AE
                - GB
                - US
                - UM
                - UY
                - UZ
                - VU
                - VE
                - VN
                - VG
                - VI
                - WF
                - EH
                - YE
                - ZM
                - ZW
              description: Country code in upper-case ISO 3166 Alpha-2 format.
              example: DE
    EnrichedTransactionItemDto:
      type: object
      properties:
        price_line_item:
          type: number
          description: >-
            Gross price for the total quantity of the line item, after all
            discounts.
          example: 200
          format: double
        price_net:
          type: number
          description: >-
            Net price for total quantity of line item, after applying all
            discounts.
          example: 180
          format: double
        price_tax:
          type: number
          description: >-
            Total amount of tax added to the net price, after appplying all
            discounts.
          example: 20
          format: double
        tax_rates:
          description: >-
            All applied tax percent values and tax amounts for total quantity of
            line item (usually more than one rate per line item).
          type: array
          items:
            type: object
            properties:
              rate:
                type: number
                description: >-
                  Tax percent value for this tax rate item, e.g. 0.19 means 19%
                  tax.
                example: 0.19
                format: double
              amount:
                type: number
                description: >-
                  Monetary tax amount for the unit price corresponding to this
                  tax_rate item's percent value, e.g. 3.37.
                example: 10
                format: double
              tax_name:
                type: string
                description: Name of the applied tax.
                example: Colorado retail delivery fee
              country_code:
                type: string
                description: Country of jurisdiction for the applied tax.
                example: US
              taxable_amount:
                type: number
                description: The taxable item net amount on which the tax is chargeable.
                example: 10
                format: double
              exempt_amount:
                type: number
                description: The item net amount which has been tax exempt.
                example: 10
                format: double
              tax_status:
                allOf:
                  - type: string
                    enum:
                      - EXEMPT
                      - TAXABLE
                      - NOT_TAXABLE
                    description: |-
                      Type of the tax status applied to the tax line

                          * `TAXABLE`: Taxes are applied to the tax line.

                      * `NOT_TAXABLE`: No taxes are applied to the tax line.

                      * `EXEMPT`: Taxes are exempt for the tax line.
                    example: EXEMPT
            required:
              - rate
              - amount
              - tax_name
              - country_code
        tax_class:
          type: string
          description: Tax classification identifier for the line item.
          example: AAA000
          maxLength: 256
        tax_method:
          allOf:
            - type: string
              enum:
                - vat_included
                - vat_excluded
              description: The method that indicates how item tax is applied.
              example: vat_excluded
        item_price:
          type: number
          description: >-
            Price per quantity 1 of the item, can be incl. or excl. tax
            depending on tax_method.
          example: 200
          format: double
        quantity:
          type: integer
          description: >-
            Item quantity. Positive number for sold items and negative number
            for returned items
          example: 1
          format: int32
        shipping_address:
          description: Consumer's shipping address.
          allOf:
            - type: object
              properties:
                store_id:
                  type: string
                  description: NewStore Store ID of the address.
                  example: Munich-store
                address_line_1:
                  type: string
                  description: Location address line 1.
                  example: 81 Elk Rd Little
                address_line_2:
                  type: string
                  description: Location address line 2.
                province:
                  type: string
                  description: Location province.
                  example: New York
                state:
                  type: string
                  description: Location state.
                  example: New York
                zip_code:
                  type: string
                  description: Location ZIP code.
                  example: '12207'
                  maxLength: 32
                city:
                  type: string
                  description: Location city.
                  example: Albany
                country_code:
                  allOf:
                    - type: string
                      enum:
                        - AF
                        - AX
                        - AL
                        - DZ
                        - AS
                        - AD
                        - AO
                        - AI
                        - AQ
                        - AG
                        - AR
                        - AM
                        - AW
                        - AU
                        - AT
                        - AZ
                        - BS
                        - BH
                        - BD
                        - BB
                        - BY
                        - BE
                        - BZ
                        - BJ
                        - BM
                        - BT
                        - BO
                        - BA
                        - BW
                        - BV
                        - BR
                        - IO
                        - BN
                        - BG
                        - BF
                        - BI
                        - KH
                        - CM
                        - CA
                        - CV
                        - KY
                        - CF
                        - TD
                        - CL
                        - CN
                        - CX
                        - CC
                        - CO
                        - KM
                        - CG
                        - CD
                        - CK
                        - CR
                        - CI
                        - HR
                        - CU
                        - CY
                        - CZ
                        - DK
                        - DJ
                        - DM
                        - DO
                        - EC
                        - EG
                        - SV
                        - GQ
                        - ER
                        - EE
                        - ET
                        - FK
                        - FO
                        - FJ
                        - FI
                        - FR
                        - GF
                        - PF
                        - TF
                        - GA
                        - GM
                        - GE
                        - DE
                        - GH
                        - GI
                        - GR
                        - GL
                        - GD
                        - GP
                        - GU
                        - GT
                        - GG
                        - GN
                        - GW
                        - GY
                        - HT
                        - HM
                        - VA
                        - HN
                        - HK
                        - HU
                        - IS
                        - IN
                        - ID
                        - IR
                        - IQ
                        - IE
                        - IM
                        - IL
                        - IT
                        - JM
                        - JP
                        - JE
                        - JO
                        - KZ
                        - KE
                        - KI
                        - KR
                        - KW
                        - KG
                        - LA
                        - LV
                        - LB
                        - LS
                        - LR
                        - LY
                        - LI
                        - LT
                        - LU
                        - MO
                        - MK
                        - MG
                        - MW
                        - MY
                        - MV
                        - ML
                        - MT
                        - MH
                        - MQ
                        - MR
                        - MU
                        - YT
                        - MX
                        - FM
                        - MD
                        - MC
                        - MN
                        - ME
                        - MS
                        - MA
                        - MZ
                        - MM
                        - NA
                        - NR
                        - NP
                        - NL
                        - AN
                        - NC
                        - NZ
                        - NI
                        - NE
                        - NG
                        - NU
                        - NF
                        - MP
                        - 'NO'
                        - OM
                        - PK
                        - PW
                        - PS
                        - PA
                        - PG
                        - PY
                        - PE
                        - PH
                        - PN
                        - PL
                        - PT
                        - PR
                        - QA
                        - RE
                        - RO
                        - RU
                        - RW
                        - BL
                        - SH
                        - KN
                        - LC
                        - MF
                        - PM
                        - VC
                        - WS
                        - SM
                        - ST
                        - SA
                        - SN
                        - RS
                        - SC
                        - SL
                        - SG
                        - SK
                        - SI
                        - SB
                        - SO
                        - ZA
                        - GS
                        - ES
                        - LK
                        - SD
                        - SR
                        - SJ
                        - SZ
                        - SE
                        - CH
                        - SY
                        - TW
                        - TJ
                        - TZ
                        - TH
                        - TL
                        - TG
                        - TK
                        - TO
                        - TT
                        - TN
                        - TR
                        - TM
                        - TC
                        - TV
                        - UG
                        - UA
                        - AE
                        - GB
                        - US
                        - UM
                        - UY
                        - UZ
                        - VU
                        - VE
                        - VN
                        - VG
                        - VI
                        - WF
                        - EH
                        - YE
                        - ZM
                        - ZW
                      description: Country code in upper-case ISO 3166 Alpha-2 format.
                      example: DE
        shipping_origin:
          description: The origin of goods address, e.g. physical address of a store.
          allOf:
            - type: object
              properties:
                store_id:
                  type: string
                  description: NewStore Store ID of the address.
                  example: Munich-store
                address_line_1:
                  type: string
                  description: Location address line 1.
                  example: 81 Elk Rd Little
                address_line_2:
                  type: string
                  description: Location address line 2.
                province:
                  type: string
                  description: Location province.
                  example: New York
                state:
                  type: string
                  description: Location state.
                  example: New York
                zip_code:
                  type: string
                  description: Location ZIP code.
                  example: '12207'
                  maxLength: 32
                city:
                  type: string
                  description: Location city.
                  example: Albany
                country_code:
                  allOf:
                    - type: string
                      enum:
                        - AF
                        - AX
                        - AL
                        - DZ
                        - AS
                        - AD
                        - AO
                        - AI
                        - AQ
                        - AG
                        - AR
                        - AM
                        - AW
                        - AU
                        - AT
                        - AZ
                        - BS
                        - BH
                        - BD
                        - BB
                        - BY
                        - BE
                        - BZ
                        - BJ
                        - BM
                        - BT
                        - BO
                        - BA
                        - BW
                        - BV
                        - BR
                        - IO
                        - BN
                        - BG
                        - BF
                        - BI
                        - KH
                        - CM
                        - CA
                        - CV
                        - KY
                        - CF
                        - TD
                        - CL
                        - CN
                        - CX
                        - CC
                        - CO
                        - KM
                        - CG
                        - CD
                        - CK
                        - CR
                        - CI
                        - HR
                        - CU
                        - CY
                        - CZ
                        - DK
                        - DJ
                        - DM
                        - DO
                        - EC
                        - EG
                        - SV
                        - GQ
                        - ER
                        - EE
                        - ET
                        - FK
                        - FO
                        - FJ
                        - FI
                        - FR
                        - GF
                        - PF
                        - TF
                        - GA
                        - GM
                        - GE
                        - DE
                        - GH
                        - GI
                        - GR
                        - GL
                        - GD
                        - GP
                        - GU
                        - GT
                        - GG
                        - GN
                        - GW
                        - GY
                        - HT
                        - HM
                        - VA
                        - HN
                        - HK
                        - HU
                        - IS
                        - IN
                        - ID
                        - IR
                        - IQ
                        - IE
                        - IM
                        - IL
                        - IT
                        - JM
                        - JP
                        - JE
                        - JO
                        - KZ
                        - KE
                        - KI
                        - KR
                        - KW
                        - KG
                        - LA
                        - LV
                        - LB
                        - LS
                        - LR
                        - LY
                        - LI
                        - LT
                        - LU
                        - MO
                        - MK
                        - MG
                        - MW
                        - MY
                        - MV
                        - ML
                        - MT
                        - MH
                        - MQ
                        - MR
                        - MU
                        - YT
                        - MX
                        - FM
                        - MD
                        - MC
                        - MN
                        - ME
                        - MS
                        - MA
                        - MZ
                        - MM
                        - NA
                        - NR
                        - NP
                        - NL
                        - AN
                        - NC
                        - NZ
                        - NI
                        - NE
                        - NG
                        - NU
                        - NF
                        - MP
                        - 'NO'
                        - OM
                        - PK
                        - PW
                        - PS
                        - PA
                        - PG
                        - PY
                        - PE
                        - PH
                        - PN
                        - PL
                        - PT
                        - PR
                        - QA
                        - RE
                        - RO
                        - RU
                        - RW
                        - BL
                        - SH
                        - KN
                        - LC
                        - MF
                        - PM
                        - VC
                        - WS
                        - SM
                        - ST
                        - SA
                        - SN
                        - RS
                        - SC
                        - SL
                        - SG
                        - SK
                        - SI
                        - SB
                        - SO
                        - ZA
                        - GS
                        - ES
                        - LK
                        - SD
                        - SR
                        - SJ
                        - SZ
                        - SE
                        - CH
                        - SY
                        - TW
                        - TJ
                        - TZ
                        - TH
                        - TL
                        - TG
                        - TK
                        - TO
                        - TT
                        - TN
                        - TR
                        - TM
                        - TC
                        - TV
                        - UG
                        - UA
                        - AE
                        - GB
                        - US
                        - UM
                        - UY
                        - UZ
                        - VU
                        - VE
                        - VN
                        - VG
                        - VI
                        - WF
                        - EH
                        - YE
                        - ZM
                        - ZW
                      description: Country code in upper-case ISO 3166 Alpha-2 format.
                      example: DE
        type:
          allOf:
            - type: string
              enum:
                - gift-card
                - gift-wrapping
                - product
                - shipping
              description: Type of the item.
              example: product
        currency_consumer:
          type: string
          description: Currency code shown and billed to the consumer.
          example: USD
        consumer_uuid:
          type: string
          description: UUID of the consumer.
        product_name:
          type: string
          description: Human-readable name of the product.
          example: Metallica shirt
          maxLength: 512
        product_sku:
          type: string
          description: SKU of the product.
          example: AIk-0790
          maxLength: 256
        product_id:
          type: string
          description: Unique identifier of the product.
          example: '123'
        extended_attributes:
          description: The item's list of extended attributes.
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                description: The name of the extended attribute.
                example: size
              value:
                type: string
                description: The value of the extended attribute.
                example: '36'
            required:
              - name
              - value
        id:
          type: string
          description: Unique identifier of the item.
          example: '123'
        handling_charges:
          type: number
          description: Cost of handling.
          example: 10
          format: double
      required:
        - price_line_item
        - price_net
        - price_tax
        - tax_rates
        - tax_class
        - tax_method
        - item_price
        - quantity
        - shipping_address
        - shipping_origin
        - type
    TaxCalculationStrategy:
      type: string
      enum:
        - fixedrate
        - fixed_rate_per_country
        - avalara
        - vertex
        - custom
      description: Tax calculation strategy.
      example: fixedrate
    TaxTotalsDto:
      type: object
      properties:
        net_total:
          type: number
          description: >-
            The sum of net prices of all the items including shipping and gift
            wrapping
          example: 180
          format: double
        subtotal:
          type: number
          description: The sum of item prices incl. or excl. tax (depending on tax method).
          example: 180
          format: double
        grand_total:
          type: number
          description: The amount consumer has to pay for the order.
          example: 200
          format: double
        tax_total:
          type: number
          description: The total tax sum (grand total tax incl. shipping tax).
          example: 20
          format: double
        shipping_total:
          type: number
          description: The total shipping amount.
          example: 5
          format: double
        shipping_tax_amount:
          type: number
          description: The shipping tax amount.
          example: 5
          format: double
        discount_total:
          type: number
          description: The total discount amount.
          example: 5
          format: double
        tax_strategy:
          allOf:
            - type: string
              enum:
                - fixedrate
                - fixed_rate_per_country
                - avalara
                - vertex
                - custom
              description: Tax calculation strategy.
              example: fixedrate
        tax_rates_summary:
          description: >-
            Summary of the tax rates applied on the line items of the
            transaction grouped by the tax name and tax rate.
          type: array
          items:
            type: object
            properties:
              rate:
                type: number
                description: >-
                  Tax percent value for this tax rate item, e.g. 0.19 means 19%
                  tax.
                example: 0.19
                format: double
              amount:
                type: number
                description: >-
                  Monetary tax amount for the unit price corresponding to this
                  tax_rate item's percent value, e.g. 3.37.
                example: 10
                format: double
              tax_name:
                type: string
                description: Name of the applied tax.
                example: Colorado retail delivery fee
              country_code:
                type: string
                description: Country of jurisdiction for the applied tax.
                example: US
              taxable_amount:
                type: number
                description: The taxable item net amount on which the tax is chargeable.
                example: 10
                format: double
              exempt_amount:
                type: number
                description: The item net amount which has been tax exempt.
                example: 10
                format: double
              tax_status:
                allOf:
                  - type: string
                    enum:
                      - EXEMPT
                      - TAXABLE
                      - NOT_TAXABLE
                    description: |-
                      Type of the tax status applied to the tax line

                          * `TAXABLE`: Taxes are applied to the tax line.

                      * `NOT_TAXABLE`: No taxes are applied to the tax line.

                      * `EXEMPT`: Taxes are exempt for the tax line.
                    example: EXEMPT
            required:
              - rate
              - amount
              - tax_name
              - country_code
      required:
        - net_total
        - subtotal
        - grand_total
        - tax_total
        - shipping_total
        - shipping_tax_amount
        - discount_total
        - tax_strategy
        - tax_rates_summary
    TaxServiceErrorCode:
      type: string
      enum:
        - taxes_unexpected_error
        - taxes_tenant_missing
        - taxes_config_already_exists
        - taxes_config_not_found
        - taxes_provider_config_missing
        - taxes_tenant_config_required
        - taxes_rounding_failed
        - taxes_xml_parsing_failed
        - taxes_provider_error_response
        - taxes_provider_unexpected_response
        - taxes_provider_client_error_response
        - taxes_provider_invalid_credentials
        - taxes_address_validation_failed
        - taxes_provider_config_validation_failed
        - taxes_provider_generic_error
        - taxes_provider_invalid_response
        - taxes_transaction_not_found
        - taxes_commit_integration_error
        - reverse_calculation_provider_error
        - transaction_modification_not_allowed
      description: The error code from the underlying tax provider.
      example: taxes_address_validation_failed
    FallbackErrorDto:
      type: object
      properties:
        error_code:
          allOf:
            - type: string
              enum:
                - taxes_unexpected_error
                - taxes_tenant_missing
                - taxes_config_already_exists
                - taxes_config_not_found
                - taxes_provider_config_missing
                - taxes_tenant_config_required
                - taxes_rounding_failed
                - taxes_xml_parsing_failed
                - taxes_provider_error_response
                - taxes_provider_unexpected_response
                - taxes_provider_client_error_response
                - taxes_provider_invalid_credentials
                - taxes_address_validation_failed
                - taxes_provider_config_validation_failed
                - taxes_provider_generic_error
                - taxes_provider_invalid_response
                - taxes_transaction_not_found
                - taxes_commit_integration_error
                - reverse_calculation_provider_error
                - transaction_modification_not_allowed
              description: The error code from the underlying tax provider.
              example: taxes_address_validation_failed
        message:
          type: string
          description: The error message of the underlying tax provider.
          example: Avalara request returned an incomplete or invalid address error
        original_tax_provider:
          allOf:
            - type: string
              enum:
                - fixedrate
                - fixed_rate_per_country
                - avalara
                - vertex
                - custom
              description: Tax calculation strategy.
              example: fixedrate
      required:
        - error_code
        - message
        - original_tax_provider
    EnrichedTransactionDto:
      type: object
      properties:
        items:
          description: >-
            A list of the items sold/returned in the transaction, enriched with
            the tax amounts.
          type: array
          items:
            type: object
            properties:
              price_line_item:
                type: number
                description: >-
                  Gross price for the total quantity of the line item, after all
                  discounts.
                example: 200
                format: double
              price_net:
                type: number
                description: >-
                  Net price for total quantity of line item, after applying all
                  discounts.
                example: 180
                format: double
              price_tax:
                type: number
                description: >-
                  Total amount of tax added to the net price, after appplying
                  all discounts.
                example: 20
                format: double
              tax_rates:
                description: >-
                  All applied tax percent values and tax amounts for total
                  quantity of line item (usually more than one rate per line
                  item).
                type: array
                items:
                  type: object
                  properties:
                    rate:
                      type: number
                      description: >-
                        Tax percent value for this tax rate item, e.g. 0.19
                        means 19% tax.
                      example: 0.19
                      format: double
                    amount:
                      type: number
                      description: >-
                        Monetary tax amount for the unit price corresponding to
                        this tax_rate item's percent value, e.g. 3.37.
                      example: 10
                      format: double
                    tax_name:
                      type: string
                      description: Name of the applied tax.
                      example: Colorado retail delivery fee
                    country_code:
                      type: string
                      description: Country of jurisdiction for the applied tax.
                      example: US
                    taxable_amount:
                      type: number
                      description: >-
                        The taxable item net amount on which the tax is
                        chargeable.
                      example: 10
                      format: double
                    exempt_amount:
                      type: number
                      description: The item net amount which has been tax exempt.
                      example: 10
                      format: double
                    tax_status:
                      allOf:
                        - type: string
                          enum:
                            - EXEMPT
                            - TAXABLE
                            - NOT_TAXABLE
                          description: >-
                            Type of the tax status applied to the tax line

                                * `TAXABLE`: Taxes are applied to the tax line.

                            * `NOT_TAXABLE`: No taxes are applied to the tax
                            line.


                            * `EXEMPT`: Taxes are exempt for the tax line.
                          example: EXEMPT
                  required:
                    - rate
                    - amount
                    - tax_name
                    - country_code
              tax_class:
                type: string
                description: Tax classification identifier for the line item.
                example: AAA000
                maxLength: 256
              tax_method:
                allOf:
                  - type: string
                    enum:
                      - vat_included
                      - vat_excluded
                    description: The method that indicates how item tax is applied.
                    example: vat_excluded
              item_price:
                type: number
                description: >-
                  Price per quantity 1 of the item, can be incl. or excl. tax
                  depending on tax_method.
                example: 200
                format: double
              quantity:
                type: integer
                description: >-
                  Item quantity. Positive number for sold items and negative
                  number for returned items
                example: 1
                format: int32
              shipping_address:
                description: Consumer's shipping address.
                allOf:
                  - type: object
                    properties:
                      store_id:
                        type: string
                        description: NewStore Store ID of the address.
                        example: Munich-store
                      address_line_1:
                        type: string
                        description: Location address line 1.
                        example: 81 Elk Rd Little
                      address_line_2:
                        type: string
                        description: Location address line 2.
                      province:
                        type: string
                        description: Location province.
                        example: New York
                      state:
                        type: string
                        description: Location state.
                        example: New York
                      zip_code:
                        type: string
                        description: Location ZIP code.
                        example: '12207'
                        maxLength: 32
                      city:
                        type: string
                        description: Location city.
                        example: Albany
                      country_code:
                        allOf:
                          - type: string
                            enum:
                              - AF
                              - AX
                              - AL
                              - DZ
                              - AS
                              - AD
                              - AO
                              - AI
                              - AQ
                              - AG
                              - AR
                              - AM
                              - AW
                              - AU
                              - AT
                              - AZ
                              - BS
                              - BH
                              - BD
                              - BB
                              - BY
                              - BE
                              - BZ
                              - BJ
                              - BM
                              - BT
                              - BO
                              - BA
                              - BW
                              - BV
                              - BR
                              - IO
                              - BN
                              - BG
                              - BF
                              - BI
                              - KH
                              - CM
                              - CA
                              - CV
                              - KY
                              - CF
                              - TD
                              - CL
                              - CN
                              - CX
                              - CC
                              - CO
                              - KM
                              - CG
                              - CD
                              - CK
                              - CR
                              - CI
                              - HR
                              - CU
                              - CY
                              - CZ
                              - DK
                              - DJ
                              - DM
                              - DO
                              - EC
                              - EG
                              - SV
                              - GQ
                              - ER
                              - EE
                              - ET
                              - FK
                              - FO
                              - FJ
                              - FI
                              - FR
                              - GF
                              - PF
                              - TF
                              - GA
                              - GM
                              - GE
                              - DE
                              - GH
                              - GI
                              - GR
                              - GL
                              - GD
                              - GP
                              - GU
                              - GT
                              - GG
                              - GN
                              - GW
                              - GY
                              - HT
                              - HM
                              - VA
                              - HN
                              - HK
                              - HU
                              - IS
                              - IN
                              - ID
                              - IR
                              - IQ
                              - IE
                              - IM
                              - IL
                              - IT
                              - JM
                              - JP
                              - JE
                              - JO
                              - KZ
                              - KE
                              - KI
                              - KR
                              - KW
                              - KG
                              - LA
                              - LV
                              - LB
                              - LS
                              - LR
                              - LY
                              - LI
                              - LT
                              - LU
                              - MO
                              - MK
                              - MG
                              - MW
                              - MY
                              - MV
                              - ML
                              - MT
                              - MH
                              - MQ
                              - MR
                              - MU
                              - YT
                              - MX
                              - FM
                              - MD
                              - MC
                              - MN
                              - ME
                              - MS
                              - MA
                              - MZ
                              - MM
                              - NA
                              - NR
                              - NP
                              - NL
                              - AN
                              - NC
                              - NZ
                              - NI
                              - NE
                              - NG
                              - NU
                              - NF
                              - MP
                              - 'NO'
                              - OM
                              - PK
                              - PW
                              - PS
                              - PA
                              - PG
                              - PY
                              - PE
                              - PH
                              - PN
                              - PL
                              - PT
                              - PR
                              - QA
                              - RE
                              - RO
                              - RU
                              - RW
                              - BL
                              - SH
                              - KN
                              - LC
                              - MF
                              - PM
                              - VC
                              - WS
                              - SM
                              - ST
                              - SA
                              - SN
                              - RS
                              - SC
                              - SL
                              - SG
                              - SK
                              - SI
                              - SB
                              - SO
                              - ZA
                              - GS
                              - ES
                              - LK
                              - SD
                              - SR
                              - SJ
                              - SZ
                              - SE
                              - CH
                              - SY
                              - TW
                              - TJ
                              - TZ
                              - TH
                              - TL
                              - TG
                              - TK
                              - TO
                              - TT
                              - TN
                              - TR
                              - TM
                              - TC
                              - TV
                              - UG
                              - UA
                              - AE
                              - GB
                              - US
                              - UM
                              - UY
                              - UZ
                              - VU
                              - VE
                              - VN
                              - VG
                              - VI
                              - WF
                              - EH
                              - YE
                              - ZM
                              - ZW
                            description: >-
                              Country code in upper-case ISO 3166 Alpha-2
                              format.
                            example: DE
              shipping_origin:
                description: The origin of goods address, e.g. physical address of a store.
                allOf:
                  - type: object
                    properties:
                      store_id:
                        type: string
                        description: NewStore Store ID of the address.
                        example: Munich-store
                      address_line_1:
                        type: string
                        description: Location address line 1.
                        example: 81 Elk Rd Little
                      address_line_2:
                        type: string
                        description: Location address line 2.
                      province:
                        type: string
                        description: Location province.
                        example: New York
                      state:
                        type: string
                        description: Location state.
                        example: New York
                      zip_code:
                        type: string
                        description: Location ZIP code.
                        example: '12207'
                        maxLength: 32
                      city:
                        type: string
                        description: Location city.
                        example: Albany
                      country_code:
                        allOf:
                          - type: string
                            enum:
                              - AF
                              - AX
                              - AL
                              - DZ
                              - AS
                              - AD
                              - AO
                              - AI
                              - AQ
                              - AG
                              - AR
                              - AM
                              - AW
                              - AU
                              - AT
                              - AZ
                              - BS
                              - BH
                              - BD
                              - BB
                              - BY
                              - BE
                              - BZ
                              - BJ
                              - BM
                              - BT
                              - BO
                              - BA
                              - BW
                              - BV
                              - BR
                              - IO
                              - BN
                              - BG
                              - BF
                              - BI
                              - KH
                              - CM
                              - CA
                              - CV
                              - KY
                              - CF
                              - TD
                              - CL
                              - CN
                              - CX
                              - CC
                              - CO
                              - KM
                              - CG
                              - CD
                              - CK
                              - CR
                              - CI
                              - HR
                              - CU
                              - CY
                              - CZ
                              - DK
                              - DJ
                              - DM
                              - DO
                              - EC
                              - EG
                              - SV
                              - GQ
                              - ER
                              - EE
                              - ET
                              - FK
                              - FO
                              - FJ
                              - FI
                              - FR
                              - GF
                              - PF
                              - TF
                              - GA
                              - GM
                              - GE
                              - DE
                              - GH
                              - GI
                              - GR
                              - GL
                              - GD
                              - GP
                              - GU
                              - GT
                              - GG
                              - GN
                              - GW
                              - GY
                              - HT
                              - HM
                              - VA
                              - HN
                              - HK
                              - HU
                              - IS
                              - IN
                              - ID
                              - IR
                              - IQ
                              - IE
                              - IM
                              - IL
                              - IT
                              - JM
                              - JP
                              - JE
                              - JO
                              - KZ
                              - KE
                              - KI
                              - KR
                              - KW
                              - KG
                              - LA
                              - LV
                              - LB
                              - LS
                              - LR
                              - LY
                              - LI
                              - LT
                              - LU
                              - MO
                              - MK
                              - MG
                              - MW
                              - MY
                              - MV
                              - ML
                              - MT
                              - MH
                              - MQ
                              - MR
                              - MU
                              - YT
                              - MX
                              - FM
                              - MD
                              - MC
                              - MN
                              - ME
                              - MS
                              - MA
                              - MZ
                              - MM
                              - NA
                              - NR
                              - NP
                              - NL
                              - AN
                              - NC
                              - NZ
                              - NI
                              - NE
                              - NG
                              - NU
                              - NF
                              - MP
                              - 'NO'
                              - OM
                              - PK
                              - PW
                              - PS
                              - PA
                              - PG
                              - PY
                              - PE
                              - PH
                              - PN
                              - PL
                              - PT
                              - PR
                              - QA
                              - RE
                              - RO
                              - RU
                              - RW
                              - BL
                              - SH
                              - KN
                              - LC
                              - MF
                              - PM
                              - VC
                              - WS
                              - SM
                              - ST
                              - SA
                              - SN
                              - RS
                              - SC
                              - SL
                              - SG
                              - SK
                              - SI
                              - SB
                              - SO
                              - ZA
                              - GS
                              - ES
                              - LK
                              - SD
                              - SR
                              - SJ
                              - SZ
                              - SE
                              - CH
                              - SY
                              - TW
                              - TJ
                              - TZ
                              - TH
                              - TL
                              - TG
                              - TK
                              - TO
                              - TT
                              - TN
                              - TR
                              - TM
                              - TC
                              - TV
                              - UG
                              - UA
                              - AE
                              - GB
                              - US
                              - UM
                              - UY
                              - UZ
                              - VU
                              - VE
                              - VN
                              - VG
                              - VI
                              - WF
                              - EH
                              - YE
                              - ZM
                              - ZW
                            description: >-
                              Country code in upper-case ISO 3166 Alpha-2
                              format.
                            example: DE
              type:
                allOf:
                  - type: string
                    enum:
                      - gift-card
                      - gift-wrapping
                      - product
                      - shipping
                    description: Type of the item.
                    example: product
              currency_consumer:
                type: string
                description: Currency code shown and billed to the consumer.
                example: USD
              consumer_uuid:
                type: string
                description: UUID of the consumer.
              product_name:
                type: string
                description: Human-readable name of the product.
                example: Metallica shirt
                maxLength: 512
              product_sku:
                type: string
                description: SKU of the product.
                example: AIk-0790
                maxLength: 256
              product_id:
                type: string
                description: Unique identifier of the product.
                example: '123'
              extended_attributes:
                description: The item's list of extended attributes.
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                      description: The name of the extended attribute.
                      example: size
                    value:
                      type: string
                      description: The value of the extended attribute.
                      example: '36'
                  required:
                    - name
                    - value
              id:
                type: string
                description: Unique identifier of the item.
                example: '123'
              handling_charges:
                type: number
                description: Cost of handling.
                example: 10
                format: double
            required:
              - price_line_item
              - price_net
              - price_tax
              - tax_rates
              - tax_class
              - tax_method
              - item_price
              - quantity
              - shipping_address
              - shipping_origin
              - type
        document_id:
          type: string
          description: The documentId of the created tax transaction.
          example: '123'
        totals:
          description: The transaction total amounts.
          allOf:
            - type: object
              properties:
                net_total:
                  type: number
                  description: >-
                    The sum of net prices of all the items including shipping
                    and gift wrapping
                  example: 180
                  format: double
                subtotal:
                  type: number
                  description: >-
                    The sum of item prices incl. or excl. tax (depending on tax
                    method).
                  example: 180
                  format: double
                grand_total:
                  type: number
                  description: The amount consumer has to pay for the order.
                  example: 200
                  format: double
                tax_total:
                  type: number
                  description: The total tax sum (grand total tax incl. shipping tax).
                  example: 20
                  format: double
                shipping_total:
                  type: number
                  description: The total shipping amount.
                  example: 5
                  format: double
                shipping_tax_amount:
                  type: number
                  description: The shipping tax amount.
                  example: 5
                  format: double
                discount_total:
                  type: number
                  description: The total discount amount.
                  example: 5
                  format: double
                tax_strategy:
                  allOf:
                    - type: string
                      enum:
                        - fixedrate
                        - fixed_rate_per_country
                        - avalara
                        - vertex
                        - custom
                      description: Tax calculation strategy.
                      example: fixedrate
                tax_rates_summary:
                  description: >-
                    Summary of the tax rates applied on the line items of the
                    transaction grouped by the tax name and tax rate.
                  type: array
                  items:
                    type: object
                    properties:
                      rate:
                        type: number
                        description: >-
                          Tax percent value for this tax rate item, e.g. 0.19
                          means 19% tax.
                        example: 0.19
                        format: double
                      amount:
                        type: number
                        description: >-
                          Monetary tax amount for the unit price corresponding
                          to this tax_rate item's percent value, e.g. 3.37.
                        example: 10
                        format: double
                      tax_name:
                        type: string
                        description: Name of the applied tax.
                        example: Colorado retail delivery fee
                      country_code:
                        type: string
                        description: Country of jurisdiction for the applied tax.
                        example: US
                      taxable_amount:
                        type: number
                        description: >-
                          The taxable item net amount on which the tax is
                          chargeable.
                        example: 10
                        format: double
                      exempt_amount:
                        type: number
                        description: The item net amount which has been tax exempt.
                        example: 10
                        format: double
                      tax_status:
                        allOf:
                          - type: string
                            enum:
                              - EXEMPT
                              - TAXABLE
                              - NOT_TAXABLE
                            description: >-
                              Type of the tax status applied to the tax line

                                  * `TAXABLE`: Taxes are applied to the tax line.

                              * `NOT_TAXABLE`: No taxes are applied to the tax
                              line.


                              * `EXEMPT`: Taxes are exempt for the tax line.
                            example: EXEMPT
                    required:
                      - rate
                      - amount
                      - tax_name
                      - country_code
              required:
                - net_total
                - subtotal
                - grand_total
                - tax_total
                - shipping_total
                - shipping_tax_amount
                - discount_total
                - tax_strategy
                - tax_rates_summary
        tax_exempt:
          type: boolean
          description: Defines the tax exemption status of the transaction.
          default: false
        transaction_type:
          allOf:
            - type: string
              enum:
                - SALE
                - RETURN
              description: Type of the transaction.
              example: SALE
        order_id:
          type: string
          description: >-
            The order ID that will be used as a reference to link the order to
            the created tax transaction in the tax provider records.

            * In case the order ID is not provided then a randomly generated
            identifier will be used instead.

            * The tax transaction will be stored by using the given value.
          example: 56bb9975-f43a-4eee-8fb2-200957eb0624
        return_id:
          type: string
          description: >-
            The return ID that will be used as a reference to link the order to
            the created tax transaction in the tax provider records.

            * The tax transaction for returns will be stored by using the given
            value.

            * If the value is not set, the return transaction will not be
            stored.
          example: 4fbcc8b3-8511-4ad1-8c9f-96b7c08db664
        exemption_number:
          type: string
          description: >-
            The number of the customer's exemption certificate.

            * The given value can be verified by the auditors in the event of a
            tax audit.
        fallback_error:
          description: >-
            The optional error of the original tax provider execution that
            triggered the execution of the fall-back tax provider. Will be
            returned when the orignal tax provider failure occurs.
          allOf:
            - type: object
              properties:
                error_code:
                  allOf:
                    - type: string
                      enum:
                        - taxes_unexpected_error
                        - taxes_tenant_missing
                        - taxes_config_already_exists
                        - taxes_config_not_found
                        - taxes_provider_config_missing
                        - taxes_tenant_config_required
                        - taxes_rounding_failed
                        - taxes_xml_parsing_failed
                        - taxes_provider_error_response
                        - taxes_provider_unexpected_response
                        - taxes_provider_client_error_response
                        - taxes_provider_invalid_credentials
                        - taxes_address_validation_failed
                        - taxes_provider_config_validation_failed
                        - taxes_provider_generic_error
                        - taxes_provider_invalid_response
                        - taxes_transaction_not_found
                        - taxes_commit_integration_error
                        - reverse_calculation_provider_error
                        - transaction_modification_not_allowed
                      description: The error code from the underlying tax provider.
                      example: taxes_address_validation_failed
                message:
                  type: string
                  description: The error message of the underlying tax provider.
                  example: >-
                    Avalara request returned an incomplete or invalid address
                    error
                original_tax_provider:
                  allOf:
                    - type: string
                      enum:
                        - fixedrate
                        - fixed_rate_per_country
                        - avalara
                        - vertex
                        - custom
                      description: Tax calculation strategy.
                      example: fixedrate
              required:
                - error_code
                - message
                - original_tax_provider
        exemption_class:
          allOf:
            - type: string
              enum:
                - FEDERAL_GOVERNMENT
                - STATE_GOVERNMENT
                - TRIBAL_GOVERNMENT
                - LOCAL_GOVERNMENT
                - FOREIGN_DIPLOMAT
                - CHARITY_ORGANIZATION
                - RELIGIOUS_ORGANIZATION
                - EDUCATIONAL_ORGANIZATION
                - RESALE
                - DIRECT_PAY_PERMIT
                - OTHER
                - NON_RESIDENT
                - FIRST_NATION_CITIZEN
                - CUSTOM_*
              description: >-
                The tax exemption class that identifies the customer's
                group/organization that accredited them with the tax exemption
                status.

                * For custom tax exemption classes, the `CUSTOM_` prefix with a
                UPPER_SNAKE_CASE key can be used. Example: `CUSTOM_CANADA`
              example: CHARITY_ORGANIZATION
        calculation_mode:
          allOf:
            - type: string
              enum:
                - STANDARD
                - REVERSE
              description: >-
                Type of the tax calculation


                * `STANDARD`: Standard tax calculation (default).

                * Taxes will be calculated for each line from `item_price *
                quantity` respecting the `tax_method` (tax incl./excl.).



                * `REVERSE`: Reverse calculation of taxes from the total amount
                paid by customer (e.g. for injected offline or e-comm orders).

                * Taxes will be calculated from `price_line_item` (total gross
                amount for given quantity) regardless of `tax_method` (tax
                incl./excl.).
              example: STANDARD
      required:
        - items
        - document_id
        - totals
    TransactionUpdateDto:
      type: object
      properties:
        order_id:
          type: string
          description: >-
            The order ID that will be used as a reference to link the order to
            the created tax transaction in the tax provider records.

            * In case the order ID is not provided then a randomly generated
            identifier will be used instead.

            * The tax transaction will be stored by using the given value.
          example: 56bb9975-f43a-4eee-8fb2-200957eb0624
      required:
        - order_id
